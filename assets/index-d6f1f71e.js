var kN=Object.defineProperty;var EN=(r,e,t)=>e in r?kN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var El=(r,e,t)=>(EN(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function po(r,e){const t=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)t[n[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}function v0(r){if(Ge(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],i=Sr(n)?RN(n):v0(n);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Sr(r))return r;if(Ut(r))return r}}const QN=/;(?![^(]*\))/g,NN=/:([^]+)/,IN=/\/\*.*?\*\//gs;function RN(r){const e={};return r.replace(IN,"").split(QN).forEach(t=>{if(t){const n=t.split(NN);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function w0(r){let e="";if(Sr(r))e=r;else if(Ge(r))for(let t=0;t<r.length;t++){const n=w0(r[t]);n&&(e+=n+" ")}else if(Ut(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const MN="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",BN="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",zN=po(MN),FN=po(BN),DN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UN=po(DN);function H$(r){return!!r||r===""}const si=r=>Sr(r)?r:r==null?"":Ge(r)||Ut(r)&&(r.toString===tC||!it(r.toString))?JSON.stringify(r,K$,2):String(r),K$=(r,e)=>e&&e.__v_isRef?K$(r,e.value):Uo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,i])=>(t[`${n} =>`]=i,t),{})}:eC(e)?{[`Set(${e.size})`]:[...e.values()]}:Ut(e)&&!Ge(e)&&!rC(e)?String(e):e,Ft=Object.freeze({}),Ya=Object.freeze([]),Nn=()=>{},J$=()=>!1,qN=/^on[^a-z]/,Hc=r=>qN.test(r),gh=r=>r.startsWith("onUpdate:"),Cr=Object.assign,$0=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},LN=Object.prototype.hasOwnProperty,bt=(r,e)=>LN.call(r,e),Ge=Array.isArray,Uo=r=>Pd(r)==="[object Map]",eC=r=>Pd(r)==="[object Set]",it=r=>typeof r=="function",Sr=r=>typeof r=="string",C0=r=>typeof r=="symbol",Ut=r=>r!==null&&typeof r=="object",T0=r=>Ut(r)&&it(r.then)&&it(r.catch),tC=Object.prototype.toString,Pd=r=>tC.call(r),P0=r=>Pd(r).slice(8,-1),rC=r=>Pd(r)==="[object Object]",_0=r=>Sr(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Lf=po(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jN=po("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),_d=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},VN=/-(\w)/g,sl=_d(r=>r.replace(VN,(e,t)=>t?t.toUpperCase():"")),ZN=/\B([A-Z])/g,ro=_d(r=>r.replace(ZN,"-$1").toLowerCase()),Ad=_d(r=>r.charAt(0).toUpperCase()+r.slice(1)),_o=_d(r=>r?`on${Ad(r)}`:""),bc=(r,e)=>!Object.is(r,e),Ra=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},Oh=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},Og=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let j1;const nC=()=>j1||(j1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yh(r,...e){console.warn(`[Vue warn] ${r}`,...e)}let Un;class iC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Un,!e&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Un;try{return Un=this,e()}finally{Un=t}}else yh("cannot run an inactive effect scope.")}on(){Un=this}off(){Un=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function sC(r){return new iC(r)}function WN(r,e=Un){e&&e.active&&e.effects.push(r)}function oC(){return Un}function XN(r){Un?Un.cleanups.push(r):yh("onScopeDispose() is called when there is no active effect scope to be associated with.")}const A0=r=>{const e=new Set(r);return e.w=0,e.n=0,e},aC=r=>(r.w&no)>0,lC=r=>(r.n&no)>0,YN=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=no},GN=r=>{const{deps:e}=r;if(e.length){let t=0;for(let n=0;n<e.length;n++){const i=e[n];aC(i)&&!lC(i)?i.delete(r):e[t++]=i,i.w&=~no,i.n&=~no}e.length=t}},xh=new WeakMap;let Xl=0,no=1;const yg=30;let gn;const qo=Symbol("iterate"),xg=Symbol("Map key iterate");class k0{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,WN(this,n)}run(){if(!this.active)return this.fn();let e=gn,t=Hs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=gn,gn=this,Hs=!0,no=1<<++Xl,Xl<=yg?YN(this):V1(this),this.fn()}finally{Xl<=yg&&GN(this),no=1<<--Xl,gn=this.parent,Hs=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gn===this?this.deferStop=!0:this.active&&(V1(this),this.onStop&&this.onStop(),this.active=!1)}}function V1(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let Hs=!0;const cC=[];function oa(){cC.push(Hs),Hs=!1}function aa(){const r=cC.pop();Hs=r===void 0?!0:r}function Bn(r,e,t){if(Hs&&gn){let n=xh.get(r);n||xh.set(r,n=new Map);let i=n.get(t);i||n.set(t,i=A0()),uC(i,{effect:gn,target:r,type:e,key:t})}}function uC(r,e){let t=!1;Xl<=yg?lC(r)||(r.n|=no,t=!aC(r)):t=!r.has(gn),t&&(r.add(gn),gn.deps.push(r),gn.onTrack&&gn.onTrack(Object.assign({effect:gn},e)))}function vs(r,e,t,n,i,s){const o=xh.get(r);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&Ge(r)){const c=Number(n);o.forEach((u,f)=>{(f==="length"||f>=c)&&a.push(u)})}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":Ge(r)?_0(t)&&a.push(o.get("length")):(a.push(o.get(qo)),Uo(r)&&a.push(o.get(xg)));break;case"delete":Ge(r)||(a.push(o.get(qo)),Uo(r)&&a.push(o.get(xg)));break;case"set":Uo(r)&&a.push(o.get(qo));break}const l={target:r,type:e,key:t,newValue:n,oldValue:i,oldTarget:s};if(a.length===1)a[0]&&bg(a[0],l);else{const c=[];for(const u of a)u&&c.push(...u);bg(A0(c),l)}}function bg(r,e){const t=Ge(r)?r:[...r];for(const n of t)n.computed&&Z1(n,e);for(const n of t)n.computed||Z1(n,e)}function Z1(r,e){(r!==gn||r.allowRecurse)&&(r.onTrigger&&r.onTrigger(Cr({effect:r},e)),r.scheduler?r.scheduler():r.run())}function HN(r,e){var t;return(t=xh.get(r))===null||t===void 0?void 0:t.get(e)}const KN=po("__proto__,__v_isRef,__isVue"),fC=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(C0)),JN=kd(),eI=kd(!1,!0),tI=kd(!0),rI=kd(!0,!0),W1=nI();function nI(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const n=He(this);for(let s=0,o=this.length;s<o;s++)Bn(n,"get",s+"");const i=n[e](...t);return i===-1||i===!1?n[e](...t.map(He)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){oa();const n=He(this)[e].apply(this,t);return aa(),n}}),r}function iI(r){const e=He(this);return Bn(e,"has",r),e.hasOwnProperty(r)}function kd(r=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(r?e?xC:yC:e?OC:gC).get(n))return n;const o=Ge(n);if(!r){if(o&&bt(W1,i))return Reflect.get(W1,i,s);if(i==="hasOwnProperty")return iI}const a=Reflect.get(n,i,s);return(C0(i)?fC.has(i):KN(i))||(r||Bn(n,"get",i),e)?a:jt(a)?o&&_0(i)?a:a.value:Ut(a)?r?bC(a):Nd(a):a}}const sI=hC(),oI=hC(!0);function hC(r=!1){return function(t,n,i,s){let o=t[n];if(io(o)&&jt(o)&&!jt(i))return!1;if(!r&&(!bh(i)&&!io(i)&&(o=He(o),i=He(i)),!Ge(t)&&jt(o)&&!jt(i)))return o.value=i,!0;const a=Ge(t)&&_0(n)?Number(n)<t.length:bt(t,n),l=Reflect.set(t,n,i,s);return t===He(s)&&(a?bc(i,o)&&vs(t,"set",n,i,o):vs(t,"add",n,i)),l}}function aI(r,e){const t=bt(r,e),n=r[e],i=Reflect.deleteProperty(r,e);return i&&t&&vs(r,"delete",e,void 0,n),i}function lI(r,e){const t=Reflect.has(r,e);return(!C0(e)||!fC.has(e))&&Bn(r,"has",e),t}function cI(r){return Bn(r,"iterate",Ge(r)?"length":qo),Reflect.ownKeys(r)}const dC={get:JN,set:sI,deleteProperty:aI,has:lI,ownKeys:cI},pC={get:tI,set(r,e){return yh(`Set operation on key "${String(e)}" failed: target is readonly.`,r),!0},deleteProperty(r,e){return yh(`Delete operation on key "${String(e)}" failed: target is readonly.`,r),!0}},uI=Cr({},dC,{get:eI,set:oI}),fI=Cr({},pC,{get:rI}),E0=r=>r,Ed=r=>Reflect.getPrototypeOf(r);function Nu(r,e,t=!1,n=!1){r=r.__v_raw;const i=He(r),s=He(e);t||(e!==s&&Bn(i,"get",e),Bn(i,"get",s));const{has:o}=Ed(i),a=n?E0:t?Q0:Sc;if(o.call(i,e))return a(r.get(e));if(o.call(i,s))return a(r.get(s));r!==i&&r.get(e)}function Iu(r,e=!1){const t=this.__v_raw,n=He(t),i=He(r);return e||(r!==i&&Bn(n,"has",r),Bn(n,"has",i)),r===i?t.has(r):t.has(r)||t.has(i)}function Ru(r,e=!1){return r=r.__v_raw,!e&&Bn(He(r),"iterate",qo),Reflect.get(r,"size",r)}function X1(r){r=He(r);const e=He(this);return Ed(e).has.call(e,r)||(e.add(r),vs(e,"add",r,r)),this}function Y1(r,e){e=He(e);const t=He(this),{has:n,get:i}=Ed(t);let s=n.call(t,r);s?mC(t,n,r):(r=He(r),s=n.call(t,r));const o=i.call(t,r);return t.set(r,e),s?bc(e,o)&&vs(t,"set",r,e,o):vs(t,"add",r,e),this}function G1(r){const e=He(this),{has:t,get:n}=Ed(e);let i=t.call(e,r);i?mC(e,t,r):(r=He(r),i=t.call(e,r));const s=n?n.call(e,r):void 0,o=e.delete(r);return i&&vs(e,"delete",r,void 0,s),o}function H1(){const r=He(this),e=r.size!==0,t=Uo(r)?new Map(r):new Set(r),n=r.clear();return e&&vs(r,"clear",void 0,void 0,t),n}function Mu(r,e){return function(n,i){const s=this,o=s.__v_raw,a=He(o),l=e?E0:r?Q0:Sc;return!r&&Bn(a,"iterate",qo),o.forEach((c,u)=>n.call(i,l(c),l(u),s))}}function Bu(r,e,t){return function(...n){const i=this.__v_raw,s=He(i),o=Uo(s),a=r==="entries"||r===Symbol.iterator&&o,l=r==="keys"&&o,c=i[r](...n),u=t?E0:e?Q0:Sc;return!e&&Bn(s,"iterate",l?xg:qo),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Is(r){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${Ad(r)} operation ${t}failed: target is readonly.`,He(this))}return r==="delete"?!1:this}}function hI(){const r={get(s){return Nu(this,s)},get size(){return Ru(this)},has:Iu,add:X1,set:Y1,delete:G1,clear:H1,forEach:Mu(!1,!1)},e={get(s){return Nu(this,s,!1,!0)},get size(){return Ru(this)},has:Iu,add:X1,set:Y1,delete:G1,clear:H1,forEach:Mu(!1,!0)},t={get(s){return Nu(this,s,!0)},get size(){return Ru(this,!0)},has(s){return Iu.call(this,s,!0)},add:Is("add"),set:Is("set"),delete:Is("delete"),clear:Is("clear"),forEach:Mu(!0,!1)},n={get(s){return Nu(this,s,!0,!0)},get size(){return Ru(this,!0)},has(s){return Iu.call(this,s,!0)},add:Is("add"),set:Is("set"),delete:Is("delete"),clear:Is("clear"),forEach:Mu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=Bu(s,!1,!1),t[s]=Bu(s,!0,!1),e[s]=Bu(s,!1,!0),n[s]=Bu(s,!0,!0)}),[r,t,e,n]}const[dI,pI,mI,gI]=hI();function Qd(r,e){const t=e?r?gI:mI:r?pI:dI;return(n,i,s)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(bt(t,i)&&i in n?t:n,i,s)}const OI={get:Qd(!1,!1)},yI={get:Qd(!1,!0)},xI={get:Qd(!0,!1)},bI={get:Qd(!0,!0)};function mC(r,e,t){const n=He(t);if(n!==t&&e.call(r,n)){const i=P0(r);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const gC=new WeakMap,OC=new WeakMap,yC=new WeakMap,xC=new WeakMap;function SI(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vI(r){return r.__v_skip||!Object.isExtensible(r)?0:SI(P0(r))}function Nd(r){return io(r)?r:Id(r,!1,dC,OI,gC)}function wI(r){return Id(r,!1,uI,yI,OC)}function bC(r){return Id(r,!0,pC,xI,yC)}function Ua(r){return Id(r,!0,fI,bI,xC)}function Id(r,e,t,n,i){if(!Ut(r))return console.warn(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=i.get(r);if(s)return s;const o=vI(r);if(o===0)return r;const a=new Proxy(r,o===2?n:t);return i.set(r,a),a}function _i(r){return io(r)?_i(r.__v_raw):!!(r&&r.__v_isReactive)}function io(r){return!!(r&&r.__v_isReadonly)}function bh(r){return!!(r&&r.__v_isShallow)}function Sh(r){return _i(r)||io(r)}function He(r){const e=r&&r.__v_raw;return e?He(e):r}function Si(r){return Oh(r,"__v_skip",!0),r}const Sc=r=>Ut(r)?Nd(r):r,Q0=r=>Ut(r)?bC(r):r;function SC(r){Hs&&gn&&(r=He(r),uC(r.dep||(r.dep=A0()),{target:r,type:"get",key:"value"}))}function vC(r,e){r=He(r);const t=r.dep;t&&bg(t,{target:r,type:"set",key:"value",newValue:e})}function jt(r){return!!(r&&r.__v_isRef===!0)}function yr(r){return wC(r,!1)}function Np(r){return wC(r,!0)}function wC(r,e){return jt(r)?r:new $I(r,e)}class $I{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:He(e),this._value=t?e:Sc(e)}get value(){return SC(this),this._value}set value(e){const t=this.__v_isShallow||bh(e)||io(e);e=t?e:He(e),bc(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Sc(e),vC(this,e))}}function ge(r){return jt(r)?r.value:r}const CI={get:(r,e,t)=>ge(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const i=r[e];return jt(i)&&!jt(t)?(i.value=t,!0):Reflect.set(r,e,t,n)}};function $C(r){return _i(r)?r:new Proxy(r,CI)}function K1(r){Sh(r)||console.warn("toRefs() expects a reactive object but received a plain one.");const e=Ge(r)?new Array(r.length):{};for(const t in r)e[t]=oc(r,t);return e}class TI{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return HN(He(this._object),this._key)}}function oc(r,e,t){const n=r[e];return jt(n)?n:new TI(r,e,t)}var CC;class PI{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[CC]=!1,this._dirty=!0,this.effect=new k0(e,()=>{this._dirty||(this._dirty=!0,vC(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=He(this);return SC(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}CC="__v_isReadonly";function _I(r,e,t=!1){let n,i;const s=it(r);s?(n=r,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(n=r.get,i=r.set);const o=new PI(n,i,s||!i,t);return e&&!t&&(o.effect.onTrack=e.onTrack,o.effect.onTrigger=e.onTrigger),o}const Lo=[];function jf(r){Lo.push(r)}function Vf(){Lo.pop()}function we(r,...e){oa();const t=Lo.length?Lo[Lo.length-1].component:null,n=t&&t.appContext.config.warnHandler,i=AI();if(n)xs(n,t,11,[r+e.join(""),t&&t.proxy,i.map(({vnode:s})=>`at <${Ud(t,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${r}`,...e];i.length&&s.push(`
`,...kI(i)),console.warn(...s)}aa()}function AI(){let r=Lo[Lo.length-1];if(!r)return[];const e=[];for(;r;){const t=e[0];t&&t.vnode===r?t.recurseCount++:e.push({vnode:r,recurseCount:0});const n=r.component&&r.component.parent;r=n&&n.vnode}return e}function kI(r){const e=[];return r.forEach((t,n)=>{e.push(...n===0?[]:[`
`],...EI(t))}),e}function EI({vnode:r,recurseCount:e}){const t=e>0?`... (${e} recursive calls)`:"",n=r.component?r.component.parent==null:!1,i=` at <${Ud(r.component,r.type,n)}`,s=">"+t;return r.props?[i,...QI(r.props),s]:[i+s]}function QI(r){const e=[],t=Object.keys(r);return t.slice(0,3).forEach(n=>{e.push(...TC(n,r[n]))}),t.length>3&&e.push(" ..."),e}function TC(r,e,t){return Sr(e)?(e=JSON.stringify(e),t?e:[`${r}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?t?e:[`${r}=${e}`]:jt(e)?(e=TC(r,He(e.value),!0),t?e:[`${r}=Ref<`,e,">"]):it(e)?[`${r}=fn${e.name?`<${e.name}>`:""}`]:(e=He(e),t?e:[`${r}=`,e])}const N0={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function xs(r,e,t,n){let i;try{i=n?r(...n):r()}catch(s){Rd(s,e,t)}return i}function Ai(r,e,t,n){if(it(r)){const s=xs(r,e,t,n);return s&&T0(s)&&s.catch(o=>{Rd(o,e,t)}),s}const i=[];for(let s=0;s<r.length;s++)i.push(Ai(r[s],e,t,n));return i}function Rd(r,e,t,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=N0[t];for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](r,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){xs(l,null,10,[r,o,a]);return}}NI(r,t,i,n)}function NI(r,e,t,n=!0){{const i=N0[e];if(t&&jf(t),we(`Unhandled error${i?` during execution of ${i}`:""}`),t&&Vf(),n)throw r;console.error(r)}}let vc=!1,Sg=!1;const un=[];let qi=0;const Ga=[];let Di=null,Fs=0;const PC=Promise.resolve();let I0=null;const II=100;function vg(r){const e=I0||PC;return r?e.then(this?r.bind(this):r):e}function RI(r){let e=qi+1,t=un.length;for(;e<t;){const n=e+t>>>1;wc(un[n])<r?e=n+1:t=n}return e}function Md(r){(!un.length||!un.includes(r,vc&&r.allowRecurse?qi+1:qi))&&(r.id==null?un.push(r):un.splice(RI(r.id),0,r),_C())}function _C(){!vc&&!Sg&&(Sg=!0,I0=PC.then(EC))}function MI(r){const e=un.indexOf(r);e>qi&&un.splice(e,1)}function AC(r){Ge(r)?Ga.push(...r):(!Di||!Di.includes(r,r.allowRecurse?Fs+1:Fs))&&Ga.push(r),_C()}function J1(r,e=vc?qi+1:0){for(r=r||new Map;e<un.length;e++){const t=un[e];if(t&&t.pre){if(R0(r,t))continue;un.splice(e,1),e--,t()}}}function kC(r){if(Ga.length){const e=[...new Set(Ga)];if(Ga.length=0,Di){Di.push(...e);return}for(Di=e,r=r||new Map,Di.sort((t,n)=>wc(t)-wc(n)),Fs=0;Fs<Di.length;Fs++)R0(r,Di[Fs])||Di[Fs]();Di=null,Fs=0}}const wc=r=>r.id==null?1/0:r.id,BI=(r,e)=>{const t=wc(r)-wc(e);if(t===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return t};function EC(r){Sg=!1,vc=!0,r=r||new Map,un.sort(BI);const e=t=>R0(r,t);try{for(qi=0;qi<un.length;qi++){const t=un[qi];if(t&&t.active!==!1){if(e(t))continue;xs(t,null,14)}}}finally{qi=0,un.length=0,kC(r),vc=!1,I0=null,(un.length||Ga.length)&&EC(r)}}function R0(r,e){if(!r.has(e))r.set(e,1);else{const t=r.get(e);if(t>II){const n=e.ownerInstance,i=n&&oT(n.type);return we(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else r.set(e,t+1)}}let jo=!1;const Ma=new Set;nC().__VUE_HMR_RUNTIME__={createRecord:Ip(QC),rerender:Ip(DI),reload:Ip(UI)};const Ho=new Map;function zI(r){const e=r.type.__hmrId;let t=Ho.get(e);t||(QC(e,r.type),t=Ho.get(e)),t.instances.add(r)}function FI(r){Ho.get(r.type.__hmrId).instances.delete(r)}function QC(r,e){return Ho.has(r)?!1:(Ho.set(r,{initialDef:ac(e),instances:new Set}),!0)}function ac(r){return aT(r)?r.__vccOpts:r}function DI(r,e){const t=Ho.get(r);t&&(t.initialDef.render=e,[...t.instances].forEach(n=>{e&&(n.render=e,ac(n.type).render=e),n.renderCache=[],jo=!0,n.update(),jo=!1}))}function UI(r,e){const t=Ho.get(r);if(!t)return;e=ac(e),ex(t.initialDef,e);const n=[...t.instances];for(const i of n){const s=ac(i.type);Ma.has(s)||(s!==t.initialDef&&ex(s,e),Ma.add(s)),i.appContext.optionsCache.delete(i.type),i.ceReload?(Ma.add(s),i.ceReload(e.styles),Ma.delete(s)):i.parent?Md(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}AC(()=>{for(const i of n)Ma.delete(ac(i.type))})}function ex(r,e){Cr(r,e);for(const t in r)t!=="__file"&&!(t in e)&&delete r[t]}function Ip(r){return(e,t)=>{try{return r(e,t)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Li,Yl=[],wg=!1;function Kc(r,...e){Li?Li.emit(r,...e):wg||Yl.push({event:r,args:e})}function NC(r,e){var t,n;Li=r,Li?(Li.enabled=!0,Yl.forEach(({event:i,args:s})=>Li.emit(i,...s)),Yl=[]):typeof window<"u"&&window.HTMLElement&&!(!((n=(t=window.navigator)===null||t===void 0?void 0:t.userAgent)===null||n===void 0)&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{NC(s,e)}),setTimeout(()=>{Li||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,wg=!0,Yl=[])},3e3)):(wg=!0,Yl=[])}function qI(r,e){Kc("app:init",r,e,{Fragment:vi,Text:Jc,Comment:Zn,Static:lc})}function LI(r){Kc("app:unmount",r)}const jI=M0("component:added"),IC=M0("component:updated"),VI=M0("component:removed"),ZI=r=>{Li&&typeof Li.cleanupBuffer=="function"&&!Li.cleanupBuffer(r)&&VI(r)};function M0(r){return e=>{Kc(r,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const WI=RC("perf:start"),XI=RC("perf:end");function RC(r){return(e,t,n)=>{Kc(r,e.appContext.app,e.uid,e,t,n)}}function YI(r,e,t){Kc("component:emit",r.appContext.app,r,e,t)}function GI(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||Ft;{const{emitsOptions:u,propsOptions:[f]}=r;if(u)if(!(e in u))(!f||!(_o(e)in f))&&we(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${_o(e)}" prop.`);else{const d=u[e];it(d)&&(d(...t)||we(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=t;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[u]||Ft;d&&(i=t.map(g=>Sr(g)?g.trim():g)),f&&(i=t.map(Og))}YI(r,e,i);{const u=e.toLowerCase();u!==e&&n[_o(u)]&&we(`Event "${u}" is emitted in component ${Ud(r,r.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${ro(e)}" instead of "${e}".`)}let a,l=n[a=_o(e)]||n[a=_o(sl(e))];!l&&s&&(l=n[a=_o(ro(e))]),l&&Ai(l,r,6,i);const c=n[a+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,Ai(c,r,6,i)}}function MC(r,e,t=!1){const n=e.emitsCache,i=n.get(r);if(i!==void 0)return i;const s=r.emits;let o={},a=!1;if(!it(r)){const l=c=>{const u=MC(c,e,!0);u&&(a=!0,Cr(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!s&&!a?(Ut(r)&&n.set(r,null),null):(Ge(s)?s.forEach(l=>o[l]=null):Cr(o,s),Ut(r)&&n.set(r,o),o)}function Bd(r,e){return!r||!Hc(e)?!1:(e=e.slice(2).replace(/Once$/,""),bt(r,e[0].toLowerCase()+e.slice(1))||bt(r,ro(e))||bt(r,e))}let In=null,BC=null;function vh(r){const e=In;return In=r,BC=r&&r.type.__scopeId||null,e}function HI(r,e=In,t){if(!e||r._n)return r;const n=(...i)=>{n._d&&ux(-1);const s=vh(e);let o;try{o=r(...i)}finally{vh(s),n._d&&ux(1)}return IC(e),o};return n._n=!0,n._c=!0,n._d=!0,n}let $g=!1;function wh(){$g=!0}function Rp(r){const{type:e,vnode:t,proxy:n,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:g,ctx:y,inheritAttrs:T}=r;let k,U;const _=vh(r);$g=!1;try{if(t.shapeFlag&4){const Y=i||n;k=wi(u.call(Y,Y,f,s,g,d,y)),U=l}else{const Y=e;l===s&&wh(),k=wi(Y.length>1?Y(s,{get attrs(){return wh(),l},slots:a,emit:c}):Y(s,null)),U=e.props?l:JI(l)}}catch(Y){cc.length=0,Rd(Y,r,1),k=xr(Zn)}let G=k,D;if(k.patchFlag>0&&k.patchFlag&2048&&([G,D]=KI(k)),U&&T!==!1){const Y=Object.keys(U),{shapeFlag:ee}=G;if(Y.length){if(ee&7)o&&Y.some(gh)&&(U=eR(U,o)),G=so(G,U);else if(!$g&&G.type!==Zn){const re=Object.keys(l),S=[],b=[];for(let $=0,M=re.length;$<M;$++){const Q=re[$];Hc(Q)?gh(Q)||S.push(Q[2].toLowerCase()+Q.slice(3)):b.push(Q)}b.length&&we(`Extraneous non-props attributes (${b.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),S.length&&we(`Extraneous non-emits event listeners (${S.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return t.dirs&&(tx(G)||we("Runtime directive used on component with non-element root node. The directives will not function as intended."),G=so(G),G.dirs=G.dirs?G.dirs.concat(t.dirs):t.dirs),t.transition&&(tx(G)||we("Component inside <Transition> renders non-element root node that cannot be animated."),G.transition=t.transition),D?D(G):k=G,vh(_),k}const KI=r=>{const e=r.children,t=r.dynamicChildren,n=zC(e);if(!n)return[r,void 0];const i=e.indexOf(n),s=t?t.indexOf(n):-1,o=a=>{e[i]=a,t&&(s>-1?t[s]=a:a.patchFlag>0&&(r.dynamicChildren=[...t,a]))};return[wi(n),o]};function zC(r){let e;for(let t=0;t<r.length;t++){const n=r[t];if(Cc(n)){if(n.type!==Zn||n.children==="v-if"){if(e)return;e=n}}else return}return e}const JI=r=>{let e;for(const t in r)(t==="class"||t==="style"||Hc(t))&&((e||(e={}))[t]=r[t]);return e},eR=(r,e)=>{const t={};for(const n in r)(!gh(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t},tx=r=>r.shapeFlag&7||r.type===Zn;function tR(r,e,t){const{props:n,children:i,component:s}=r,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if((i||a)&&jo||e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?rx(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!Bd(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?rx(n,o,c):!0:!!o;return!1}function rx(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==r[s]&&!Bd(t,s))return!0}return!1}function rR({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const nR=r=>r.__isSuspense;function iR(r,e){e&&e.pendingBranch?Ge(r)?e.effects.push(...r):e.effects.push(r):AC(r)}function sR(r,e){if(!br)we("provide() can only be used inside setup().");else{let t=br.provides;const n=br.parent&&br.parent.provides;n===t&&(t=br.provides=Object.create(n)),t[r]=e}}function Ha(r,e,t=!1){const n=br||In;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&r in i)return i[r];if(arguments.length>1)return t&&it(e)?e.call(n.proxy):e;we(`injection "${String(r)}" not found.`)}else we("inject() can only be used inside setup() or functional components.")}const zu={};function sn(r,e,t){return it(e)||we("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),FC(r,e,t)}function FC(r,e,{immediate:t,deep:n,flush:i,onTrack:s,onTrigger:o}=Ft){e||(t!==void 0&&we('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),n!==void 0&&we('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=D=>{we("Invalid watch source: ",D,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=oC()===(br==null?void 0:br.scope)?br:null;let c,u=!1,f=!1;if(jt(r)?(c=()=>r.value,u=bh(r)):_i(r)?(c=()=>r,n=!0):Ge(r)?(f=!0,u=r.some(D=>_i(D)||bh(D)),c=()=>r.map(D=>{if(jt(D))return D.value;if(_i(D))return zo(D);if(it(D))return xs(D,l,2);a(D)})):it(r)?e?c=()=>xs(r,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Ai(r,l,3,[g])}:(c=Nn,a(r)),e&&n){const D=c;c=()=>zo(D())}let d,g=D=>{d=_.onStop=()=>{xs(D,l,4)}},y;if(Tc)if(g=Nn,e?t&&Ai(e,l,3,[c(),f?[]:void 0,g]):c(),i==="sync"){const D=f3();y=D.__watcherHandles||(D.__watcherHandles=[])}else return Nn;let T=f?new Array(r.length).fill(zu):zu;const k=()=>{if(_.active)if(e){const D=_.run();(n||u||(f?D.some((Y,ee)=>bc(Y,T[ee])):bc(D,T)))&&(d&&d(),Ai(e,l,3,[D,T===zu?void 0:f&&T[0]===zu?[]:T,g]),T=D)}else _.run()};k.allowRecurse=!!e;let U;i==="sync"?U=k:i==="post"?U=()=>An(k,l&&l.suspense):(k.pre=!0,l&&(k.id=l.uid),U=()=>Md(k));const _=new k0(c,U);_.onTrack=s,_.onTrigger=o,e?t?k():T=_.run():i==="post"?An(_.run.bind(_),l&&l.suspense):_.run();const G=()=>{_.stop(),l&&l.scope&&$0(l.scope.effects,_)};return y&&y.push(G),G}function oR(r,e,t){const n=this.proxy,i=Sr(r)?r.includes(".")?DC(n,r):()=>n[r]:r.bind(n,n);let s;it(e)?s=e:(s=e.handler,t=e);const o=br;ol(this);const a=FC(i,s.bind(n),t);return o?ol(o):Zo(),a}function DC(r,e){const t=e.split(".");return()=>{let n=r;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}function zo(r,e){if(!Ut(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),jt(r))zo(r.value,e);else if(Ge(r))for(let t=0;t<r.length;t++)zo(r[t],e);else if(eC(r)||Uo(r))r.forEach(t=>{zo(t,e)});else if(rC(r))for(const t in r)zo(r[t],e);return r}function mo(r){return it(r)?{setup:r,name:r.name}:r}const Zf=r=>!!r.type.__asyncLoader,B0=r=>r.type.__isKeepAlive;function aR(r,e){UC(r,"a",e)}function lR(r,e){UC(r,"da",e)}function UC(r,e,t=br){const n=r.__wdc||(r.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(zd(e,n,t),t){let i=t.parent;for(;i&&i.parent;)B0(i.parent.vnode)&&cR(n,e,t,i),i=i.parent}}function cR(r,e,t,n){const i=zd(e,r,n,!0);LC(()=>{$0(n[e],i)},t)}function zd(r,e,t=br,n=!1){if(t){const i=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;oa(),ol(t);const a=Ai(e,t,r,o);return Zo(),aa(),a});return n?i.unshift(s):i.push(s),s}else{const i=_o(N0[r].replace(/ hook$/,""));we(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Ps=r=>(e,t=br)=>(!Tc||r==="sp")&&zd(r,(...n)=>e(...n),t),uR=Ps("bm"),z0=Ps("m"),fR=Ps("bu"),hR=Ps("u"),qC=Ps("bum"),LC=Ps("um"),dR=Ps("sp"),pR=Ps("rtg"),mR=Ps("rtc");function gR(r,e=br){zd("ec",r,e)}function jC(r){jN(r)&&we("Do not use built-in directive ids as custom directive id: "+r)}function Ht(r,e){const t=In;if(t===null)return we("withDirectives can only be used inside render functions."),r;const n=Dd(t)||t.proxy,i=r.dirs||(r.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=Ft]=e[s];o&&(it(o)&&(o={mounted:o,updated:o}),o.deep&&zo(a),i.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return r}function bo(r,e,t,n){const i=r.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(oa(),Ai(l,t,8,[r.el,a,r,e]),aa())}}const OR=Symbol(),Cg=r=>r?iT(r)?Dd(r)||r.proxy:Cg(r.parent):null,Vo=Cr(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>Ua(r.props),$attrs:r=>Ua(r.attrs),$slots:r=>Ua(r.slots),$refs:r=>Ua(r.refs),$parent:r=>Cg(r.parent),$root:r=>Cg(r.root),$emit:r=>r.emit,$options:r=>D0(r),$forceUpdate:r=>r.f||(r.f=()=>Md(r.update)),$nextTick:r=>r.n||(r.n=vg.bind(r.proxy)),$watch:r=>oR.bind(r)}),F0=r=>r==="_"||r==="$",Mp=(r,e)=>r!==Ft&&!r.__isScriptSetup&&bt(r,e),VC={get({_:r},e){const{ctx:t,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:l}=r;if(e==="__isVue")return!0;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return s[e]}else{if(Mp(n,e))return o[e]=1,n[e];if(i!==Ft&&bt(i,e))return o[e]=2,i[e];if((c=r.propsOptions[0])&&bt(c,e))return o[e]=3,s[e];if(t!==Ft&&bt(t,e))return o[e]=4,t[e];Tg&&(o[e]=0)}}const u=Vo[e];let f,d;if(u)return e==="$attrs"&&(Bn(r,"get",e),wh()),u(r);if((f=a.__cssModules)&&(f=f[e]))return f;if(t!==Ft&&bt(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,bt(d,e))return d[e];In&&(!Sr(e)||e.indexOf("__v")!==0)&&(i!==Ft&&F0(e[0])&&bt(i,e)?we(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):r===In&&we(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:r},e,t){const{data:n,setupState:i,ctx:s}=r;return Mp(i,e)?(i[e]=t,!0):i.__isScriptSetup&&bt(i,e)?(we(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):n!==Ft&&bt(n,e)?(n[e]=t,!0):bt(r.props,e)?(we(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in r?(we(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in r.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:t}):s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!t[o]||r!==Ft&&bt(r,o)||Mp(e,o)||(a=s[0])&&bt(a,o)||bt(n,o)||bt(Vo,o)||bt(i.config.globalProperties,o)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:bt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};VC.ownKeys=r=>(we("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(r));function yR(r){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>r}),Object.keys(Vo).forEach(t=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:()=>Vo[t](r),set:Nn})}),e}function xR(r){const{ctx:e,propsOptions:[t]}=r;t&&Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.props[n],set:Nn})})}function bR(r){const{ctx:e,setupState:t}=r;Object.keys(He(t)).forEach(n=>{if(!t.__isScriptSetup){if(F0(n[0])){we(`setup() return property ${JSON.stringify(n)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>t[n],set:Nn})}})}function SR(){const r=Object.create(null);return(e,t)=>{r[t]?we(`${e} property "${t}" is already defined in ${r[t]}.`):r[t]=e}}let Tg=!0;function vR(r){const e=D0(r),t=r.proxy,n=r.ctx;Tg=!1,e.beforeCreate&&nx(e.beforeCreate,r,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:g,updated:y,activated:T,deactivated:k,beforeDestroy:U,beforeUnmount:_,destroyed:G,unmounted:D,render:Y,renderTracked:ee,renderTriggered:re,errorCaptured:S,serverPrefetch:b,expose:$,inheritAttrs:M,components:Q,directives:L,filters:W}=e,N=SR();{const[z]=r.propsOptions;if(z)for(const B in z)N("Props",B)}if(c&&wR(c,n,N,r.appContext.config.unwrapInjectedRef),o)for(const z in o){const B=o[z];it(B)?(Object.defineProperty(n,z,{value:B.bind(t),configurable:!0,enumerable:!0,writable:!0}),N("Methods",z)):we(`Method "${z}" has type "${typeof B}" in the component definition. Did you reference the function correctly?`)}if(i){it(i)||we("The data option must be a function. Plain object usage is no longer supported.");const z=i.call(t,t);if(T0(z)&&we("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Ut(z))we("data() should return an object.");else{r.data=Nd(z);for(const B in z)N("Data",B),F0(B[0])||Object.defineProperty(n,B,{configurable:!0,enumerable:!0,get:()=>z[B],set:Nn})}}if(Tg=!0,s)for(const z in s){const B=s[z],J=it(B)?B.bind(t,t):it(B.get)?B.get.bind(t,t):Nn;J===Nn&&we(`Computed property "${z}" has no getter.`);const $e=!it(B)&&it(B.set)?B.set.bind(t):()=>{we(`Write operation failed: computed property "${z}" is readonly.`)},Se=eu({get:J,set:$e});Object.defineProperty(n,z,{enumerable:!0,configurable:!0,get:()=>Se.value,set:Ie=>Se.value=Ie}),N("Computed",z)}if(a)for(const z in a)ZC(a[z],n,t,z);if(l){const z=it(l)?l.call(t):l;Reflect.ownKeys(z).forEach(B=>{sR(B,z[B])})}u&&nx(u,r,"c");function I(z,B){Ge(B)?B.forEach(J=>z(J.bind(t))):B&&z(B.bind(t))}if(I(uR,f),I(z0,d),I(fR,g),I(hR,y),I(aR,T),I(lR,k),I(gR,S),I(mR,ee),I(pR,re),I(qC,_),I(LC,D),I(dR,b),Ge($))if($.length){const z=r.exposed||(r.exposed={});$.forEach(B=>{Object.defineProperty(z,B,{get:()=>t[B],set:J=>t[B]=J})})}else r.exposed||(r.exposed={});Y&&r.render===Nn&&(r.render=Y),M!=null&&(r.inheritAttrs=M),Q&&(r.components=Q),L&&(r.directives=L)}function wR(r,e,t=Nn,n=!1){Ge(r)&&(r=Pg(r));for(const i in r){const s=r[i];let o;Ut(s)?"default"in s?o=Ha(s.from||i,s.default,!0):o=Ha(s.from||i):o=Ha(s),jt(o)?n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):(we(`injected property "${i}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),e[i]=o):e[i]=o,t("Inject",i)}}function nx(r,e,t){Ai(Ge(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function ZC(r,e,t,n){const i=n.includes(".")?DC(t,n):()=>t[n];if(Sr(r)){const s=e[r];it(s)?sn(i,s):we(`Invalid watch handler specified by key "${r}"`,s)}else if(it(r))sn(i,r.bind(t));else if(Ut(r))if(Ge(r))r.forEach(s=>ZC(s,e,t,n));else{const s=it(r.handler)?r.handler.bind(t):e[r.handler];it(s)?sn(i,s,r):we(`Invalid watch handler specified by key "${r.handler}"`,s)}else we(`Invalid watch option: "${n}"`,r)}function D0(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=r.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!t&&!n?l=e:(l={},i.length&&i.forEach(c=>$h(l,c,o,!0)),$h(l,e,o)),Ut(e)&&s.set(e,l),l}function $h(r,e,t,n=!1){const{mixins:i,extends:s}=e;s&&$h(r,s,t,!0),i&&i.forEach(o=>$h(r,o,t,!0));for(const o in e)if(n&&o==="expose")we('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=$R[o]||t&&t[o];r[o]=a?a(r[o],e[o]):e[o]}return r}const $R={data:ix,props:Ao,emits:Ao,methods:Ao,computed:Ao,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:Ao,directives:Ao,watch:TR,provide:ix,inject:CR};function ix(r,e){return e?r?function(){return Cr(it(r)?r.call(this,this):r,it(e)?e.call(this,this):e)}:e:r}function CR(r,e){return Ao(Pg(r),Pg(e))}function Pg(r){if(Ge(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function pn(r,e){return r?[...new Set([].concat(r,e))]:e}function Ao(r,e){return r?Cr(Cr(Object.create(null),r),e):e}function TR(r,e){if(!r)return e;if(!e)return r;const t=Cr(Object.create(null),r);for(const n in e)t[n]=pn(r[n],e[n]);return t}function PR(r,e,t,n=!1){const i={},s={};Oh(s,Fd,1),r.propsDefaults=Object.create(null),WC(r,e,i,s);for(const o in r.propsOptions[0])o in i||(i[o]=void 0);YC(e||{},i,r),t?r.props=n?i:wI(i):r.type.props?r.props=i:r.props=s,r.attrs=s}function _R(r){for(;r;){if(r.type.__hmrId)return!0;r=r.parent}}function AR(r,e,t,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=r,a=He(i),[l]=r.propsOptions;let c=!1;if(!_R(r)&&(n||o>0)&&!(o&16)){if(o&8){const u=r.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Bd(r.emitsOptions,d))continue;const g=e[d];if(l)if(bt(s,d))g!==s[d]&&(s[d]=g,c=!0);else{const y=sl(d);i[y]=_g(l,a,y,g,r,!1)}else g!==s[d]&&(s[d]=g,c=!0)}}}else{WC(r,e,i,s)&&(c=!0);let u;for(const f in a)(!e||!bt(e,f)&&((u=ro(f))===f||!bt(e,u)))&&(l?t&&(t[f]!==void 0||t[u]!==void 0)&&(i[f]=_g(l,a,f,void 0,r,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!bt(e,f))&&(delete s[f],c=!0)}c&&vs(r,"set","$attrs"),YC(e||{},i,r)}function WC(r,e,t,n){const[i,s]=r.propsOptions;let o=!1,a;if(e)for(let l in e){if(Lf(l))continue;const c=e[l];let u;i&&bt(i,u=sl(l))?!s||!s.includes(u)?t[u]=c:(a||(a={}))[u]=c:Bd(r.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=He(t),c=a||Ft;for(let u=0;u<s.length;u++){const f=s[u];t[f]=_g(i,l,f,c[f],r,!bt(c,f))}}return o}function _g(r,e,t,n,i,s){const o=r[t];if(o!=null){const a=bt(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&it(l)){const{propsDefaults:c}=i;t in c?n=c[t]:(ol(i),n=c[t]=l.call(null,e),Zo())}else n=l}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===ro(t))&&(n=!0))}return n}function XC(r,e,t=!1){const n=e.propsCache,i=n.get(r);if(i)return i;const s=r.props,o={},a=[];let l=!1;if(!it(r)){const u=f=>{l=!0;const[d,g]=XC(f,e,!0);Cr(o,d),g&&a.push(...g)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!s&&!l)return Ut(r)&&n.set(r,Ya),Ya;if(Ge(s))for(let u=0;u<s.length;u++){Sr(s[u])||we("props must be strings when using array syntax.",s[u]);const f=sl(s[u]);sx(f)&&(o[f]=Ft)}else if(s){Ut(s)||we("invalid props options",s);for(const u in s){const f=sl(u);if(sx(f)){const d=s[u],g=o[f]=Ge(d)||it(d)?{type:d}:Object.assign({},d);if(g){const y=ax(Boolean,g.type),T=ax(String,g.type);g[0]=y>-1,g[1]=T<0||y<T,(y>-1||bt(g,"default"))&&a.push(f)}}}}const c=[o,a];return Ut(r)&&n.set(r,c),c}function sx(r){return r[0]!=="$"?!0:(we(`Invalid prop name: "${r}" is a reserved property.`),!1)}function Ag(r){const e=r&&r.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:r===null?"null":""}function ox(r,e){return Ag(r)===Ag(e)}function ax(r,e){return Ge(e)?e.findIndex(t=>ox(t,r)):it(e)&&ox(e,r)?0:-1}function YC(r,e,t){const n=He(e),i=t.propsOptions[0];for(const s in i){let o=i[s];o!=null&&kR(s,n[s],o,!bt(r,s)&&!bt(r,ro(s)))}}function kR(r,e,t,n){const{type:i,required:s,validator:o}=t;if(s&&n){we('Missing required prop: "'+r+'"');return}if(!(e==null&&!t.required)){if(i!=null&&i!==!0){let a=!1;const l=Ge(i)?i:[i],c=[];for(let u=0;u<l.length&&!a;u++){const{valid:f,expectedType:d}=QR(e,l[u]);c.push(d||""),a=f}if(!a){we(NR(r,e,c));return}}o&&!o(e)&&we('Invalid prop: custom validator check failed for prop "'+r+'".')}}const ER=po("String,Number,Boolean,Function,Symbol,BigInt");function QR(r,e){let t;const n=Ag(e);if(ER(n)){const i=typeof r;t=i===n.toLowerCase(),!t&&i==="object"&&(t=r instanceof e)}else n==="Object"?t=Ut(r):n==="Array"?t=Ge(r):n==="null"?t=r===null:t=r instanceof e;return{valid:t,expectedType:n}}function NR(r,e,t){let n=`Invalid prop: type check failed for prop "${r}". Expected ${t.map(Ad).join(" | ")}`;const i=t[0],s=P0(e),o=lx(e,i),a=lx(e,s);return t.length===1&&cx(i)&&!IR(i,s)&&(n+=` with value ${o}`),n+=`, got ${s} `,cx(s)&&(n+=`with value ${a}.`),n}function lx(r,e){return e==="String"?`"${r}"`:e==="Number"?`${Number(r)}`:`${r}`}function cx(r){return["string","number","boolean"].some(t=>r.toLowerCase()===t)}function IR(...r){return r.some(e=>e.toLowerCase()==="boolean")}const GC=r=>r[0]==="_"||r==="$stable",U0=r=>Ge(r)?r.map(wi):[wi(r)],RR=(r,e,t)=>{if(e._n)return e;const n=HI((...i)=>(br&&we(`Slot "${r}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),U0(e(...i))),t);return n._c=!1,n},HC=(r,e,t)=>{const n=r._ctx;for(const i in r){if(GC(i))continue;const s=r[i];if(it(s))e[i]=RR(i,s,n);else if(s!=null){we(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=U0(s);e[i]=()=>o}}},KC=(r,e)=>{B0(r.vnode)||we("Non-function value encountered for default slot. Prefer function slots for better performance.");const t=U0(e);r.slots.default=()=>t},MR=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=He(e),Oh(e,"_",t)):HC(e,r.slots={})}else r.slots={},e&&KC(r,e);Oh(r.slots,Fd,1)},BR=(r,e,t)=>{const{vnode:n,slots:i}=r;let s=!0,o=Ft;if(n.shapeFlag&32){const a=e._;a?jo?Cr(i,e):t&&a===1?s=!1:(Cr(i,e),!t&&a===1&&delete i._):(s=!e.$stable,HC(e,i)),o=e}else e&&(KC(r,e),o={default:1});if(s)for(const a in i)!GC(a)&&!(a in o)&&delete i[a]};function JC(){return{app:null,config:{isNativeTag:J$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zR=0;function FR(r,e){return function(n,i=null){it(n)||(n=Object.assign({},n)),i!=null&&!Ut(i)&&(we("root props passed to app.mount() must be an object."),i=null);const s=JC(),o=new Set;let a=!1;const l=s.app={_uid:zR++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:hx,get config(){return s.config},set config(c){we("app.config cannot be replaced. Modify individual options instead.")},use(c,...u){return o.has(c)?we("Plugin has already been applied to target app."):c&&it(c.install)?(o.add(c),c.install(l,...u)):it(c)?(o.add(c),c(l,...u)):we('A plugin must either be a function or an object with an "install" function.'),l},mixin(c){return s.mixins.includes(c)?we("Mixin has already been applied to target app"+(c.name?`: ${c.name}`:"")):s.mixins.push(c),l},component(c,u){return Eg(c,s.config),u?(s.components[c]&&we(`Component "${c}" has already been registered in target app.`),s.components[c]=u,l):s.components[c]},directive(c,u){return jC(c),u?(s.directives[c]&&we(`Directive "${c}" has already been registered in target app.`),s.directives[c]=u,l):s.directives[c]},mount(c,u,f){if(a)we("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{c.__vue_app__&&we("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=xr(n,i);return d.appContext=s,s.reload=()=>{r(so(d),c,f)},u&&e?e(d,c):r(d,c,f),a=!0,l._container=c,c.__vue_app__=l,l._instance=d.component,qI(l,hx),Dd(d.component)||d.component.proxy}},unmount(){a?(r(null,l._container),l._instance=null,LI(l),delete l._container.__vue_app__):we("Cannot unmount an app that is not mounted.")},provide(c,u){return c in s.provides&&we(`App already provides property with key "${String(c)}". It will be overwritten with the new value.`),s.provides[c]=u,l}};return l}}function kg(r,e,t,n,i=!1){if(Ge(r)){r.forEach((d,g)=>kg(d,e&&(Ge(e)?e[g]:e),t,n,i));return}if(Zf(n)&&!i)return;const s=n.shapeFlag&4?Dd(n.component)||n.component.proxy:n.el,o=i?null:s,{i:a,r:l}=r;if(!a){we("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=e&&e.r,u=a.refs===Ft?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(Sr(c)?(u[c]=null,bt(f,c)&&(f[c]=null)):jt(c)&&(c.value=null)),it(l))xs(l,a,12,[o,u]);else{const d=Sr(l),g=jt(l);if(d||g){const y=()=>{if(r.f){const T=d?bt(f,l)?f[l]:u[l]:l.value;i?Ge(T)&&$0(T,s):Ge(T)?T.includes(s)||T.push(s):d?(u[l]=[s],bt(f,l)&&(f[l]=u[l])):(l.value=[s],r.k&&(u[r.k]=l.value))}else d?(u[l]=o,bt(f,l)&&(f[l]=o)):g?(l.value=o,r.k&&(u[r.k]=o)):we("Invalid template ref type:",l,`(${typeof l})`)};o?(y.id=-1,An(y,t)):y()}else we("Invalid template ref type:",l,`(${typeof l})`)}}let Ql,Vs;function ps(r,e){r.appContext.config.performance&&Ch()&&Vs.mark(`vue-${e}-${r.uid}`),WI(r,e,Ch()?Vs.now():Date.now())}function ms(r,e){if(r.appContext.config.performance&&Ch()){const t=`vue-${e}-${r.uid}`,n=t+":end";Vs.mark(n),Vs.measure(`<${Ud(r,r.type)}> ${e}`,t,n),Vs.clearMarks(t),Vs.clearMarks(n)}XI(r,e,Ch()?Vs.now():Date.now())}function Ch(){return Ql!==void 0||(typeof window<"u"&&window.performance?(Ql=!0,Vs=window.performance):Ql=!1),Ql}function DR(){const r=[];if(r.length){const e=r.length>1;console.warn(`Feature flag${e?"s":""} ${r.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const An=iR;function UR(r){return qR(r)}function qR(r,e){DR();const t=nC();t.__VUE__=!0,NC(t.__VUE_DEVTOOLS_GLOBAL_HOOK__,t);const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:g=Nn,insertStaticContent:y}=r,T=(A,R,H,fe=null,se=null,ye=null,ve=!1,me=null,xe=jo?!1:!!R.dynamicChildren)=>{if(A===R)return;A&&!Nl(A,R)&&(fe=Pr(A),We(A,se,ye,!0),A=null),R.patchFlag===-2&&(xe=!1,R.dynamicChildren=null);const{type:ae,ref:Ne,shapeFlag:ke}=R;switch(ae){case Jc:k(A,R,H,fe);break;case Zn:U(A,R,H,fe);break;case lc:A==null?_(R,H,fe,ve):G(A,R,H,ve);break;case vi:L(A,R,H,fe,se,ye,ve,me,xe);break;default:ke&1?ee(A,R,H,fe,se,ye,ve,me,xe):ke&6?W(A,R,H,fe,se,ye,ve,me,xe):ke&64||ke&128?ae.process(A,R,H,fe,se,ye,ve,me,xe,Mr):we("Invalid VNode type:",ae,`(${typeof ae})`)}Ne!=null&&se&&kg(Ne,A&&A.ref,ye,R||A,!R)},k=(A,R,H,fe)=>{if(A==null)n(R.el=a(R.children),H,fe);else{const se=R.el=A.el;R.children!==A.children&&c(se,R.children)}},U=(A,R,H,fe)=>{A==null?n(R.el=l(R.children||""),H,fe):R.el=A.el},_=(A,R,H,fe)=>{[A.el,A.anchor]=y(A.children,R,H,fe,A.el,A.anchor)},G=(A,R,H,fe)=>{if(R.children!==A.children){const se=d(A.anchor);Y(A),[R.el,R.anchor]=y(R.children,H,se,fe)}else R.el=A.el,R.anchor=A.anchor},D=({el:A,anchor:R},H,fe)=>{let se;for(;A&&A!==R;)se=d(A),n(A,H,fe),A=se;n(R,H,fe)},Y=({el:A,anchor:R})=>{let H;for(;A&&A!==R;)H=d(A),i(A),A=H;i(R)},ee=(A,R,H,fe,se,ye,ve,me,xe)=>{ve=ve||R.type==="svg",A==null?re(R,H,fe,se,ye,ve,me,xe):$(A,R,se,ye,ve,me,xe)},re=(A,R,H,fe,se,ye,ve,me)=>{let xe,ae;const{type:Ne,props:ke,shapeFlag:Ee,transition:Xe,dirs:x}=A;if(xe=A.el=o(A.type,ye,ke&&ke.is,ke),Ee&8?u(xe,A.children):Ee&16&&b(A.children,xe,null,fe,se,ye&&Ne!=="foreignObject",ve,me),x&&bo(A,null,fe,"created"),S(xe,A,A.scopeId,ve,fe),ke){for(const m in ke)m!=="value"&&!Lf(m)&&s(xe,m,null,ke[m],ye,A.children,fe,se,Nt);"value"in ke&&s(xe,"value",null,ke.value),(ae=ke.onVnodeBeforeMount)&&Ni(ae,fe,A)}Object.defineProperty(xe,"__vnode",{value:A,enumerable:!1}),Object.defineProperty(xe,"__vueParentComponent",{value:fe,enumerable:!1}),x&&bo(A,null,fe,"beforeMount");const p=(!se||se&&!se.pendingBranch)&&Xe&&!Xe.persisted;p&&Xe.beforeEnter(xe),n(xe,R,H),((ae=ke&&ke.onVnodeMounted)||p||x)&&An(()=>{ae&&Ni(ae,fe,A),p&&Xe.enter(xe),x&&bo(A,null,fe,"mounted")},se)},S=(A,R,H,fe,se)=>{if(H&&g(A,H),fe)for(let ye=0;ye<fe.length;ye++)g(A,fe[ye]);if(se){let ye=se.subTree;if(ye.patchFlag>0&&ye.patchFlag&2048&&(ye=zC(ye.children)||ye),R===ye){const ve=se.vnode;S(A,ve,ve.scopeId,ve.slotScopeIds,se.parent)}}},b=(A,R,H,fe,se,ye,ve,me,xe=0)=>{for(let ae=xe;ae<A.length;ae++){const Ne=A[ae]=me?Ds(A[ae]):wi(A[ae]);T(null,Ne,R,H,fe,se,ye,ve,me)}},$=(A,R,H,fe,se,ye,ve)=>{const me=R.el=A.el;let{patchFlag:xe,dynamicChildren:ae,dirs:Ne}=R;xe|=A.patchFlag&16;const ke=A.props||Ft,Ee=R.props||Ft;let Xe;H&&So(H,!1),(Xe=Ee.onVnodeBeforeUpdate)&&Ni(Xe,H,R,A),Ne&&bo(R,A,H,"beforeUpdate"),H&&So(H,!0),jo&&(xe=0,ve=!1,ae=null);const x=se&&R.type!=="foreignObject";if(ae?(M(A.dynamicChildren,ae,me,H,fe,x,ye),H&&H.type.__hmrId&&Wf(A,R)):ve||J(A,R,me,null,H,fe,x,ye,!1),xe>0){if(xe&16)Q(me,R,ke,Ee,H,fe,se);else if(xe&2&&ke.class!==Ee.class&&s(me,"class",null,Ee.class,se),xe&4&&s(me,"style",ke.style,Ee.style,se),xe&8){const p=R.dynamicProps;for(let m=0;m<p.length;m++){const P=p[m],F=ke[P],K=Ee[P];(K!==F||P==="value")&&s(me,P,F,K,se,A.children,H,fe,Nt)}}xe&1&&A.children!==R.children&&u(me,R.children)}else!ve&&ae==null&&Q(me,R,ke,Ee,H,fe,se);((Xe=Ee.onVnodeUpdated)||Ne)&&An(()=>{Xe&&Ni(Xe,H,R,A),Ne&&bo(R,A,H,"updated")},fe)},M=(A,R,H,fe,se,ye,ve)=>{for(let me=0;me<R.length;me++){const xe=A[me],ae=R[me],Ne=xe.el&&(xe.type===vi||!Nl(xe,ae)||xe.shapeFlag&70)?f(xe.el):H;T(xe,ae,Ne,null,fe,se,ye,ve,!0)}},Q=(A,R,H,fe,se,ye,ve)=>{if(H!==fe){if(H!==Ft)for(const me in H)!Lf(me)&&!(me in fe)&&s(A,me,H[me],null,ve,R.children,se,ye,Nt);for(const me in fe){if(Lf(me))continue;const xe=fe[me],ae=H[me];xe!==ae&&me!=="value"&&s(A,me,ae,xe,ve,R.children,se,ye,Nt)}"value"in fe&&s(A,"value",H.value,fe.value)}},L=(A,R,H,fe,se,ye,ve,me,xe)=>{const ae=R.el=A?A.el:a(""),Ne=R.anchor=A?A.anchor:a("");let{patchFlag:ke,dynamicChildren:Ee,slotScopeIds:Xe}=R;(jo||ke&2048)&&(ke=0,xe=!1,Ee=null),Xe&&(me=me?me.concat(Xe):Xe),A==null?(n(ae,H,fe),n(Ne,H,fe),b(R.children,H,Ne,se,ye,ve,me,xe)):ke>0&&ke&64&&Ee&&A.dynamicChildren?(M(A.dynamicChildren,Ee,H,se,ye,ve,me),se&&se.type.__hmrId?Wf(A,R):(R.key!=null||se&&R===se.subTree)&&Wf(A,R,!0)):J(A,R,H,Ne,se,ye,ve,me,xe)},W=(A,R,H,fe,se,ye,ve,me,xe)=>{R.slotScopeIds=me,A==null?R.shapeFlag&512?se.ctx.activate(R,H,fe,ve,xe):N(R,H,fe,se,ye,ve,xe):I(A,R,xe)},N=(A,R,H,fe,se,ye,ve)=>{const me=A.component=JR(A,fe,se);if(me.type.__hmrId&&zI(me),jf(A),ps(me,"mount"),B0(A)&&(me.ctx.renderer=Mr),ps(me,"init"),r3(me),ms(me,"init"),me.asyncDep){if(se&&se.registerDep(me,z),!A.el){const xe=me.subTree=xr(Zn);U(null,xe,R,H)}return}z(me,A,R,H,se,ye,ve),Vf(),ms(me,"mount")},I=(A,R,H)=>{const fe=R.component=A.component;if(tR(A,R,H))if(fe.asyncDep&&!fe.asyncResolved){jf(R),B(fe,R,H),Vf();return}else fe.next=R,MI(fe.update),fe.update();else R.el=A.el,fe.vnode=R},z=(A,R,H,fe,se,ye,ve)=>{const me=()=>{if(A.isMounted){let{next:Ne,bu:ke,u:Ee,parent:Xe,vnode:x}=A,p=Ne,m;jf(Ne||A.vnode),So(A,!1),Ne?(Ne.el=x.el,B(A,Ne,ve)):Ne=x,ke&&Ra(ke),(m=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&Ni(m,Xe,Ne,x),So(A,!0),ps(A,"render");const P=Rp(A);ms(A,"render");const F=A.subTree;A.subTree=P,ps(A,"patch"),T(F,P,f(F.el),Pr(F),A,se,ye),ms(A,"patch"),Ne.el=P.el,p===null&&rR(A,P.el),Ee&&An(Ee,se),(m=Ne.props&&Ne.props.onVnodeUpdated)&&An(()=>Ni(m,Xe,Ne,x),se),IC(A),Vf()}else{let Ne;const{el:ke,props:Ee}=R,{bm:Xe,m:x,parent:p}=A,m=Zf(R);if(So(A,!1),Xe&&Ra(Xe),!m&&(Ne=Ee&&Ee.onVnodeBeforeMount)&&Ni(Ne,p,R),So(A,!0),ke&&qr){const P=()=>{ps(A,"render"),A.subTree=Rp(A),ms(A,"render"),ps(A,"hydrate"),qr(ke,A.subTree,A,se,null),ms(A,"hydrate")};m?R.type.__asyncLoader().then(()=>!A.isUnmounted&&P()):P()}else{ps(A,"render");const P=A.subTree=Rp(A);ms(A,"render"),ps(A,"patch"),T(null,P,H,fe,A,se,ye),ms(A,"patch"),R.el=P.el}if(x&&An(x,se),!m&&(Ne=Ee&&Ee.onVnodeMounted)){const P=R;An(()=>Ni(Ne,p,P),se)}(R.shapeFlag&256||p&&Zf(p.vnode)&&p.vnode.shapeFlag&256)&&A.a&&An(A.a,se),A.isMounted=!0,jI(A),R=H=fe=null}},xe=A.effect=new k0(me,()=>Md(ae),A.scope),ae=A.update=()=>xe.run();ae.id=A.uid,So(A,!0),xe.onTrack=A.rtc?Ne=>Ra(A.rtc,Ne):void 0,xe.onTrigger=A.rtg?Ne=>Ra(A.rtg,Ne):void 0,ae.ownerInstance=A,ae()},B=(A,R,H)=>{R.component=A;const fe=A.vnode.props;A.vnode=R,A.next=null,AR(A,R.props,fe,H),BR(A,R.children,H),oa(),J1(),aa()},J=(A,R,H,fe,se,ye,ve,me,xe=!1)=>{const ae=A&&A.children,Ne=A?A.shapeFlag:0,ke=R.children,{patchFlag:Ee,shapeFlag:Xe}=R;if(Ee>0){if(Ee&128){Se(ae,ke,H,fe,se,ye,ve,me,xe);return}else if(Ee&256){$e(ae,ke,H,fe,se,ye,ve,me,xe);return}}Xe&8?(Ne&16&&Nt(ae,se,ye),ke!==ae&&u(H,ke)):Ne&16?Xe&16?Se(ae,ke,H,fe,se,ye,ve,me,xe):Nt(ae,se,ye,!0):(Ne&8&&u(H,""),Xe&16&&b(ke,H,fe,se,ye,ve,me,xe))},$e=(A,R,H,fe,se,ye,ve,me,xe)=>{A=A||Ya,R=R||Ya;const ae=A.length,Ne=R.length,ke=Math.min(ae,Ne);let Ee;for(Ee=0;Ee<ke;Ee++){const Xe=R[Ee]=xe?Ds(R[Ee]):wi(R[Ee]);T(A[Ee],Xe,H,null,se,ye,ve,me,xe)}ae>Ne?Nt(A,se,ye,!0,!1,ke):b(R,H,fe,se,ye,ve,me,xe,ke)},Se=(A,R,H,fe,se,ye,ve,me,xe)=>{let ae=0;const Ne=R.length;let ke=A.length-1,Ee=Ne-1;for(;ae<=ke&&ae<=Ee;){const Xe=A[ae],x=R[ae]=xe?Ds(R[ae]):wi(R[ae]);if(Nl(Xe,x))T(Xe,x,H,null,se,ye,ve,me,xe);else break;ae++}for(;ae<=ke&&ae<=Ee;){const Xe=A[ke],x=R[Ee]=xe?Ds(R[Ee]):wi(R[Ee]);if(Nl(Xe,x))T(Xe,x,H,null,se,ye,ve,me,xe);else break;ke--,Ee--}if(ae>ke){if(ae<=Ee){const Xe=Ee+1,x=Xe<Ne?R[Xe].el:fe;for(;ae<=Ee;)T(null,R[ae]=xe?Ds(R[ae]):wi(R[ae]),H,x,se,ye,ve,me,xe),ae++}}else if(ae>Ee)for(;ae<=ke;)We(A[ae],se,ye,!0),ae++;else{const Xe=ae,x=ae,p=new Map;for(ae=x;ae<=Ee;ae++){const et=R[ae]=xe?Ds(R[ae]):wi(R[ae]);et.key!=null&&(p.has(et.key)&&we("Duplicate keys found during update:",JSON.stringify(et.key),"Make sure keys are unique."),p.set(et.key,ae))}let m,P=0;const F=Ee-x+1;let K=!1,ie=0;const Ye=new Array(F);for(ae=0;ae<F;ae++)Ye[ae]=0;for(ae=Xe;ae<=ke;ae++){const et=A[ae];if(P>=F){We(et,se,ye,!0);continue}let yt;if(et.key!=null)yt=p.get(et.key);else for(m=x;m<=Ee;m++)if(Ye[m-x]===0&&Nl(et,R[m])){yt=m;break}yt===void 0?We(et,se,ye,!0):(Ye[yt-x]=ae+1,yt>=ie?ie=yt:K=!0,T(et,R[yt],H,null,se,ye,ve,me,xe),P++)}const It=K?LR(Ye):Ya;for(m=It.length-1,ae=F-1;ae>=0;ae--){const et=x+ae,yt=R[et],vt=et+1<Ne?R[et+1].el:fe;Ye[ae]===0?T(null,yt,H,vt,se,ye,ve,me,xe):K&&(m<0||ae!==It[m]?Ie(yt,H,vt,2):m--)}}},Ie=(A,R,H,fe,se=null)=>{const{el:ye,type:ve,transition:me,children:xe,shapeFlag:ae}=A;if(ae&6){Ie(A.component.subTree,R,H,fe);return}if(ae&128){A.suspense.move(R,H,fe);return}if(ae&64){ve.move(A,R,H,Mr);return}if(ve===vi){n(ye,R,H);for(let ke=0;ke<xe.length;ke++)Ie(xe[ke],R,H,fe);n(A.anchor,R,H);return}if(ve===lc){D(A,R,H);return}if(fe!==2&&ae&1&&me)if(fe===0)me.beforeEnter(ye),n(ye,R,H),An(()=>me.enter(ye),se);else{const{leave:ke,delayLeave:Ee,afterLeave:Xe}=me,x=()=>n(ye,R,H),p=()=>{ke(ye,()=>{x(),Xe&&Xe()})};Ee?Ee(ye,x,p):p()}else n(ye,R,H)},We=(A,R,H,fe=!1,se=!1)=>{const{type:ye,props:ve,ref:me,children:xe,dynamicChildren:ae,shapeFlag:Ne,patchFlag:ke,dirs:Ee}=A;if(me!=null&&kg(me,null,H,A,!0),Ne&256){R.ctx.deactivate(A);return}const Xe=Ne&1&&Ee,x=!Zf(A);let p;if(x&&(p=ve&&ve.onVnodeBeforeUnmount)&&Ni(p,R,A),Ne&6)Je(A.component,H,fe);else{if(Ne&128){A.suspense.unmount(H,fe);return}Xe&&bo(A,null,R,"beforeUnmount"),Ne&64?A.type.remove(A,R,H,se,Mr,fe):ae&&(ye!==vi||ke>0&&ke&64)?Nt(ae,R,H,!1,!0):(ye===vi&&ke&384||!se&&Ne&16)&&Nt(xe,R,H),fe&&dt(A)}(x&&(p=ve&&ve.onVnodeUnmounted)||Xe)&&An(()=>{p&&Ni(p,R,A),Xe&&bo(A,null,R,"unmounted")},H)},dt=A=>{const{type:R,el:H,anchor:fe,transition:se}=A;if(R===vi){A.patchFlag>0&&A.patchFlag&2048&&se&&!se.persisted?A.children.forEach(ve=>{ve.type===Zn?i(ve.el):dt(ve)}):Te(H,fe);return}if(R===lc){Y(A);return}const ye=()=>{i(H),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(A.shapeFlag&1&&se&&!se.persisted){const{leave:ve,delayLeave:me}=se,xe=()=>ve(H,ye);me?me(A.el,ye,xe):xe()}else ye()},Te=(A,R)=>{let H;for(;A!==R;)H=d(A),i(A),A=H;i(R)},Je=(A,R,H)=>{A.type.__hmrId&&FI(A);const{bum:fe,scope:se,update:ye,subTree:ve,um:me}=A;fe&&Ra(fe),se.stop(),ye&&(ye.active=!1,We(ve,A,R,H)),me&&An(me,R),An(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve()),ZI(A)},Nt=(A,R,H,fe=!1,se=!1,ye=0)=>{for(let ve=ye;ve<A.length;ve++)We(A[ve],R,H,fe,se)},Pr=A=>A.shapeFlag&6?Pr(A.component.subTree):A.shapeFlag&128?A.suspense.next():d(A.anchor||A.el),dn=(A,R,H)=>{A==null?R._vnode&&We(R._vnode,null,null,!0):T(R._vnode||null,A,R,null,null,null,H),J1(),kC(),R._vnode=A},Mr={p:T,um:We,m:Ie,r:dt,mt:N,mc:b,pc:J,pbc:M,n:Pr,o:r};let _r,qr;return e&&([_r,qr]=e(Mr)),{render:dn,hydrate:_r,createApp:FR(dn,_r)}}function So({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function Wf(r,e,t=!1){const n=r.children,i=e.children;if(Ge(n)&&Ge(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ds(i[s]),a.el=o.el),t||Wf(o,a)),a.type===Jc&&(a.el=o.el),a.type===Zn&&!a.el&&(a.el=o.el)}}function LR(r){const e=r.slice(),t=[0];let n,i,s,o,a;const l=r.length;for(n=0;n<l;n++){const c=r[n];if(c!==0){if(i=t[t.length-1],r[i]<c){e[n]=i,t.push(n);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,r[t[a]]<c?s=a+1:o=a;c<r[t[s]]&&(s>0&&(e[n]=t[s-1]),t[s]=n)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}const jR=r=>r.__isTeleport,vi=Symbol("Fragment"),Jc=Symbol("Text"),Zn=Symbol("Comment"),lc=Symbol("Static"),cc=[];let Ci=null;function nr(r=!1){cc.push(Ci=r?null:[])}function VR(){cc.pop(),Ci=cc[cc.length-1]||null}let $c=1;function ux(r){$c+=r}function eT(r){return r.dynamicChildren=$c>0?Ci||Ya:null,VR(),$c>0&&Ci&&Ci.push(r),r}function gr(r,e,t,n,i,s){return eT(he(r,e,t,n,i,s,!0))}function tT(r,e,t,n,i){return eT(xr(r,e,t,n,i,!0))}function Cc(r){return r?r.__v_isVNode===!0:!1}function Nl(r,e){return e.shapeFlag&6&&Ma.has(e.type)?(r.shapeFlag&=-257,e.shapeFlag&=-513,!1):r.type===e.type&&r.key===e.key}const ZR=(...r)=>WR(...r),Fd="__vInternal",rT=({key:r})=>r??null,Xf=({ref:r,ref_key:e,ref_for:t})=>r!=null?Sr(r)||jt(r)||it(r)?{i:In,r,k:e,f:!!t}:r:null;function he(r,e=null,t=null,n=0,i=null,s=r===vi?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&rT(e),ref:e&&Xf(e),scopeId:BC,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:In};return a?(q0(l,t),s&128&&r.normalize(l)):t&&(l.shapeFlag|=Sr(t)?8:16),l.key!==l.key&&we("VNode created with invalid key (NaN). VNode type:",l.type),$c>0&&!o&&Ci&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ci.push(l),l}const xr=ZR;function WR(r,e=null,t=null,n=0,i=null,s=!1){if((!r||r===OR)&&(r||we(`Invalid vnode type when creating vnode: ${r}.`),r=Zn),Cc(r)){const a=so(r,e,!0);return t&&q0(a,t),$c>0&&!s&&Ci&&(a.shapeFlag&6?Ci[Ci.indexOf(r)]=a:Ci.push(a)),a.patchFlag|=-2,a}if(aT(r)&&(r=r.__vccOpts),e){e=XR(e);let{class:a,style:l}=e;a&&!Sr(a)&&(e.class=w0(a)),Ut(l)&&(Sh(l)&&!Ge(l)&&(l=Cr({},l)),e.style=v0(l))}const o=Sr(r)?1:nR(r)?128:jR(r)?64:Ut(r)?4:it(r)?2:0;return o&4&&Sh(r)&&(r=He(r),we("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,r)),he(r,e,t,n,i,o,s,!0)}function XR(r){return r?Sh(r)||Fd in r?Cr({},r):r:null}function so(r,e,t=!1){const{props:n,ref:i,patchFlag:s,children:o}=r,a=e?GR(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:a,key:a&&rT(a),ref:e&&e.ref?t&&i?Ge(i)?i.concat(Xf(e)):[i,Xf(e)]:Xf(e):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s===-1&&Ge(o)?o.map(nT):o,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==vi?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&so(r.ssContent),ssFallback:r.ssFallback&&so(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function nT(r){const e=so(r);return Ge(r.children)&&(e.children=r.children.map(nT)),e}function Ji(r=" ",e=0){return xr(Jc,null,r,e)}function YR(r,e){const t=xr(lc,null,r);return t.staticCount=e,t}function cn(r="",e=!1){return e?(nr(),tT(Zn,null,r)):xr(Zn,null,r)}function wi(r){return r==null||typeof r=="boolean"?xr(Zn):Ge(r)?xr(vi,null,r.slice()):typeof r=="object"?Ds(r):xr(Jc,null,String(r))}function Ds(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:so(r)}function q0(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(Ge(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),q0(r,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!(Fd in e)?e._ctx=In:i===3&&In&&(In.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else it(e)?(e={default:e,_ctx:In},t=32):(e=String(e),n&64?(t=16,e=[Ji(e)]):t=8);r.children=e,r.shapeFlag|=t}function GR(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=w0([e.class,n.class]));else if(i==="style")e.style=v0([e.style,n.style]);else if(Hc(i)){const s=e[i],o=n[i];o&&s!==o&&!(Ge(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function Ni(r,e,t,n=null){Ai(r,e,7,[t,n])}const HR=JC();let KR=0;function JR(r,e,t){const n=r.type,i=(e?e.appContext:r.appContext)||HR,s={uid:KR++,vnode:r,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new iC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:XC(n,i),emitsOptions:MC(n,i),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:n.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=yR(s),s.root=e?e.root:s,s.emit=GI.bind(null,s),r.ce&&r.ce(s),s}let br=null;const e3=()=>br||In,ol=r=>{br=r,r.scope.on()},Zo=()=>{br&&br.scope.off(),br=null},t3=po("slot,component");function Eg(r,e){const t=e.isNativeTag||J$;(t3(r)||t(r))&&we("Do not use built-in or reserved HTML elements as component id: "+r)}function iT(r){return r.vnode.shapeFlag&4}let Tc=!1;function r3(r,e=!1){Tc=e;const{props:t,children:n}=r.vnode,i=iT(r);PR(r,t,i,e),MR(r,n);const s=i?n3(r,e):void 0;return Tc=!1,s}function n3(r,e){var t;const n=r.type;{if(n.name&&Eg(n.name,r.appContext.config),n.components){const s=Object.keys(n.components);for(let o=0;o<s.length;o++)Eg(s[o],r.appContext.config)}if(n.directives){const s=Object.keys(n.directives);for(let o=0;o<s.length;o++)jC(s[o])}n.compilerOptions&&i3()&&we('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}r.accessCache=Object.create(null),r.proxy=Si(new Proxy(r.ctx,VC)),xR(r);const{setup:i}=n;if(i){const s=r.setupContext=i.length>1?o3(r):null;ol(r),oa();const o=xs(i,r,0,[Ua(r.props),s]);if(aa(),Zo(),T0(o)){if(o.then(Zo,Zo),e)return o.then(a=>{fx(r,a,e)}).catch(a=>{Rd(a,r,0)});if(r.asyncDep=o,!r.suspense){const a=(t=n.name)!==null&&t!==void 0?t:"Anonymous";we(`Component <${a}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else fx(r,o,e)}else sT(r,e)}function fx(r,e,t){it(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Ut(e)?(Cc(e)&&we("setup() should not return VNodes directly - return a render function instead."),r.devtoolsRawSetupState=e,r.setupState=$C(e),bR(r)):e!==void 0&&we(`setup() should return an object. Received: ${e===null?"null":typeof e}`),sT(r,t)}let Qg;const i3=()=>!Qg;function sT(r,e,t){const n=r.type;if(!r.render){if(!e&&Qg&&!n.render){const i=n.template||D0(r).template;if(i){ps(r,"compile");const{isCustomElement:s,compilerOptions:o}=r.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Cr(Cr({isCustomElement:s,delimiters:a},o),l);n.render=Qg(i,c),ms(r,"compile")}}r.render=n.render||Nn}ol(r),oa(),vR(r),aa(),Zo(),!n.render&&r.render===Nn&&!e&&(n.template?we('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):we("Component is missing template or render function."))}function s3(r){return new Proxy(r.attrs,{get(e,t){return wh(),Bn(r,"get","$attrs"),e[t]},set(){return we("setupContext.attrs is readonly."),!1},deleteProperty(){return we("setupContext.attrs is readonly."),!1}})}function o3(r){const e=n=>{if(r.exposed&&we("expose() should be called only once per setup()."),n!=null){let i=typeof n;i==="object"&&(Ge(n)?i="array":jt(n)&&(i="ref")),i!=="object"&&we(`expose() should be passed a plain object, received ${i}.`)}r.exposed=n||{}};let t;return Object.freeze({get attrs(){return t||(t=s3(r))},get slots(){return Ua(r.slots)},get emit(){return(n,...i)=>r.emit(n,...i)},expose:e})}function Dd(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy($C(Si(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Vo)return Vo[t](r)},has(e,t){return t in e||t in Vo}}))}const a3=/(?:^|[-_])(\w)/g,l3=r=>r.replace(a3,e=>e.toUpperCase()).replace(/[-_]/g,"");function oT(r,e=!0){return it(r)?r.displayName||r.name:r.name||e&&r.__name}function Ud(r,e,t=!1){let n=oT(e);if(!n&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(n=i[1])}if(!n&&r&&r.parent){const i=s=>{for(const o in s)if(s[o]===e)return o};n=i(r.components||r.parent.type.components)||i(r.appContext.components)}return n?l3(n):t?"App":"Anonymous"}function aT(r){return it(r)&&"__vccOpts"in r}const eu=(r,e)=>_I(r,e,Tc);function c3(r,e,t){const n=arguments.length;return n===2?Ut(e)&&!Ge(e)?Cc(e)?xr(r,null,[e]):xr(r,e):xr(r,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&Cc(t)&&(t=[t]),xr(r,e,t))}const u3=Symbol("ssrContext"),f3=()=>{{const r=Ha(u3);return r||we("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),r}};function Bp(r){return!!(r&&r.__v_isShallow)}function h3(){if(typeof window>"u")return;const r={style:"color:#3ba776"},e={style:"color:#0b1bc9"},t={style:"color:#b62e24"},n={style:"color:#9d288c"},i={header(f){return Ut(f)?f.__isVue?["div",r,"VueInstance"]:jt(f)?["div",{},["span",r,u(f)],"<",a(f.value),">"]:_i(f)?["div",{},["span",r,Bp(f)?"ShallowReactive":"Reactive"],"<",a(f),`>${io(f)?" (readonly)":""}`]:io(f)?["div",{},["span",r,Bp(f)?"ShallowReadonly":"Readonly"],"<",a(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...s(f.$)]}};function s(f){const d=[];f.type.props&&f.props&&d.push(o("props",He(f.props))),f.setupState!==Ft&&d.push(o("setup",f.setupState)),f.data!==Ft&&d.push(o("data",He(f.data)));const g=l(f,"computed");g&&d.push(o("computed",g));const y=l(f,"inject");return y&&d.push(o("injected",y)),d.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),d}function o(f,d){return d=Cr({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(g=>["div",{},["span",n,g+": "],a(d[g],!1)])]]:["span",{}]}function a(f,d=!0){return typeof f=="number"?["span",e,f]:typeof f=="string"?["span",t,JSON.stringify(f)]:typeof f=="boolean"?["span",n,f]:Ut(f)?["object",{object:d?He(f):f}]:["span",t,String(f)]}function l(f,d){const g=f.type;if(it(g))return;const y={};for(const T in f.ctx)c(g,T,d)&&(y[T]=f.ctx[T]);return y}function c(f,d,g){const y=f[g];if(Ge(y)&&y.includes(d)||Ut(y)&&d in y||f.extends&&c(f.extends,d,g)||f.mixins&&f.mixins.some(T=>c(T,d,g)))return!0}function u(f){return Bp(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const hx="3.2.47",d3="http://www.w3.org/2000/svg",Qo=typeof document<"u"?document:null,dx=Qo&&Qo.createElement("template"),p3={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,n)=>{const i=e?Qo.createElementNS(d3,r):Qo.createElement(r,t?{is:t}:void 0);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>Qo.createTextNode(r),createComment:r=>Qo.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Qo.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,n,i,s){const o=t?t.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===s||!(i=i.nextSibling)););else{dx.innerHTML=n?`<svg>${r}</svg>`:r;const a=dx.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function m3(r,e,t){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function g3(r,e,t){const n=r.style,i=Sr(t);if(t&&!i){if(e&&!Sr(e))for(const s in e)t[s]==null&&Ng(n,s,"");for(const s in t)Ng(n,s,t[s])}else{const s=n.display;i?e!==t&&(n.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=s)}}const O3=/[^\\];\s*$/,px=/\s*!important$/;function Ng(r,e,t){if(Ge(t))t.forEach(n=>Ng(r,e,n));else if(t==null&&(t=""),O3.test(t)&&we(`Unexpected semicolon at the end of '${e}' style value: '${t}'`),e.startsWith("--"))r.setProperty(e,t);else{const n=y3(r,e);px.test(t)?r.setProperty(ro(n),t.replace(px,""),"important"):r[n]=t}}const mx=["Webkit","Moz","ms"],zp={};function y3(r,e){const t=zp[e];if(t)return t;let n=sl(e);if(n!=="filter"&&n in r)return zp[e]=n;n=Ad(n);for(let i=0;i<mx.length;i++){const s=mx[i]+n;if(s in r)return zp[e]=s}return e}const gx="http://www.w3.org/1999/xlink";function x3(r,e,t,n,i){if(n&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(gx,e.slice(6,e.length)):r.setAttributeNS(gx,e,t);else{const s=UN(e);t==null||s&&!H$(t)?r.removeAttribute(e):r.setAttribute(e,s?"":t)}}function b3(r,e,t,n,i,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,i,s),r[e]=t??"";return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const l=t??"";(r.value!==l||r.tagName==="OPTION")&&(r.value=l),t==null&&r.removeAttribute(e);return}let a=!1;if(t===""||t==null){const l=typeof r[e];l==="boolean"?t=H$(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{r[e]=t}catch(l){a||we(`Failed setting prop "${e}" on <${r.tagName.toLowerCase()}>: value ${t} is invalid.`,l)}a&&r.removeAttribute(e)}function Ba(r,e,t,n){r.addEventListener(e,t,n)}function S3(r,e,t,n){r.removeEventListener(e,t,n)}function v3(r,e,t,n,i=null){const s=r._vei||(r._vei={}),o=s[e];if(n&&o)o.value=n;else{const[a,l]=w3(e);if(n){const c=s[e]=T3(n,i);Ba(r,a,c,l)}else o&&(S3(r,a,o,l),s[e]=void 0)}}const Ox=/(?:Once|Passive|Capture)$/;function w3(r){let e;if(Ox.test(r)){e={};let n;for(;n=r.match(Ox);)r=r.slice(0,r.length-n[0].length),e[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):ro(r.slice(2)),e]}let Fp=0;const $3=Promise.resolve(),C3=()=>Fp||($3.then(()=>Fp=0),Fp=Date.now());function T3(r,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;Ai(P3(n,t.value),e,5,[n])};return t.value=r,t.attached=C3(),t}function P3(r,e){if(Ge(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const yx=/^on[a-z]/,_3=(r,e,t,n,i=!1,s,o,a,l)=>{e==="class"?m3(r,n,i):e==="style"?g3(r,t,n):Hc(e)?gh(e)||v3(r,e,t,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):A3(r,e,n,i))?b3(r,e,n,s,o,a,l):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),x3(r,e,n,i))};function A3(r,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&yx.test(e)&&it(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||yx.test(e)&&Sr(t)?!1:e in r}const xx=r=>{const e=r.props["onUpdate:modelValue"]||!1;return Ge(e)?t=>Ra(e,t):e};function k3(r){r.target.composing=!0}function bx(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Kt={created(r,{modifiers:{lazy:e,trim:t,number:n}},i){r._assign=xx(i);const s=n||i.props&&i.props.type==="number";Ba(r,e?"change":"input",o=>{if(o.target.composing)return;let a=r.value;t&&(a=a.trim()),s&&(a=Og(a)),r._assign(a)}),t&&Ba(r,"change",()=>{r.value=r.value.trim()}),e||(Ba(r,"compositionstart",k3),Ba(r,"compositionend",bx),Ba(r,"change",bx))},mounted(r,{value:e}){r.value=e??""},beforeUpdate(r,{value:e,modifiers:{lazy:t,trim:n,number:i}},s){if(r._assign=xx(s),r.composing||document.activeElement===r&&r.type!=="range"&&(t||n&&r.value.trim()===e||(i||r.type==="number")&&Og(r.value)===e))return;const o=e??"";r.value!==o&&(r.value=o)}},E3=Cr({patchProp:_3},p3);let Sx;function Q3(){return Sx||(Sx=UR(E3))}const N3=(...r)=>{const e=Q3().createApp(...r);I3(e),R3(e);const{mount:t}=e;return e.mount=n=>{const i=M3(n);if(!i)return;const s=e._component;!it(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function I3(r){Object.defineProperty(r.config,"isNativeTag",{value:e=>zN(e)||FN(e),writable:!1})}function R3(r){{const e=r.config.isCustomElement;Object.defineProperty(r.config,"isCustomElement",{get(){return e},set(){we("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const t=r.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(r.config,"compilerOptions",{get(){return we(n),t},set(){we(n)}})}}function M3(r){if(Sr(r)){const e=document.querySelector(r);return e||we(`Failed to mount app: mount target selector "${r}" returned null.`),e}return window.ShadowRoot&&r instanceof window.ShadowRoot&&r.mode==="closed"&&we('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),r}function B3(){h3()}B3();var z3=!1;function Fu(r,e,t){return Array.isArray(r)?(r.length=Math.max(r.length,e),r.splice(e,1,t),t):(r[e]=t,t)}function Dp(r,e){if(Array.isArray(r)){r.splice(e,1);return}delete r[e]}function F3(){return lT().__VUE_DEVTOOLS_GLOBAL_HOOK__}function lT(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const D3=typeof Proxy=="function",U3="devtools-plugin:setup",q3="plugin:settings:set";let Oa,Ig;function L3(){var r;return Oa!==void 0||(typeof window<"u"&&window.performance?(Oa=!0,Ig=window.performance):typeof global<"u"&&(!((r=global.perf_hooks)===null||r===void 0)&&r.performance)?(Oa=!0,Ig=global.perf_hooks.performance):Oa=!1),Oa}function j3(){return L3()?Ig.now():Date.now()}class V3{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const o in e.settings){const a=e.settings[o];n[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},n);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return j3()}},t&&t.on(q3,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function cT(r,e){const t=r,n=lT(),i=F3(),s=D3&&t.enableEarlyProxy;if(i&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(U3,r,e);else{const o=s?new V3(t,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * pinia v2.0.34
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Rg;const Pc=r=>Rg=r,uT=Symbol("pinia");function Ko(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Gi;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Gi||(Gi={}));const qd=typeof window<"u",Th=qd,vx=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function Z3(r,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r}function L0(r,e,t){const n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){dT(n.response,e,t)},n.onerror=function(){console.error("could not download file")},n.send()}function fT(r){const e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yf(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{const t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}const Gf=typeof navigator=="object"?navigator:{userAgent:""},hT=(()=>/Macintosh/.test(Gf.userAgent)&&/AppleWebKit/.test(Gf.userAgent)&&!/Safari/.test(Gf.userAgent))(),dT=qd?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!hT?W3:"msSaveOrOpenBlob"in Gf?X3:Y3:()=>{};function W3(r,e="download",t){const n=document.createElement("a");n.download=e,n.rel="noopener",typeof r=="string"?(n.href=r,n.origin!==location.origin?fT(n.href)?L0(r,e,t):(n.target="_blank",Yf(n)):Yf(n)):(n.href=URL.createObjectURL(r),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){Yf(n)},0))}function X3(r,e="download",t){if(typeof r=="string")if(fT(r))L0(r,e,t);else{const n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Yf(n)})}else navigator.msSaveOrOpenBlob(Z3(r,t),e)}function Y3(r,e,t,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return L0(r,e,t);const i=r.type==="application/octet-stream",s=/constructor/i.test(String(vx.HTMLElement))||"safari"in vx,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s||hT)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw n=null,new Error("Wrong reader.result type");l=o?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=l:location.assign(l),n=null},a.readAsDataURL(r)}else{const a=URL.createObjectURL(r);n?n.location.assign(a):location.href=a,n=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function zr(r,e){const t=" "+r;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(t,e):e==="error"?console.error(t):e==="warn"?console.warn(t):console.log(t)}function j0(r){return"_a"in r&&"install"in r}function pT(){if(!("clipboard"in navigator))return zr("Your browser doesn't support the Clipboard API","error"),!0}function mT(r){return r instanceof Error&&r.message.toLowerCase().includes("document is not focused")?(zr('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function G3(r){if(!pT())try{await navigator.clipboard.writeText(JSON.stringify(r.state.value)),zr("Global state copied to clipboard.")}catch(e){if(mT(e))return;zr("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function H3(r){if(!pT())try{r.state.value=JSON.parse(await navigator.clipboard.readText()),zr("Global state pasted from clipboard.")}catch(e){if(mT(e))return;zr("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function K3(r){try{dT(new Blob([JSON.stringify(r.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){zr("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let fs;function J3(){fs||(fs=document.createElement("input"),fs.type="file",fs.accept=".json");function r(){return new Promise((e,t)=>{fs.onchange=async()=>{const n=fs.files;if(!n)return e(null);const i=n.item(0);return e(i?{text:await i.text(),file:i}:null)},fs.oncancel=()=>e(null),fs.onerror=t,fs.click()})}return r}async function e5(r){try{const t=await(await J3())();if(!t)return;const{text:n,file:i}=t;r.state.value=JSON.parse(n),zr(`Global state imported from "${i.name}".`)}catch(e){zr("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}function xi(r){return{_custom:{display:r}}}const gT=" Pinia (root)",Mg="_root";function t5(r){return j0(r)?{id:Mg,label:gT}:{id:r.$id,label:r.$id}}function r5(r){if(j0(r)){const t=Array.from(r._s.keys()),n=r._s;return{state:t.map(s=>({editable:!0,key:s,value:r.state.value[s]})),getters:t.filter(s=>n.get(s)._getters).map(s=>{const o=n.get(s);return{editable:!1,key:s,value:o._getters.reduce((a,l)=>(a[l]=o[l],a),{})}})}}const e={state:Object.keys(r.$state).map(t=>({editable:!0,key:t,value:r.$state[t]}))};return r._getters&&r._getters.length&&(e.getters=r._getters.map(t=>({editable:!1,key:t,value:r[t]}))),r._customProperties.size&&(e.customProperties=Array.from(r._customProperties).map(t=>({editable:!0,key:t,value:r[t]}))),e}function n5(r){return r?Array.isArray(r)?r.reduce((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:xi(r.type),key:xi(r.key),oldValue:r.oldValue,newValue:r.newValue}:{}}function i5(r){switch(r){case Gi.direct:return"mutation";case Gi.patchFunction:return"$patch";case Gi.patchObject:return"$patch";default:return"unknown"}}let qa=!0;const Hf=[],ko="pinia:mutations",on="pinia",{assign:s5}=Object,Ph=r=>" "+r;function o5(r,e){cT({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Hf,app:r},t=>{typeof t.now!="function"&&zr("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),t.addTimelineLayer({id:ko,label:"Pinia ",color:15064968}),t.addInspector({id:on,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{G3(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await H3(e),t.sendInspectorTree(on),t.sendInspectorState(on)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{K3(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await e5(e),t.sendInspectorTree(on),t.sendInspectorState(on)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:n=>{const i=e._s.get(n);i?i._isOptionsAPI?(i.$reset(),zr(`Store "${n}" reset.`)):zr(`Cannot reset "${n}" store because it's a setup store.`,"warn"):zr(`Cannot reset "${n}" store because it wasn't found.`,"warn")}}]}),t.on.inspectComponent((n,i)=>{const s=n.componentInstance&&n.componentInstance.proxy;if(s&&s._pStores){const o=n.componentInstance.proxy._pStores;Object.values(o).forEach(a=>{n.instanceData.state.push({type:Ph(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:He(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,c)=>(l[c]=a.$state[c],l),{})}),a._getters&&a._getters.length&&n.instanceData.state.push({type:Ph(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,c)=>{try{l[c]=a[c]}catch(u){l[c]=u}return l},{})})})}}),t.on.getInspectorTree(n=>{if(n.app===r&&n.inspectorId===on){let i=[e];i=i.concat(Array.from(e._s.values())),n.rootNodes=(n.filter?i.filter(s=>"$id"in s?s.$id.toLowerCase().includes(n.filter.toLowerCase()):gT.toLowerCase().includes(n.filter.toLowerCase())):i).map(t5)}}),t.on.getInspectorState(n=>{if(n.app===r&&n.inspectorId===on){const i=n.nodeId===Mg?e:e._s.get(n.nodeId);if(!i)return;i&&(n.state=r5(i))}}),t.on.editInspectorState((n,i)=>{if(n.app===r&&n.inspectorId===on){const s=n.nodeId===Mg?e:e._s.get(n.nodeId);if(!s)return zr(`store "${n.nodeId}" not found`,"error");const{path:o}=n;j0(s)?o.unshift("state"):(o.length!==1||!s._customProperties.has(o[0])||o[0]in s.$state)&&o.unshift("$state"),qa=!1,n.set(s,o,n.state.value),qa=!0}}),t.on.editComponentState(n=>{if(n.type.startsWith("")){const i=n.type.replace(/^\s*/,""),s=e._s.get(i);if(!s)return zr(`store "${i}" not found`,"error");const{path:o}=n;if(o[0]!=="state")return zr(`Invalid path for store "${i}":
${o}
Only state can be modified.`);o[0]="$state",qa=!1,n.set(s,o,n.state.value),qa=!0}})})}function a5(r,e){Hf.includes(Ph(e.$id))||Hf.push(Ph(e.$id)),cT({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Hf,app:r,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},t=>{const n=typeof t.now=="function"?t.now.bind(t):Date.now;e.$onAction(({after:o,onError:a,name:l,args:c})=>{const u=OT++;t.addTimelineEvent({layerId:ko,event:{time:n(),title:" "+l,subtitle:"start",data:{store:xi(e.$id),action:xi(l),args:c},groupId:u}}),o(f=>{No=void 0,t.addTimelineEvent({layerId:ko,event:{time:n(),title:" "+l,subtitle:"end",data:{store:xi(e.$id),action:xi(l),args:c,result:f},groupId:u}})}),a(f=>{No=void 0,t.addTimelineEvent({layerId:ko,event:{time:n(),logType:"error",title:" "+l,subtitle:"end",data:{store:xi(e.$id),action:xi(l),args:c,error:f},groupId:u}})})},!0),e._customProperties.forEach(o=>{sn(()=>ge(e[o]),(a,l)=>{t.notifyComponentUpdate(),t.sendInspectorState(on),qa&&t.addTimelineEvent({layerId:ko,event:{time:n(),title:"Change",subtitle:o,data:{newValue:a,oldValue:l},groupId:No}})},{deep:!0})}),e.$subscribe(({events:o,type:a},l)=>{if(t.notifyComponentUpdate(),t.sendInspectorState(on),!qa)return;const c={time:n(),title:i5(a),data:s5({store:xi(e.$id)},n5(o)),groupId:No};No=void 0,a===Gi.patchFunction?c.subtitle="":a===Gi.patchObject?c.subtitle="":o&&!Array.isArray(o)&&(c.subtitle=o.type),o&&(c.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),t.addTimelineEvent({layerId:ko,event:c})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=Si(o=>{i(o),t.addTimelineEvent({layerId:ko,event:{time:n(),title:" "+e.$id,subtitle:"HMR update",data:{store:xi(e.$id),info:xi("HMR update")}}}),t.notifyComponentUpdate(),t.sendInspectorTree(on),t.sendInspectorState(on)});const{$dispose:s}=e;e.$dispose=()=>{s(),t.notifyComponentUpdate(),t.sendInspectorTree(on),t.sendInspectorState(on),t.getSettings().logStoreChanges&&zr(`Disposed "${e.$id}" store `)},t.notifyComponentUpdate(),t.sendInspectorTree(on),t.sendInspectorState(on),t.getSettings().logStoreChanges&&zr(`"${e.$id}" store installed `)})}let OT=0,No;function wx(r,e){const t=e.reduce((n,i)=>(n[i]=He(r)[i],n),{});for(const n in t)r[n]=function(){const i=OT,s=new Proxy(r,{get(...o){return No=i,Reflect.get(...o)},set(...o){return No=i,Reflect.set(...o)}});return t[n].apply(s,arguments)}}function l5({app:r,store:e,options:t}){if(!e.$id.startsWith("__hot:")){if(t.state&&(e._isOptionsAPI=!0),typeof t.state=="function"){wx(e,Object.keys(t.actions));const n=e._hotUpdate;He(e)._hotUpdate=function(i){n.apply(this,arguments),wx(e,Object.keys(i._hmrPayload.actions))}}a5(r,e)}}function c5(){const r=sC(!0),e=r.run(()=>yr({}));let t=[],n=[];const i=Si({install(s){Pc(i),i._a=s,s.provide(uT,i),s.config.globalProperties.$pinia=i,Th&&o5(s,i),n.forEach(o=>t.push(o)),n=[]},use(s){return!this._a&&!z3?n.push(s):t.push(s),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return Th&&typeof Proxy<"u"&&i.use(l5),i}function yT(r,e){for(const t in e){const n=e[t];if(!(t in r))continue;const i=r[t];Ko(i)&&Ko(n)&&!jt(n)&&!_i(n)?r[t]=yT(i,n):r[t]=n}return r}const u5=()=>{};function $x(r,e,t,n=u5){r.push(e);const i=()=>{const s=r.indexOf(e);s>-1&&(r.splice(s,1),n())};return!t&&oC()&&XN(i),i}function ya(r,...e){r.slice().forEach(t=>{t(...e)})}function Bg(r,e){r instanceof Map&&e instanceof Map&&e.forEach((t,n)=>r.set(n,t)),r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],i=r[t];Ko(i)&&Ko(n)&&r.hasOwnProperty(t)&&!jt(n)&&!_i(n)?r[t]=Bg(i,n):r[t]=n}return r}const f5=Symbol("pinia:skipHydration");function h5(r){return!Ko(r)||!r.hasOwnProperty(f5)}const{assign:ni}=Object;function Cx(r){return!!(jt(r)&&r.effect)}function Tx(r,e,t,n){const{state:i,actions:s,getters:o}=e,a=t.state.value[r];let l;function c(){!a&&!n&&(t.state.value[r]=i?i():{});const u=K1(n?yr(i?i():{}).value:t.state.value[r]);return ni(u,s,Object.keys(o||{}).reduce((f,d)=>(d in u&&console.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${r}".`),f[d]=Si(eu(()=>{Pc(t);const g=t._s.get(r);return o[d].call(g,g)})),f),{}))}return l=zg(r,c,e,t,n,!0),l}function zg(r,e,t={},n,i,s){let o;const a=ni({actions:{}},t);if(!n._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=b=>{c?g=b:c==!1&&!re._hotUpdating&&(Array.isArray(g)?g.push(b):console.error(" debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let c,u,f=Si([]),d=Si([]),g;const y=n.state.value[r];!s&&!y&&!i&&(n.state.value[r]={});const T=yr({});let k;function U(b){let $;c=u=!1,g=[],typeof b=="function"?(b(n.state.value[r]),$={type:Gi.patchFunction,storeId:r,events:g}):(Bg(n.state.value[r],b),$={type:Gi.patchObject,payload:b,storeId:r,events:g});const M=k=Symbol();vg().then(()=>{k===M&&(c=!0)}),u=!0,ya(f,$,n.state.value[r])}const _=s?function(){const{state:$}=t,M=$?$():{};this.$patch(Q=>{ni(Q,M)})}:()=>{throw new Error(`: Store "${r}" is built using the setup syntax and does not implement $reset().`)};function G(){o.stop(),f=[],d=[],n._s.delete(r)}function D(b,$){return function(){Pc(n);const M=Array.from(arguments),Q=[],L=[];function W(z){Q.push(z)}function N(z){L.push(z)}ya(d,{args:M,name:b,store:re,after:W,onError:N});let I;try{I=$.apply(this&&this.$id===r?this:re,M)}catch(z){throw ya(L,z),z}return I instanceof Promise?I.then(z=>(ya(Q,z),z)).catch(z=>(ya(L,z),Promise.reject(z))):(ya(Q,I),I)}}const Y=Si({actions:{},getters:{},state:[],hotState:T}),ee={_p:n,$id:r,$onAction:$x.bind(null,d),$patch:U,$reset:_,$subscribe(b,$={}){const M=$x(f,b,$.detached,()=>Q()),Q=o.run(()=>sn(()=>n.state.value[r],L=>{($.flush==="sync"?u:c)&&b({storeId:r,type:Gi.direct,events:g},L)},ni({},l,$)));return M},$dispose:G},re=Nd(ni({_hmrPayload:Y,_customProperties:Si(new Set)},ee));n._s.set(r,re);const S=n._e.run(()=>(o=sC(),o.run(()=>e())));for(const b in S){const $=S[b];if(jt($)&&!Cx($)||_i($))i?Fu(T.value,b,oc(S,b)):s||(y&&h5($)&&(jt($)?$.value=y[b]:Bg($,y[b])),n.state.value[r][b]=$),Y.state.push(b);else if(typeof $=="function"){const M=i?$:D(b,$);S[b]=M,Y.actions[b]=$,a.actions[b]=$}else Cx($)&&(Y.getters[b]=s?t.getters[b]:$,qd&&(S._getters||(S._getters=Si([]))).push(b))}if(ni(re,S),ni(He(re),S),Object.defineProperty(re,"$state",{get:()=>i?T.value:n.state.value[r],set:b=>{if(i)throw new Error("cannot set hotState");U($=>{ni($,b)})}}),re._hotUpdate=Si(b=>{re._hotUpdating=!0,b._hmrPayload.state.forEach($=>{if($ in re.$state){const M=b.$state[$],Q=re.$state[$];typeof M=="object"&&Ko(M)&&Ko(Q)?yT(M,Q):b.$state[$]=Q}Fu(re,$,oc(b.$state,$))}),Object.keys(re.$state).forEach($=>{$ in b.$state||Dp(re,$)}),c=!1,u=!1,n.state.value[r]=oc(b._hmrPayload,"hotState"),u=!0,vg().then(()=>{c=!0});for(const $ in b._hmrPayload.actions){const M=b[$];Fu(re,$,D($,M))}for(const $ in b._hmrPayload.getters){const M=b._hmrPayload.getters[$],Q=s?eu(()=>(Pc(n),M.call(re,re))):M;Fu(re,$,Q)}Object.keys(re._hmrPayload.getters).forEach($=>{$ in b._hmrPayload.getters||Dp(re,$)}),Object.keys(re._hmrPayload.actions).forEach($=>{$ in b._hmrPayload.actions||Dp(re,$)}),re._hmrPayload=b._hmrPayload,re._getters=b._getters,re._hotUpdating=!1}),Th){const b={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach($=>{Object.defineProperty(re,$,ni({value:re[$]},b))})}return n._p.forEach(b=>{if(Th){const $=o.run(()=>b({store:re,app:n._a,pinia:n,options:a}));Object.keys($||{}).forEach(M=>re._customProperties.add(M)),ni(re,$)}else ni(re,o.run(()=>b({store:re,app:n._a,pinia:n,options:a})))}),re.$state&&typeof re.$state=="object"&&typeof re.$state.constructor=="function"&&!re.$state.constructor.toString().includes("[native code]")&&console.warn(`[]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${re.$id}".`),y&&s&&t.hydrate&&t.hydrate(re.$state,y),c=!0,u=!0,re}function xT(r,e,t){let n,i;const s=typeof e=="function";typeof r=="string"?(n=r,i=s?t:e):(i=r,n=r.id);function o(a,l){const c=e3();if(a=a||c&&Ha(uT,null),a&&Pc(a),!Rg)throw new Error(`[]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);a=Rg,a._s.has(n)||(s?zg(n,e,i,a):Tx(n,i,a),o._pinia=a);const u=a._s.get(n);if(l){const f="__hot:"+n,d=s?zg(f,e,i,a,!0):Tx(f,ni({},i),a,!0);l._hotUpdate(d),delete a.state.value[f],a._s.delete(f)}if(qd&&c&&c.proxy&&!l){const f=c.proxy,d="_pStores"in f?f._pStores:f._pStores={};d[n]=u}return u}return o.$id=n,o}function xl(r){{r=He(r);const e={};for(const t in r){const n=r[t];(jt(n)||_i(n))&&(e[t]=oc(r,t))}return e}}class Rt{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),ji.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),ji.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new uc(this),s=new uc(e);for(let o=t,a=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=n)return!0}}iter(e=1){return new uc(this,e)}iterRange(e,t=this.length){return new bT(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new ST(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Rt.empty:e.length<=32?new Or(e):ji.from(Or.split(e,[]))}}class Or extends Rt{constructor(e,t=d5(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((t?n:a)>=e)return new p5(i,a,n,o);i=a+1,n++}}decompose(e,t,n,i){let s=e<=0&&t>=this.length?this:new Or(Px(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=n.pop(),a=Kf(s.text,o.text.slice(),0,s.length);if(a.length<=32)n.push(new Or(a,o.length+s.length));else{let l=a.length>>1;n.push(new Or(a.slice(0,l)),new Or(a.slice(l)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof Or))return super.replace(e,t,n);let i=Kf(this.text,Kf(n.text,Px(this.text,0,e)),t),s=this.length+n.length-(t-e);return i.length<=32?new Or(i,s):ji.from(Or.split(i,[]),s)}sliceString(e,t=this.length,n=`
`){let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=n),e<l&&t>s&&(i+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(t.push(new Or(n,i)),n=[],i=-1);return i>-1&&t.push(new Or(n,i)),t}}class ji extends Rt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=n+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,n,i);i=a+1,n=l+1}}decompose(e,t,n,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?n.push(a):a.decompose(e-o,t-o,n,c)}o=l+1}}replace(e,t,n){if(n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,n),c=this.lines-o.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let u=this.children.slice();return u[i]=l,new ji(u,this.length-(t-e)+n.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=n),e<l&&t>o&&(i+=a.sliceString(e-o,t-o,n)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ji))return 0;let n=0,[i,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==a)return n;let l=this.children[i],c=e.children[s];if(l!=c)return n+l.scanIdentical(c,t);n+=l.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let g of e)n+=g.lines;if(n<32){let g=[];for(let y of e)y.flatten(g);return new Or(g,t)}let i=Math.max(32,n>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function f(g){let y;if(g.lines>s&&g instanceof ji)for(let T of g.children)f(T);else g.lines>o&&(l>o||!l)?(d(),a.push(g)):g instanceof Or&&l&&(y=u[u.length-1])instanceof Or&&g.lines+y.lines<=32?(l+=g.lines,c+=g.length+1,u[u.length-1]=new Or(y.text.concat(g.text),y.length+1+g.length)):(l+g.lines>i&&d(),l+=g.lines,c+=g.length+1,u.push(g))}function d(){l!=0&&(a.push(u.length==1?u[0]:ji.from(u,c)),c=-1,l=u.length=0)}for(let g of e)f(g);return d(),a.length==1?a[0]:new ji(a,t)}}Rt.empty=new Or([""],0);function d5(r){let e=-1;for(let t of r)e+=t.length+1;return e}function Kf(r,e,t=0,n=1e9){for(let i=0,s=0,o=!0;s<r.length&&i<=n;s++){let a=r[s],l=i+a.length;l>=t&&(l>n&&(a=a.slice(0,n-i)),i<t&&(a=a.slice(t-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function Px(r,e,t){return Kf(r,[""],e,t)}class uc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Or?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,a=i instanceof Or?i.text.length:i.children.length;if(o==(t>0?a:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Or){let l=i.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Or?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class bT{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new uc(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ST{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Rt.prototype[Symbol.iterator]=function(){return this.iter()},uc.prototype[Symbol.iterator]=bT.prototype[Symbol.iterator]=ST.prototype[Symbol.iterator]=function(){return this});class p5{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}let Ka="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<Ka.length;r++)Ka[r]+=Ka[r-1];function m5(r){for(let e=1;e<Ka.length;e+=2)if(Ka[e]>r)return Ka[e-1]<=r;return!1}function _x(r){return r>=127462&&r<=127487}const Ax=8205;function yn(r,e,t=!0,n=!0){return(t?vT:g5)(r,e,n)}function vT(r,e,t){if(e==r.length)return e;e&&wT(r.charCodeAt(e))&&$T(r.charCodeAt(e-1))&&e--;let n=Wr(r,e);for(e+=ai(n);e<r.length;){let i=Wr(r,e);if(n==Ax||i==Ax||t&&m5(i))e+=ai(i),n=i;else if(_x(i)){let s=0,o=e-2;for(;o>=0&&_x(Wr(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function g5(r,e,t){for(;e>0;){let n=vT(r,e-2,t);if(n<e)return n;e--}return 0}function wT(r){return r>=56320&&r<57344}function $T(r){return r>=55296&&r<56320}function Wr(r,e){let t=r.charCodeAt(e);if(!$T(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return wT(n)?(t-55296<<10)+(n-56320)+65536:t}function V0(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function ai(r){return r<65536?1:2}const Fg=/\r\n?|\n/;var Yr=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(Yr||(Yr={}));class Hi{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(n,i,s),i+=s):i+=o,n+=s}}iterChangedRanges(e,t=!1){Dg(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new Hi(e)}composeDesc(e){return this.empty?e:e.empty?this:CT(this,e)}mapDesc(e,t=!1){return e.empty?this:Ug(this,e,t)}mapPos(e,t=-1,n=Yr.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(n!=Yr.Simple&&c>=e&&(n==Yr.TrackDel&&i<e&&c>e||n==Yr.TrackBefore&&i<e||n==Yr.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==i||t<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let s=this.sections[n++],o=this.sections[n++],a=i+s;if(o>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Hi(e)}static create(e){return new Hi(e)}}class kr extends Hi{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Dg(this,(t,n,i,s,o)=>e=e.replace(i,i+(n-t),o),!1),e}mapDesc(e,t=!1){return Ug(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;n.length<l;)n.push(Rt.empty);n.push(o?e.slice(s,s+o):Rt.empty)}s+=o}return new kr(t,n)}compose(e){return this.empty?e:e.empty?this:CT(this,e,!0)}map(e,t=!1){return e.empty?this:Ug(this,e,t,!0)}iterChanges(e,t=!1){Dg(this,e,t)}get desc(){return Hi.create(this.sections)}filter(e){let t=[],n=[],i=[],s=new _c(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);an(i,u,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;an(t,u,f),f>0&&Ws(n,t,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);an(t,u,-1),an(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new kr(t,n),filtered:Hi.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<t&&an(i,t-o,-1);let f=new kr(i,s);a=a?a.compose(f.map(a)):f,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof kr){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:d=f,insert:g}=u;if(f>d||f<0||d>t)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${t})`);let y=g?typeof g=="string"?Rt.of(g.split(n||Fg)):g:Rt.empty,T=y.length;if(f==d&&T==0)return;f<o&&l(),f>o&&an(i,f-o,-1),an(i,d-f,T),Ws(s,i,y),o=d}}return c(e),l(!a),a}static empty(e){return new kr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<i;)n.push(Rt.empty);n[i]=Rt.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new kr(t,n)}static createSet(e,t){return new kr(e,t)}}function an(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function Ws(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(Rt.empty);r.push(t)}}function Dg(r,e,t){let n=r.inserted;for(let i=0,s=0,o=0;o<r.sections.length;){let a=r.sections[o++],l=r.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,f=Rt.empty;for(;c+=a,u+=l,l&&n&&(f=f.append(n[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)a=r.sections[o++],l=r.sections[o++];e(i,c,s,u,f),i=c,s=u}}}function Ug(r,e,t,n=!1){let i=[],s=n?[]:null,o=new _c(r),a=new _c(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);an(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(an(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(an(i,0,o.ins),s&&Ws(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;an(i,c,l<o.i?o.ins:0),s&&l<o.i&&Ws(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?kr.createSet(i,s):Hi.create(i);throw new Error("Mismatched change set lengths")}}function CT(r,e,t=!1){let n=[],i=t?[]:null,s=new _c(r),o=new _c(e);for(let a=!1;;){if(s.done&&o.done)return i?kr.createSet(n,i):Hi.create(n);if(s.ins==0)an(n,s.len,0,a),s.next();else if(o.len==0&&!o.done)an(n,0,o.ins,a),i&&Ws(i,n,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=n.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;an(n,l,u,a),i&&u&&Ws(i,n,o.text)}else o.ins==-1?(an(n,s.off?0:s.len,l,a),i&&Ws(i,n,s.textBit(l))):(an(n,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&Ws(i,n,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||n.length>c),s.forward2(l),o.forward(l)}}}}class _c{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Rt.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Rt.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Fo{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new Fo(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return oe.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return oe.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return oe.range(e.anchor,e.head)}static create(e,t,n){return new Fo(e,t,n)}}class oe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:oe.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new oe([this.main],0)}addRange(e,t=!0){return oe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,oe.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new oe(e.ranges.map(t=>Fo.fromJSON(t)),e.main)}static single(e,t=e){return new oe([oe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return oe.normalized(e.slice(),t);n=s.to}return new oe(e,t)}static cursor(e,t=0,n,i){return Fo.create(e,e,(t==0?0:t<0?4:8)|(n==null?3:Math.min(2,n))|(i??33554431)<<5)}static range(e,t,n,i){let s=(n??33554431)<<5|(i==null?3:Math.min(2,i));return t<e?Fo.create(t,e,24|s):Fo.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?oe.range(l,a):oe.range(a,l))}}return new oe(e,t)}}function TT(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Z0=0;class Fe{constructor(e,t,n,i,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=Z0++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new Fe(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:W0),!!e.static,e.enables)}of(e){return new Jf([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Jf(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Jf(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function W0(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class Jf{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=Z0++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((t=e[f.id])!==null&&t!==void 0?t:1)&1||u.push(e[f.id]);return{create(f){return f.values[o]=n(f),1},update(f,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||qg(f,u)){let g=n(f);if(a?!kx(g,f.values[o],i):!i(g,f.values[o]))return f.values[o]=g,1}return 0},reconfigure:(f,d)=>{let g,y=d.config.address[s];if(y!=null){let T=Ah(d,y);if(this.dependencies.every(k=>k instanceof Fe?d.facet(k)===f.facet(k):k instanceof Ur?d.field(k,!1)==f.field(k,!1):!0)||(a?kx(g=n(f),T,i):i(g=n(f),T)))return f.values[o]=T,0}else g=n(f);return f.values[o]=g,1}}}}function kx(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function qg(r,e){let t=!1;for(let n of e)fc(r,n)&1&&(t=!0);return t}function O5(r,e,t){let n=t.map(l=>r[l.id]),i=t.map(l=>l.type),s=n.filter(l=>!(l&1)),o=r[e.id]>>1;function a(l){let c=[];for(let u=0;u<n.length;u++){let f=Ah(l,n[u]);if(i[u]==2)for(let d of f)c.push(d);else c.push(f)}return e.combine(c)}return{create(l){for(let c of n)fc(l,c);return l.values[o]=a(l),1},update(l,c){if(!qg(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=qg(l,n),f=c.config.facets[e.id],d=c.facet(e);if(f&&!u&&W0(t,f))return l.values[o]=d,0;let g=a(l);return e.compare(g,d)?(l.values[o]=d,0):(l.values[o]=g,1)}}}const Ex=Fe.define({static:!0});class Ur{constructor(e,t,n,i,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Ur(Z0++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ex).find(n=>n.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let s=n.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(n.values[t]=o,1)},reconfigure:(n,i)=>i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}init(e){return[this,Ex.of({field:this,create:e})]}get extension(){return this}}const Io={lowest:4,low:3,default:2,high:1,highest:0};function Il(r){return e=>new PT(e,r)}const la={highest:Il(Io.highest),high:Il(Io.high),default:Il(Io.default),low:Il(Io.low),lowest:Il(Io.lowest)};class PT{constructor(e,t){this.inner=e,this.prec=t}}class tu{of(e){return new Lg(this,e)}reconfigure(e){return tu.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Lg{constructor(e,t){this.compartment=e,this.inner=t}}class _h{constructor(e,t,n,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],s=Object.create(null),o=new Map;for(let d of y5(e,t,o))d instanceof Ur?i.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of i)a[d.id]=c.length<<1,c.push(g=>d.slot(g));let u=n==null?void 0:n.config.facets;for(let d in s){let g=s[d],y=g[0].facet,T=u&&u[d]||[];if(g.every(k=>k.type==0))if(a[y.id]=l.length<<1|1,W0(T,g))l.push(n.facet(y));else{let k=y.combine(g.map(U=>U.value));l.push(n&&y.compare(k,n.facet(y))?n.facet(y):k)}else{for(let k of g)k.type==0?(a[k.id]=l.length<<1|1,l.push(k.value)):(a[k.id]=c.length<<1,c.push(U=>k.dynamicSlot(U)));a[y.id]=c.length<<1,c.push(k=>O5(k,y,g))}}let f=c.map(d=>d(a));return new _h(e,o,f,a,l,s)}}function y5(r,e,t){let n=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=n[l].indexOf(o);c>-1&&n[l].splice(c,1),o instanceof Lg&&t.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Lg){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof PT)s(o.inner,o.prec);else if(o instanceof Ur)n[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Jf)n[a].push(o),o.facet.extensions&&s(o.facet.extensions,Io.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(r,Io.default),n.reduce((o,a)=>o.concat(a))}function fc(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function Ah(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const _T=Fe.define(),AT=Fe.define({combine:r=>r.some(e=>e),static:!0}),kT=Fe.define({combine:r=>r.length?r[0]:void 0,static:!0}),ET=Fe.define(),QT=Fe.define(),NT=Fe.define(),IT=Fe.define({combine:r=>r.length?r[0]:!1});class _s{constructor(e,t){this.type=e,this.value=t}static define(){return new x5}}class x5{of(e){return new _s(this,e)}}class b5{constructor(e){this.map=e}of(e){return new ot(this,e)}}class ot{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ot(this.type,t)}is(e){return this.type==e}static define(e={}){return new b5(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(t);s&&n.push(s)}return n}}ot.reconfigure=ot.define();ot.appendConfig=ot.define();class Er{constructor(e,t,n,i,s,o){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&TT(n,t.newLength),s.some(a=>a.type==Er.time)||(this.annotations=s.concat(Er.time.of(Date.now())))}static create(e,t,n,i,s,o){return new Er(e,t,n,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Er.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Er.time=_s.define();Er.userEvent=_s.define();Er.addToHistory=_s.define();Er.remote=_s.define();function S5(r,e){let t=[];for(let n=0,i=0;;){let s,o;if(n<r.length&&(i==e.length||e[i]>=r[n]))s=r[n++],o=r[n++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function RT(r,e,t){var n;let i,s,o;return t?(i=e.changes,s=kr.empty(e.changes.length),o=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:ot.mapEffects(r.effects,i).concat(ot.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function jg(r,e,t){let n=e.selection,i=Ja(e.annotations);return e.userEvent&&(i=i.concat(Er.userEvent.of(e.userEvent))),{changes:e.changes instanceof kr?e.changes:kr.of(e.changes||[],t,r.facet(kT)),selection:n&&(n instanceof oe?n:oe.single(n.anchor,n.head)),effects:Ja(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function MT(r,e,t){let n=jg(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;n=RT(n,jg(r,e[s],o?n.changes.newLength:r.doc.length),o)}let i=Er.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return w5(t?v5(i):i)}function v5(r){let e=r.startState,t=!0;for(let i of e.facet(ET)){let s=i(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:S5(t,s))}if(t!==!0){let i,s;if(t===!1)s=r.changes.invertedDesc,i=kr.empty(e.doc.length);else{let o=r.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=Er.create(e,i,r.selection&&r.selection.map(s),ot.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let n=e.facet(QT);for(let i=n.length-1;i>=0;i--){let s=n[i](r);s instanceof Er?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Er?r=s[0]:r=MT(e,Ja(s),!1)}return r}function w5(r){let e=r.startState,t=e.facet(NT),n=r;for(let i=t.length-1;i>=0;i--){let s=t[i](r);s&&Object.keys(s).length&&(n=RT(n,jg(e,s,r.changes.newLength),!0))}return n==r?r:Er.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const $5=[];function Ja(r){return r==null?$5:Array.isArray(r)?r:[r]}var Jt=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(Jt||(Jt={}));const C5=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Vg;try{Vg=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function T5(r){if(Vg)return Vg.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||C5.test(t)))return!0}return!1}function P5(r){return e=>{if(!/\S/.test(e))return Jt.Space;if(T5(e))return Jt.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return Jt.Word;return Jt.Other}}class wt{constructor(e,t,n,i,s,o){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)fc(this,a<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return fc(this,n),Ah(this,n)}update(...e){return MT(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let o of e.effects)o.is(tu.reconfigure)?(t&&(i=new Map,t.compartments.forEach((a,l)=>i.set(l,a)),t=null),i.set(o.value.compartment,o.value.extension)):o.is(ot.reconfigure)?(t=null,n=o.value):o.is(ot.appendConfig)&&(t=null,n=Ja(n).concat(o.value));let s;t?s=e.startState.values.slice():(t=_h.resolve(n,i,this),s=new wt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new wt(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:oe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),s=[n.range],o=Ja(n.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let d=0;d<a;d++)s[d]=s[d].map(u);let f=i.mapDesc(c,!0);s.push(l.range.map(f)),i=i.compose(u),o=ot.mapEffects(o,u).concat(ot.mapEffects(Ja(l.effects),f))}return{changes:i,selection:oe.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof kr?e:kr.of(e,this.doc.length,this.facet(wt.lineSeparator))}toText(e){return Rt.of(e.split(this.facet(wt.lineSeparator)||Fg))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(fc(this,t),Ah(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Ur&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let o=n[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return wt.create({doc:e.doc,selection:oe.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=_h.resolve(e.extensions||[],new Map),n=e.doc instanceof Rt?e.doc:Rt.of((e.doc||"").split(t.staticFacet(wt.lineSeparator)||Fg)),i=e.selection?e.selection instanceof oe?e.selection:oe.single(e.selection.anchor,e.selection.head):oe.single(0);return TT(i,n.length),t.staticFacet(AT)||(i=i.asSingle()),new wt(t,n,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(wt.tabSize)}get lineBreak(){return this.facet(wt.lineSeparator)||`
`}get readOnly(){return this.facet(IT)}phrase(e,...t){for(let n of this.facet(wt.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let s of this.facet(_T))for(let o of s(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return P5(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-n,a=e-n;for(;o>0;){let l=yn(t,o,!1);if(s(t.slice(l,o))!=Jt.Word)break;o=l}for(;a<i;){let l=yn(t,a);if(s(t.slice(a,l))!=Jt.Word)break;a=l}return o==a?null:oe.range(o+n,a+n)}}wt.allowMultipleSelections=AT;wt.tabSize=Fe.define({combine:r=>r.length?r[0]:4});wt.lineSeparator=kT;wt.readOnly=IT;wt.phrases=Fe.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});wt.languageData=_T;wt.changeFilter=ET;wt.transactionFilter=QT;wt.transactionExtender=NT;tu.reconfigure=ot.define();function ts(r,e,t={}){let n={};for(let i of r)for(let s of Object.keys(i)){let o=i[s],a=n[s];if(a===void 0)n[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class Jo{eq(e){return this==e}range(e,t=e){return Zg.create(e,t,this)}}Jo.prototype.startSide=Jo.prototype.endSide=0;Jo.prototype.point=!1;Jo.prototype.mapMode=Yr.TrackDel;let Zg=class BT{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new BT(e,t,n)}};function Wg(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class X0{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let s=n?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,n,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,d,g;if(u==f){let y=t.mapPos(u,c.startSide,c.mapMode);if(y==null||(d=g=y,c.startSide!=c.endSide&&(g=t.mapPos(u,c.endSide),g<d)))continue}else if(d=t.mapPos(u,c.startSide),g=t.mapPos(f,c.endSide),d>g||d==g&&c.startSide>0&&c.endSide<=0)continue;(g-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,g-d)),n.push(c),i.push(d-o),s.push(g-o))}return{mapped:n.length?new X0(i,s,n,a):null,pos:o}}}class zt{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new zt(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(Wg)),this.isEmpty)return t.length?zt.of(t):this;let a=new zT(this,null,-1).goto(0),l=0,c=[],u=new oo;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let f=t[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(Zg.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?zt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),t.push(l),n.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),t.push(u),n.push(f))}}let s=this.nextLayer.map(e);return t.length==0?s:new zt(n,t,s||zt.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return Ac.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ac.from(e).goto(t)}static compare(e,t,n,i,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=Qx(o,a,n),c=new Rl(o,l,s),u=new Rl(a,l,s);n.iterGaps((f,d,g)=>Nx(c,f,u,d,g,i)),n.empty&&n.length==0&&Nx(c,0,u,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=1e9-1);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Qx(s,o),l=new Rl(s,a,0).goto(n),c=new Rl(o,a,0).goto(n);for(;;){if(l.to!=c.to||!Xg(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,t,n,i,s=-1){let o=new Rl(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,n);if(o.point){let u=o.activeForPoint(o.to),f=o.pointFrom<t?u.length+1:Math.min(u.length,l);i.point(a,c,o.point,u,f,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>n)return l+(o.point&&o.to>n?1:0);a=o.to,o.next()}}static of(e,t=!1){let n=new oo;for(let i of e instanceof Zg?[e]:t?_5(e):e)n.add(i.from,i.to,i.value);return n.finish()}}zt.empty=new zt([],[],null,-1);function _5(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if(Wg(e,n)>0)return r.slice().sort(Wg);e=n}return r}zt.empty.nextLayer=zt.empty;class oo{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new X0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new oo)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(zt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=zt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Qx(r,e,t){let n=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&n.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=n.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class zT{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ac{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new zT(o,t,n,s));return i.length==1?i[0]:new Ac(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Up(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Up(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Up(this.heap,0)}}}function Up(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class Rl{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ac.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Du(this.active,e),Du(this.activeTo,e),Du(this.activeRank,e),this.minActive=Ix(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;Uu(this.active,t,n),Uu(this.activeTo,t,i),Uu(this.activeRank,t,s),e&&Uu(e,t,this.cursor.from),this.minActive=Ix(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Du(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Nx(r,e,t,n,i,s){r.goto(e),t.goto(n);let o=n+i,a=n,l=n-e;for(;;){let c=r.to+l-t.to||r.endSide-t.endSide,u=c<0?r.to+l:t.to,f=Math.min(u,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Xg(r.activeForPoint(r.to+l),t.activeForPoint(t.to))||s.comparePoint(a,f,r.point,t.point):f>a&&!Xg(r.active,t.active)&&s.compareRange(a,f,r.active,t.active),u>o)break;a=u,c<=0&&r.next(),c>=0&&t.next()}}function Xg(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Du(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function Uu(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function Ix(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function ru(r,e,t=r.length){let n=0;for(let i=0;i<t;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=yn(r,i));return n}function Yg(r,e,t,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==r.length)break;s+=r.charCodeAt(i)==9?t-s%t:1,i=yn(r,i)}return n===!0?-1:r.length}const Gg="",Rx=typeof Symbol>"u"?"__"+Gg:Symbol.for(Gg),Hg=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ao{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],f=/^@(\w+)\b/.exec(o[0]),d=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let g in a){let y=a[g];if(/&/.test(g))s(g.split(/,\s*/).map(T=>o.map(k=>T.replace(/&/,k))).reduce((T,k)=>T.concat(k)),y,l);else if(y&&typeof y=="object"){if(!f)throw new RangeError("The value of a property ("+g+") should be a primitive value.");s(i(g),y,u,d)}else y!=null&&u.push(g.replace(/_.*/,"").replace(/[A-Z]/g,T=>"-"+T.toLowerCase())+": "+y+";")}(u.length||d)&&l.push((n&&!f&&!c?o.map(n):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Mx[Rx]||1;return Mx[Rx]=e+1,Gg+e.toString(36)}static mount(e,t){(e[Hg]||new A5(e)).mount(Array.isArray(t)?t:[t])}}let qu=null;class A5{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(qu)return e.adoptedStyleSheets=[qu.sheet,...e.adoptedStyleSheets],e[Hg]=qu;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],qu=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[Hg]=this}mount(e){let t=this.sheet,n=0,i=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<i&&a>-1&&(this.modules.splice(a,1),i--,a=-1),a==-1){if(this.modules.splice(i++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],n++)}else{for(;i<a;)n+=this.modules[i++].rules.length;n+=o.rules.length,i++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}var lo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Bx=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),k5=typeof navigator<"u"&&/Mac/.test(navigator.platform),E5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Q5=k5||Bx&&+Bx[1]<57;for(var Xr=0;Xr<10;Xr++)lo[48+Xr]=lo[96+Xr]=String(Xr);for(var Xr=1;Xr<=24;Xr++)lo[Xr+111]="F"+Xr;for(var Xr=65;Xr<=90;Xr++)lo[Xr]=String.fromCharCode(Xr+32),kc[Xr]=String.fromCharCode(Xr);for(var qp in lo)kc.hasOwnProperty(qp)||(kc[qp]=lo[qp]);function N5(r){var e=Q5&&(r.ctrlKey||r.altKey||r.metaKey)||E5&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?kc:lo)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function kh(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function al(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function I5(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function eh(r,e){if(!e.anchorNode)return!1;try{return al(r,e.anchorNode)}catch{return!1}}function Ec(r){return r.nodeType==3?ll(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Eh(r,e,t,n){return t?zx(r,e,t,n,-1)||zx(r,e,t,n,1):!1}function Qh(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function zx(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Qc(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=Qh(r)+(i<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?Qc(r):0}else return!1}}function Qc(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}const FT={left:0,right:0,top:0,bottom:0};function Y0(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function R5(r){return{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function M5(r,e,t,n,i,s,o,a){let l=r.ownerDocument,c=l.defaultView||window;for(let u=r;u;)if(u.nodeType==1){let f,d=u==l.body;if(d)f=R5(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let T=u.getBoundingClientRect();f={left:T.left,right:T.left+u.clientWidth,top:T.top,bottom:T.top+u.clientHeight}}let g=0,y=0;if(i=="nearest")e.top<f.top?(y=-(f.top-e.top+o),t>0&&e.bottom>f.bottom+y&&(y=e.bottom-f.bottom+y+o)):e.bottom>f.bottom&&(y=e.bottom-f.bottom+o,t<0&&e.top-y<f.top&&(y=-(f.top+y-e.top+o)));else{let T=e.bottom-e.top,k=f.bottom-f.top;y=(i=="center"&&T<=k?e.top+T/2-k/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-k+o)-f.top}if(n=="nearest"?e.left<f.left?(g=-(f.left-e.left+s),t>0&&e.right>f.right+g&&(g=e.right-f.right+g+s)):e.right>f.right&&(g=e.right-f.right+s,t<0&&e.left<f.left+g&&(g=-(f.left+g-e.left+s))):g=(n=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:n=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,g||y)if(d)c.scrollBy(g,y);else{let T=0,k=0;if(y){let U=u.scrollTop;u.scrollTop+=y,k=u.scrollTop-U}if(g){let U=u.scrollLeft;u.scrollLeft+=g,T=u.scrollLeft-U}e={left:e.left-T,top:e.top-k,right:e.right-T,bottom:e.bottom-k},T&&Math.abs(T-g)<1&&(n="nearest"),k&&Math.abs(k-y)<1&&(i="nearest")}if(d)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function B5(r){let e=r.ownerDocument;for(let t=r.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class z5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let xa=null;function DT(r){if(r.setActive)return r.setActive();if(xa)return r.focus(xa);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(xa==null?{get preventScroll(){return xa={preventScroll:!0},!0}}:void 0),!xa){xa=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],s=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let Fx;function ll(r,e,t=e){let n=Fx||(Fx=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function el(r,e,t){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0},i=new KeyboardEvent("keydown",n);i.synthetic=!0,r.dispatchEvent(i);let s=new KeyboardEvent("keyup",n);return s.synthetic=!0,r.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function F5(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function UT(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function D5(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(;;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=Qc(t))}else{if(t==r)return!0;n=Qh(t),t=t.parentNode}}class fn{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new fn(e.parentNode,Qh(e),t)}static after(e,t){return new fn(e.parentNode,Qh(e)+1,t)}}const G0=[];class Xt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(this.dirty&2){let n=this.dom,i=null,s;for(let o of this.children){if(o.dirty){if(!o.dom&&(s=i?i.nextSibling:n.firstChild)){let a=Xt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.dirty=0}if(s=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&s!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=Dx(s);else n.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:n.firstChild,s&&t&&t.node==n&&(t.written=!0);s;)s=Dx(s)}else if(this.dirty&1)for(let n of this.children)n.dirty&&(n.sync(e,t),n.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=Qc(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Xt.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==n)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=n,u=n;l<this.children.length;l++){let f=this.children[l],d=c+f.length;if(c<e&&d>t)return f.domBoundsAround(e,t,c);if(d>=e&&i==-1&&(i=l,s=c),c>t&&f.dom.parentNode==this.dom){o=l,a=u;break}u=d,c=d+f.breakAfter}return{from:s,to:a<0?n+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=G0){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...n);for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new qT(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,t,n,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Xt.prototype.breakAfter=0;function Dx(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class qT{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function LT(r,e,t,n,i,s,o,a,l){let{children:c}=r,u=c.length?c[e]:null,f=s.length?s[s.length-1]:null,d=f?f.breakAfter:o;if(!(e==n&&u&&!o&&!d&&s.length<2&&u.merge(t,i,s.length?f:null,t==0,a,l))){if(n<c.length){let g=c[n];g&&i<g.length?(e==n&&(g=g.split(i),i=0),!d&&f&&g.merge(0,i,f,!0,0,l)?s[s.length-1]=g:(i&&g.merge(0,i,null,!1,0,l),s.push(g))):g!=null&&g.breakAfter&&(f?f.breakAfter=1:o=1),n++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,a,0),e++));e<n&&s.length;)if(c[n-1].become(s[s.length-1]))n--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,a,l)&&e--,(e<n||s.length)&&r.replaceChildren(e,n,s)}}function jT(r,e,t,n,i,s){let o=r.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),f=e-t;for(let d of n)f+=d.length;r.length+=f,LT(r,c,u,a,l,n,0,i,s)}let jn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Kg=typeof document<"u"?document:{documentElement:{style:{}}};const Jg=/Edge\/(\d+)/.exec(jn.userAgent),VT=/MSIE \d/.test(jn.userAgent),eO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jn.userAgent),Ld=!!(VT||eO||Jg),Ux=!Ld&&/gecko\/(\d+)/i.test(jn.userAgent),Lp=!Ld&&/Chrome\/(\d+)/.exec(jn.userAgent),qx="webkitFontSmoothing"in Kg.documentElement.style,ZT=!Ld&&/Apple Computer/.test(jn.vendor),Lx=ZT&&(/Mobile\/\w+/.test(jn.userAgent)||jn.maxTouchPoints>2);var qe={mac:Lx||/Mac/.test(jn.platform),windows:/Win/.test(jn.platform),linux:/Linux|X11/.test(jn.platform),ie:Ld,ie_version:VT?Kg.documentMode||6:eO?+eO[1]:Jg?+Jg[1]:0,gecko:Ux,gecko_version:Ux?+(/Firefox\/(\d+)/.exec(jn.userAgent)||[0,0])[1]:0,chrome:!!Lp,chrome_version:Lp?+Lp[1]:0,ios:Lx,android:/Android\b/.test(jn.userAgent),webkit:qx,safari:ZT,webkit_version:qx?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Kg.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const U5=256;class co extends Xt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return n&&(!(n instanceof co)||this.length-(t-e)+n.length>U5)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new co(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new fn(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return tO(this.dom,e,t)}}class es extends Xt{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let i of t)i.setParent(this)}setAttrs(e){if(UT(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,i,s,o){return n&&(!(n instanceof es&&n.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(jT(this,e,t,n?n.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,s=0;for(let a of this.children){let l=n+a.length;l>e&&t.push(n<e?a.split(e-n):a),i<0&&n>=e&&(i=s),n=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new es(this.mark,t,o)}domAtPos(e){return YT(this,e)}coordsAt(e,t){return HT(this,e,t)}}function tO(r,e,t){let n=r.nodeValue.length;e>n&&(e=n);let i=e,s=e,o=0;e==0&&t<0||e==n&&t>=0?qe.chrome||qe.gecko||(e?(i--,o=1):s<n&&(s++,o=-1)):t<0?i--:s<n&&s++;let a=ll(r,i,s).getClientRects();if(!a.length)return FT;let l=a[(o?o<0:t>=0)?0:a.length-1];return qe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Y0(l,o<0):l||null}class Xs extends Xt{constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}static create(e,t,n){return new(e.customView||Xs)(e,t,n)}split(e){let t=Xs.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,i,s,o){return n&&(!(n instanceof Xs)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof Xs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Rt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Rt.empty}domAtPos(e){return e==0?fn.before(this.dom):fn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.dom.getClientRects(),i=null;if(!n.length)return FT;for(let s=e>0?n.length-1:0;i=n[s],!(e>0?s==0:s==n.length-1||i.top<i.bottom);s+=e>0?-1:1);return this.length?i:Y0(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WT extends Xs{domAtPos(e){let{topView:t,text:n}=this.widget;return t?rO(e,0,t,n,(i,s)=>i.domAtPos(s),i=>new fn(n,Math.min(i,n.nodeValue.length))):new fn(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:n,text:i}=this.widget;return n?XT(e,t,n,i):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:n,text:i}=this.widget;return n?rO(e,t,n,i,(s,o,a)=>s.coordsAt(o,a),(s,o)=>tO(i,s,o)):tO(i,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function rO(r,e,t,n,i,s){if(t instanceof es){for(let o=t.dom.firstChild;o;o=o.nextSibling){let a=Xt.get(o);if(!a)return s(r,e);let l=al(o,n),c=a.length+(l?n.nodeValue.length:0);if(r<c||r==c&&a.getSide()<=0)return l?rO(r,e,a,n,i,s):i(a,r,e);r-=c}return i(t,t.length,-1)}else return t.dom==n?s(r,e):i(t,r,e)}function XT(r,e,t,n){if(t instanceof es)for(let i of t.children){let s=0,o=al(i.dom,n);if(al(i.dom,r))return s+(o?XT(r,e,i,n):i.localPosFromDOM(r,e));s+=o?n.nodeValue.length:i.length}else if(t.dom==n)return Math.min(e,n.nodeValue.length);return t.localPosFromDOM(r,e)}class cl extends Xt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof cl&&e.side==this.side}split(){return new cl(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return fn.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),n=q5(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}get overrideDOMText(){return Rt.empty}}co.prototype.children=Xs.prototype.children=cl.prototype.children=G0;function q5(r,e){let t=r.parent,n=t?t.children.indexOf(r):-1;for(;t&&n>=0;)if(e<0?n>0:n<t.children.length){let i=t.children[n+e];if(i instanceof co){let s=i.coordsAt(e<0?i.length:0,e);if(s)return s}n+=e}else if(t instanceof es&&t.parent)n=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let i=t.dom.lastChild;if(i&&i.nodeName=="BR")return i.getClientRects()[0];break}}function YT(r,e){let t=r.dom,{children:n}=r,i=0;for(let s=0;i<n.length;i++){let o=n[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=n[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<n.length;s++){let o=n[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new fn(t,0)}function GT(r,e,t){let n,{children:i}=r;t>0&&e instanceof es&&i.length&&(n=i[i.length-1])instanceof es&&n.mark.eq(e.mark)?GT(n,e.children[0],t-1):(i.push(e),e.setParent(r)),r.length+=e.length}function HT(r,e,t){let n=null,i=-1,s=null,o=-1;function a(c,u){for(let f=0,d=0;f<c.children.length&&d<=u;f++){let g=c.children[f],y=d+g.length;y>=u&&(g.children.length?a(g,u-d):!s&&(y>u||d==y&&g.getSide()>0)?(s=g,o=u-d):(d<u||d==y&&g.getSide()<0)&&(n=g,i=u-d)),d=y}}a(r,e);let l=(t<0?n:s)||n||s;return l?l.coordsAt(Math.max(0,l==n?i:o),t):L5(r)}function L5(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Ec(e);return t[t.length-1]||null}function nO(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}function H0(r,e){if(r==e)return!0;if(!r||!e)return!1;let t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i of t)if(n.indexOf(i)==-1||r[i]!==e[i])return!1;return!0}function iO(r,e,t){let n=null;if(e)for(let i in e)t&&i in t||r.removeAttribute(n=i);if(t)for(let i in t)e&&e[i]==t[i]||r.setAttribute(n=i,t[i]);return!!n}class rs{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Lt=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(Lt||(Lt={}));class Le extends Jo{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new jd(e)}static widget(e){let t=e.side||0,n=!!e.block;return t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,new ea(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:o}=KT(e,t);n=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new ea(e,n,i,t,e.widget||null,!0)}static line(e){return new nu(e)}static set(e,t=!1){return zt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Le.none=zt.empty;class jd extends Le{constructor(e){let{start:t,end:n}=KT(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof jd&&this.tagName==e.tagName&&this.class==e.class&&H0(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}jd.prototype.point=!1;class nu extends Le{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof nu&&this.spec.class==e.spec.class&&H0(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}nu.prototype.mapMode=Yr.TrackBefore;nu.prototype.point=!0;class ea extends Le{constructor(e,t,n,i,s,o){super(t,n,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?Yr.TrackBefore:Yr.TrackAfter:Yr.TrackDel}get type(){return this.startSide<this.endSide?Lt.WidgetRange:this.startSide<=0?Lt.WidgetBefore:Lt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof ea&&j5(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ea.prototype.point=!0;function KT(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function j5(r,e){return r==e||!!(r&&e&&r.compare(e))}function sO(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class xn extends Xt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,s,o){if(n){if(!(n instanceof xn))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),jT(this,e,t,n?n.children:[],s,o),!0}split(e){let t=new xn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)t.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){H0(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){GT(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=nO(t,this.attrs||{})),n&&(this.attrs=nO({class:n},this.attrs||{}))}domAtPos(e){return YT(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var n;this.dom?this.dirty&4&&(UT(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(iO(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Xt.get(i)instanceof es;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=Xt.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!qe.ios||!this.children.some(s=>s instanceof co))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof co)||/[^ -~]/.test(t.text))return null;let n=Ec(t.dom);if(n.length!=1)return null;e+=n[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return HT(this,e,t)}become(e){return!1}get type(){return Lt.Text}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let s=e.children[n],o=i+s.length;if(o>=t){if(s instanceof xn)return s;if(o>t)break}i=o+s.breakAfter}return null}}class Wo extends Xt{constructor(e,t,n){super(),this.widget=e,this.length=t,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,s,o){return n&&(!(n instanceof Wo)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?fn.before(this.dom):fn.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Wo(this.widget,t,this.type);return n.breakAfter=this.breakAfter,n}get children(){return G0}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Rt.empty}domBoundsAround(){return null}become(e){return e instanceof Wo&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class K0{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Wo&&e.type==Lt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new xn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Lu(new cl(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Lu(new co(this.text.slice(this.textOff,this.textOff+i)),t),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,s,o){if(this.disallowBlockEffectsFor[o]&&n instanceof ea){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(n instanceof ea)if(n.block){let{type:l}=n;l==Lt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Wo(n.widget||new jx("div"),a,l))}else{let l=Xs.create(n.widget||new jx("span"),a,a?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||n.startSide>0),u=!l.isEditable&&(e<t||s>i.length||n.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(Lu(new cl(1),i),s),s=i.length+Math.max(0,s-i.length)),f.append(Lu(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,n,i,s){let o=new K0(e,t,n,s);return o.openEnd=zt.spans(i,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Lu(r,e){for(let t of e)r=new es(t,[r],r.length);return r}class jx extends rs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const JT=Fe.define(),eP=Fe.define(),tP=Fe.define(),rP=Fe.define(),oO=Fe.define(),nP=Fe.define(),iP=Fe.define(),sP=Fe.define({combine:r=>r.some(e=>e)}),oP=Fe.define({combine:r=>r.some(e=>e)});class Nh{constructor(e,t="nearest",n="nearest",i=5,s=5){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new Nh(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Vx=ot.define({map:(r,e)=>r.map(e)});function Wn(r,e,t){let n=r.facet(rP);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Vd=Fe.define({combine:r=>r.length?r[0]:!0});let V5=0;const Gl=Fe.define();class vr{constructor(e,t,n,i){this.id=e,this.create=t,this.domEventHandlers=n,this.extension=i(this)}static define(e,t){const{eventHandlers:n,provide:i,decorations:s}=t||{};return new vr(V5++,e,n,o=>{let a=[Gl.of(o)];return s&&a.push(Nc.of(l=>{let c=l.plugin(o);return c?s(c):Le.none})),i&&a.push(i(o)),a})}static fromClass(e,t){return vr.define(n=>new e(n),t)}}class jp{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(Wn(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Wn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){Wn(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const aP=Fe.define(),J0=Fe.define(),Nc=Fe.define(),lP=Fe.define(),cP=Fe.define(),Hl=Fe.define();class Ki{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new Ki(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let f=t[s],d=t[s+1],g=Math.max(a,f),y=Math.min(u,d);if(g<=y&&new Ki(g+c,y+c,g,y).addToSet(n),d>u)break;s+=2}if(!l)return n;new Ki(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,a=l.toB}}}class Ih{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=kr.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Ki(s,o,a,l))),this.changedRanges=i}static create(e,t,n){return new Ih(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var ir=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(ir||(ir={}));const aO=ir.LTR,Z5=ir.RTL;function uP(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const W5=uP("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),X5=uP("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),lO=Object.create(null),Ii=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);lO[e]=t,lO[t]=-e}function Y5(r){return r<=247?W5[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?X5[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203?256:64336<=r&&r<=65023?4:r==8204?256:1}const G5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class tl{constructor(e,t,n){this.from=e,this.to=t,this.level=n}get dir(){return this.level%2?Z5:aO}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==n)return o;(s<0||(i!=0?i<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const er=[];function H5(r,e){let t=r.length,n=e==aO?1:2,i=e==aO?2:1;if(!r||n==1&&!G5.test(r))return fP(t);for(let o=0,a=n,l=n;o<t;o++){let c=Y5(r.charCodeAt(o));c==512?c=a:c==8&&l==4&&(c=16),er[o]=c==4?2:c,c&7&&(l=c),a=c}for(let o=0,a=n,l=n;o<t;o++){let c=er[o];if(c==128)o<t-1&&a==er[o+1]&&a&24?c=er[o]=a:er[o]=256;else if(c==64){let u=o+1;for(;u<t&&er[u]==64;)u++;let f=o&&a==8||u<t&&er[u]==8?l==1?1:8:256;for(let d=o;d<u;d++)er[d]=f;o=u-1}else c==8&&l==1&&(er[o]=1);a=c,c&7&&(l=c)}for(let o=0,a=0,l=0,c,u,f;o<t;o++)if(u=lO[c=r.charCodeAt(o)])if(u<0){for(let d=a-3;d>=0;d-=3)if(Ii[d+1]==-u){let g=Ii[d+2],y=g&2?n:g&4?g&1?i:n:0;y&&(er[o]=er[Ii[d]]=y),a=d;break}}else{if(Ii.length==189)break;Ii[a++]=o,Ii[a++]=c,Ii[a++]=l}else if((f=er[o])==2||f==1){let d=f==n;l=d?0:1;for(let g=a-3;g>=0;g-=3){let y=Ii[g+2];if(y&2)break;if(d)Ii[g+2]|=2;else{if(y&4)break;Ii[g+2]|=4}}}for(let o=0;o<t;o++)if(er[o]==256){let a=o+1;for(;a<t&&er[a]==256;)a++;let l=(o?er[o-1]:n)==1,c=(a<t?er[a]:n)==1,u=l==c?l?1:2:n;for(let f=o;f<a;f++)er[f]=u;o=a-1}let s=[];if(n==1)for(let o=0;o<t;){let a=o,l=er[o++]!=1;for(;o<t&&l==(er[o]!=1);)o++;if(l)for(let c=o;c>a;){let u=c,f=er[--c]!=2;for(;c>a&&f==(er[c-1]!=2);)c--;s.push(new tl(c,u,f?2:1))}else s.push(new tl(a,o,0))}else for(let o=0;o<t;){let a=o,l=er[o++]==2;for(;o<t&&l==(er[o]==2);)o++;s.push(new tl(a,o,l?1:2))}return s}function fP(r){return[new tl(0,r,0)]}let hP="";function K5(r,e,t,n,i){var s;let o=n.head-r.from,a=-1;if(o==0){if(!i||!r.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==r.length){if(i)return null;let d=e[e.length-1];d.level!=t&&(o=d.side(!0,t),a=e.length-1)}a<0&&(a=tl.find(e,o,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc));let l=e[a];o==l.side(i,t)&&(l=e[a+=i?1:-1],o=l.side(!i,t));let c=i==(l.dir==t),u=yn(r.text,o,c);if(hP=r.text.slice(Math.min(o,u),Math.max(o,u)),u!=l.side(i,t))return oe.cursor(u+r.from,c?-1:1,l.level);let f=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return!f&&l.level!=t?oe.cursor(i?r.to:r.from,i?-1:1,t):f&&f.level<l.level?oe.cursor(f.side(!i,t)+r.from,i?1:-1,f.level):oe.cursor(u+r.from,i?-1:1,l.level)}const Ys="";class dP{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(wt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ys}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i),this.readNode(i);let s=i.nextSibling;if(s==t)break;let o=Xt.get(i),a=Xt.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:Zx(i))||Zx(s)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=s}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(a=i.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let t=Xt.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(t,n.offset))}}function Zx(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}class Wx{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Xx extends Xt{constructor(e){super(),this.view=e,this.compositionDeco=Le.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new xn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ki(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Le.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=eM(this.view,e.changes)),(qe.ie||qe.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=this.decorations,i=this.updateDeco(),s=iM(n,i,e.changes);return t=Ki.extendWithRanges(t,s),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=qe.chrome||qe.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||n.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Wo&&s.widget instanceof Yx&&i.push(s.dom);n.updateGaps(i)}updateChildren(e,t){let n=this.childCursor(t);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:c}=s,{content:u,breakAtStart:f,openStart:d,openEnd:g}=K0.build(this.view.state.doc,l,c,this.decorations,this.dynamicDecorationMap),{i:y,off:T}=n.findPos(a,1),{i:k,off:U}=n.findPos(o,-1);LT(this,k,U,y,T,u,f,d,g)}}updateSelection(e=!1,t=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection()))return;let n=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,s=this.domAtPos(i.anchor),o=i.empty?s:this.domAtPos(i.head);if(qe.gecko&&i.empty&&J5(s)){let l=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(l,s.node.childNodes[s.offset]||null)),s=o=new fn(l,0),n=!0}let a=this.view.observer.selectionRange;(n||!a.focusNode||!Eh(s.node,s.offset,a.anchorNode,a.anchorOffset)||!Eh(o.node,o.offset,a.focusNode,a.focusOffset))&&(this.view.observer.ignore(()=>{qe.android&&qe.chrome&&this.dom.contains(a.focusNode)&&sM(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=kh(this.view.root);if(l)if(i.empty){if(qe.gecko){let c=rM(s.node,s.offset);if(c&&c!=3){let u=mP(s.node,s.offset,c==1?1:-1);u&&(s=new fn(u,c==1?0:u.nodeValue.length))}}l.collapse(s.node,s.offset),i.bidiLevel!=null&&a.cursorBidiLevel!=null&&(a.cursorBidiLevel=i.bidiLevel)}else if(l.extend){l.collapse(s.node,s.offset);try{l.extend(o.node,o.offset)}catch{}}else{let c=document.createRange();i.anchor>i.head&&([s,o]=[o,s]),c.setEnd(o.node,o.offset),c.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(c)}}),this.view.observer.setSelectionRange(s,o)),this.impreciseAnchor=s.precise?null:new fn(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new fn(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,n=kh(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=xn.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);n.collapse(u.node,u.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&n.collapse(i,s)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||eh(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let n=Xt.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(n<i.length||i instanceof xn)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){for(let n=this.length,i=this.children.length-1;;i--){let s=this.children[i],o=n-s.breakAfter-s.length;if(e>o||e==o&&s.type!=Lt.WidgetBefore&&s.type!=Lt.WidgetAfter&&(!i||t==2||this.children[i-1].breakAfter||this.children[i-1].type==Lt.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);n=o}}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==ir.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],d=c+f.length;if(d>i)break;if(c>=n){let g=f.dom.getBoundingClientRect();if(t.push(g.height),o){let y=f.dom.lastChild,T=y?Ec(y):[];if(T.length){let k=T[T.length-1],U=l?k.right-g.left:g.right-k.left;U>a&&(a=U,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?ir.RTL:ir.LTR}measureTextSize(){for(let i of this.children)if(i instanceof xn){let s=i.measureTextSize();if(s)return s}let e=document.createElement("div"),t,n;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=Ec(e.firstChild)[0];t=e.getBoundingClientRect().height,n=i?i.width/27:7,e.remove()}),{lineHeight:t,charWidth:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new qT(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>n){let a=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(Le.replace({widget:new Yx(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!s)break;n=s.to+1}return Le.set(e)}updateDeco(){let e=this.view.state.facet(Nc).map((t,n)=>(this.dynamicDecorationMap[n]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=0,o=0,a=0,l=0;for(let u of this.view.state.facet(cP).map(f=>f(this.view)))if(u){let{left:f,right:d,top:g,bottom:y}=u;f!=null&&(s=Math.max(s,f)),d!=null&&(o=Math.max(o,d)),g!=null&&(a=Math.max(a,g)),y!=null&&(l=Math.max(l,y))}let c={left:n.left-s,top:n.top-a,right:n.right+o,bottom:n.bottom+l};M5(this.view.scrollDOM,c,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ir.LTR)}}function J5(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}class Yx extends rs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function pP(r){let e=r.observer.selectionRange,t=e.focusNode&&mP(e.focusNode,e.focusOffset,0);if(!t)return null;let n=r.docView.nearest(t);if(!n)return null;if(n instanceof xn){let i=t;for(;i.parentNode!=n.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!Xt.get(s);)s=s.previousSibling;let o=s?Xt.get(s).posAtEnd:n.posAtStart;return{from:o,to:o,node:i,text:t}}else{for(;;){let{parent:s}=n;if(!s)return null;if(s instanceof xn)break;n=s}let i=n.posAtStart;return{from:i,to:i+n.length,node:n.dom,text:t}}}function eM(r,e){let t=pP(r);if(!t)return Le.none;let{from:n,to:i,node:s,text:o}=t,a=e.mapPos(n,1),l=Math.max(a,e.mapPos(i,-1)),{state:c}=r,u=s.nodeType==3?s.nodeValue:new dP([],c).readRange(s.firstChild,null).text;if(l-a<u.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+u.length),Ys)==u)l=a+u.length;else if(c.doc.sliceString(Math.max(0,l-u.length),l,Ys)==u)a=l-u.length;else return Le.none;else if(c.doc.sliceString(a,l,Ys)!=u)return Le.none;let f=Xt.get(s);return f instanceof WT?f=f.widget.topView:f&&(f.parent=null),Le.set(Le.replace({widget:new tM(s,o,f),inclusive:!0}).range(a,l))}class tM extends rs{constructor(e,t,n){super(),this.top=e,this.text=t,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return WT}}function mP(r,e,t){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0&&t<=0)r=r.childNodes[e-1],e=Qc(r);else if(r.nodeType==1&&e<r.childNodes.length&&t>=0)r=r.childNodes[e],e=0;else return null}}function rM(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}class nM{constructor(){this.changes=[]}compareRange(e,t){sO(e,t,this.changes)}comparePoint(e,t){sO(e,t,this.changes)}}function iM(r,e,t){let n=new nM;return zt.compare(r,e,t,n),n.changes}function sM(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function oM(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),s=e-i.from;if(i.length==0)return oe.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,a=s;t<0?o=yn(i.text,s,!1):a=yn(i.text,s);let l=n(i.text.slice(o,a));for(;o>0;){let c=yn(i.text,o,!1);if(n(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=yn(i.text,a);if(n(i.text.slice(a,c))!=l)break;a=c}return oe.range(o+i.from,a+i.from)}function aM(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function lM(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function Vp(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Gx(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Hx(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function cO(r,e,t){let n,i,s,o,a=!1,l,c,u,f;for(let y=r.firstChild;y;y=y.nextSibling){let T=Ec(y);for(let k=0;k<T.length;k++){let U=T[k];i&&Vp(i,U)&&(U=Gx(Hx(U,i.bottom),i.top));let _=aM(e,U),G=lM(t,U);if(_==0&&G==0)return y.nodeType==3?Kx(y,e,t):cO(y,e,t);if(!n||o>G||o==G&&s>_){n=y,i=U,s=_,o=G;let D=G?t<U.top?-1:1:_?e<U.left?-1:1:0;a=!D||(D>0?k<T.length-1:k>0)}_==0?t>U.bottom&&(!u||u.bottom<U.bottom)?(l=y,u=U):t<U.top&&(!f||f.top>U.top)&&(c=y,f=U):u&&Vp(u,U)?u=Hx(u,U.bottom):f&&Vp(f,U)&&(f=Gx(f,U.top))}}if(u&&u.bottom>=t?(n=l,i=u):f&&f.top<=t&&(n=c,i=f),!n)return{node:r,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return Kx(n,d,t);if(a&&n.contentEditable!="false")return cO(n,d,t);let g=Array.prototype.indexOf.call(r.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:r,offset:g}}function Kx(r,e,t){let n=r.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<n;a++){let l=ll(r,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let f=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<s){let d=e>=(u.left+u.right)/2,g=d;if((qe.chrome||qe.gecko)&&ll(r,a).getBoundingClientRect().left==u.right&&(g=!d),f<=0)return{node:r,offset:a+(g?1:0)};i=a+(g?1:0),s=f}}}return{node:r,offset:i>-1?i:o>0?r.nodeValue.length:0}}function gP(r,e,t,n=-1){var i,s;let o=r.contentDOM.getBoundingClientRect(),a=o.top+r.viewState.paddingTop,l,{docHeight:c}=r.viewState,{x:u,y:f}=e,d=f-a;if(d<0)return 0;if(d>c)return r.state.doc.length;for(let D=r.defaultLineHeight/2,Y=!1;l=r.elementAtHeight(d),l.type!=Lt.Text;)for(;d=n>0?l.bottom+D:l.top-D,!(d>=0&&d<=c);){if(Y)return t?null:0;Y=!0,n=-n}f=a+d;let g=l.from;if(g<r.viewport.from)return r.viewport.from==0?0:t?null:Jx(r,o,l,u,f);if(g>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:Jx(r,o,l,u,f);let y=r.dom.ownerDocument,T=r.root.elementFromPoint?r.root:y,k=T.elementFromPoint(u,f);k&&!r.contentDOM.contains(k)&&(k=null),k||(u=Math.max(o.left+1,Math.min(o.right-1,u)),k=T.elementFromPoint(u,f),k&&!r.contentDOM.contains(k)&&(k=null));let U,_=-1;if(k&&((i=r.docView.nearest(k))===null||i===void 0?void 0:i.isEditable)!=!1){if(y.caretPositionFromPoint){let D=y.caretPositionFromPoint(u,f);D&&({offsetNode:U,offset:_}=D)}else if(y.caretRangeFromPoint){let D=y.caretRangeFromPoint(u,f);D&&({startContainer:U,startOffset:_}=D,(!r.contentDOM.contains(U)||qe.safari&&cM(U,_,u)||qe.chrome&&uM(U,_,u))&&(U=void 0))}}if(!U||!r.docView.dom.contains(U)){let D=xn.find(r.docView,g);if(!D)return d>l.top+l.height/2?l.to:l.from;({node:U,offset:_}=cO(D.dom,u,f))}let G=r.docView.nearest(U);if(!G)return null;if(G.isWidget&&((s=G.dom)===null||s===void 0?void 0:s.nodeType)==1){let D=G.dom.getBoundingClientRect();return e.y<D.top||e.y<=D.bottom&&e.x<=(D.left+D.right)/2?G.posAtStart:G.posAtEnd}else return G.localPosFromDOM(U,_)+G.posAtStart}function Jx(r,e,t,n,i){let s=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let a=Math.floor((i-t.top)/r.defaultLineHeight);s+=a*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+Yg(o,s,r.state.tabSize)}function cM(r,e,t){let n;if(r.nodeType!=3||e!=(n=r.nodeValue.length))return!1;for(let i=r.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return ll(r,n-1,n).getBoundingClientRect().left>t}function uM(r,e,t){if(e!=0)return!1;for(let i=r;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let n=r.nodeType==1?r.getBoundingClientRect():ll(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function fM(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=!n||!r.lineWrapping?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=r.dom.getBoundingClientRect(),c=r.textDirectionAt(i.from),u=r.posAtCoords({x:t==(c==ir.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(u!=null)return oe.cursor(u,t?-1:1)}let o=xn.find(r.docView,e.head),a=o?t?o.posAtEnd:o.posAtStart:t?i.to:i.from;return oe.cursor(a,t?-1:1)}function eb(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=r.bidiSpans(i),o=r.textDirectionAt(i.from);for(let a=e,l=null;;){let c=K5(i,s,o,a,t),u=hP;if(!c){if(i.number==(t?r.state.doc.lines:1))return a;u=`
`,i=r.state.doc.line(i.number+(t?1:-1)),s=r.bidiSpans(i),c=oe.cursor(t?i.from:i.to)}if(l){if(!l(u))return a}else{if(!n)return c;l=n(u)}a=c}}function hM(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return s=>{let o=n(s);return i==Jt.Space&&(i=o),i==o}}function dM(r,e,t,n){let i=e.head,s=t?1:-1;if(i==(t?r.state.doc.length:0))return oe.cursor(i,e.assoc);let o=e.goalColumn,a,l=r.contentDOM.getBoundingClientRect(),c=r.coordsAtPos(i),u=r.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let g=r.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,r.defaultCharacterWidth*(i-g.from))),a=(s<0?g.top:g.bottom)+u}let f=l.left+o,d=n??r.defaultLineHeight>>1;for(let g=0;;g+=10){let y=a+(d+g)*s,T=gP(r,{x:f,y},!1,s);if(y<l.top||y>l.bottom||(s<0?T<i:T>i))return oe.cursor(T,e.assoc,void 0,o)}}function Zp(r,e,t){let n=r.state.facet(lP).map(i=>i(r));for(;;){let i=!1;for(let s of n)s.between(t.from-1,t.from+1,(o,a,l)=>{t.from>o&&t.from<a&&(t=e.head>t.from?oe.cursor(o,1):oe.cursor(a,-1),i=!0)});if(!i)return t}}class pM{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let t=(n,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():n(e,i))};for(let n in Nr){let i=Nr[n];e.contentDOM.addEventListener(n,s=>{tb(e,s)&&t(i,s)},uO[n]),this.registeredEvents.push(n)}e.scrollDOM.addEventListener("mousedown",n=>{n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(Nr.mousedown,n)}),qe.chrome&&qe.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,qe.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var n;let i;this.customHandlers=[];for(let s of t)if(i=(n=s.update(e).spec)===null||n===void 0?void 0:n.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let o in i)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{tb(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,n){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,n,t)||n.defaultPrevented)return!0}catch(o){Wn(t.state,o)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let n of this.customHandlers){let i=n.handlers.scroll;if(i)try{i.call(n.plugin,t,e)}catch(s){Wn(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(qe.android&&qe.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return qe.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((n=OP.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||mM.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=n||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,el(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:qe.safari&&!qe.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const OP=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],mM="dthko",yP=[16,17,18,20,91,92,224,225];function ju(r){return r*.7+8}class gM{constructor(e,t,n,i){this.view=e,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=B5(e.contentDOM);let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(wt.allowMultipleSelections)&&OM(e,t),this.dragMove=yM(e,t),this.dragging=xM(e,t)&&vP(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let n=0,i=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=s.left?n=-ju(s.left-e.clientX):e.clientX>=s.right&&(n=ju(e.clientX-s.right)),e.clientY<=s.top?i=-ju(s.top-e.clientY):e.clientY>=s.bottom&&(i=ju(e.clientY-s.bottom)),this.setScrollSpeed(n,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function OM(r,e){let t=r.state.facet(JT);return t.length?t[0](e):qe.mac?e.metaKey:e.ctrlKey}function yM(r,e){let t=r.state.facet(eP);return t.length?t[0](e):qe.mac?!e.altKey:!e.ctrlKey}function xM(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=kh(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function tb(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Xt.get(t))&&n.ignoreEvent(e))return!1;return!0}const Nr=Object.create(null),uO=Object.create(null),xP=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function bM(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),bP(r,t.value)},50)}function bP(r,e){let{state:t}=r,n,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(fO!=null&&t.selection.ranges.every(l=>l.empty)&&fO==s.toString()){let l=-1;n=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:f},range:oe.cursor(c.from+f.length)}})}else o?n=t.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:oe.cursor(l.from+c.length)}}):n=t.replaceSelection(s);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Nr.keydown=(r,e)=>{r.inputState.setSelectionOrigin("select"),e.keyCode==27?r.inputState.lastEscPress=Date.now():yP.indexOf(e.keyCode)<0&&(r.inputState.lastEscPress=0)};Nr.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Nr.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};uO.touchstart=uO.touchmove={passive:!0};Nr.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let n of r.state.facet(tP))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=wM(r,e)),t){let n=r.root.activeElement!=r.contentDOM;r.inputState.startMouseSelection(new gM(r,e,t,n)),n&&r.observer.ignore(()=>DT(r.contentDOM)),r.inputState.mouseSelection&&r.inputState.mouseSelection.start(e)}};function rb(r,e,t,n){if(n==1)return oe.cursor(e,t);if(n==2)return oM(r.state,e,t);{let i=xn.find(r.docView,e),s=r.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<r.state.doc.length&&a==s.to&&a++,oe.range(o,a)}}let SP=(r,e)=>r>=e.top&&r<=e.bottom,nb=(r,e,t)=>SP(e,t)&&r>=t.left&&r<=t.right;function SM(r,e,t,n){let i=xn.find(r.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&nb(t,n,o))return-1;let a=i.coordsAt(s,1);return a&&nb(t,n,a)?1:o&&SP(n,o)?-1:1}function ib(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:SM(r,t,e.clientX,e.clientY)}}const vM=qe.ie&&qe.ie_version<=11;let sb=null,ob=0,ab=0;function vP(r){if(!vM)return r.detail;let e=sb,t=ab;return sb=r,ab=Date.now(),ob=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(ob+1)%3:1}function wM(r,e){let t=ib(r,e),n=vP(e),i=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,a){let l=ib(r,s),c=rb(r,l.pos,l.bias,n);if(t.pos!=l.pos&&!o){let u=rb(r,t.pos,t.bias,n),f=Math.min(u.from,c.from),d=Math.max(u.to,c.to);c=f<c.from?oe.range(f,d):oe.range(d,f)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&i.ranges.length>1&&i.ranges.some(u=>u.eq(c))?$M(i,c):a?i.addRange(c):oe.create([c])}}}function $M(r,e){for(let t=0;;t++)if(r.ranges[t].eq(e))return oe.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}Nr.dragstart=(r,e)=>{let{selection:{main:t}}=r.state,{mouseSelection:n}=r.inputState;n&&(n.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",r.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function lb(r,e,t,n){if(!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=r.inputState,o=n&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:i,insert:t},l=r.state.changes(o?[o,a]:a);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"})}Nr.drop=(r,e)=>{if(!e.dataTransfer)return;if(r.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let n=Array(t.length),i=0,s=()=>{++i==t.length&&lb(r,e,n.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[o]=a.result),s()},a.readAsText(t[o])}}else lb(r,e,e.dataTransfer.getData("Text"),!0)};Nr.paste=(r,e)=>{if(r.state.readOnly)return e.preventDefault();r.observer.flush();let t=xP?null:e.clipboardData;t?(bP(r,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):bM(r)};function CM(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function TM(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),i=o.number}n=!0}return{text:e.join(r.lineBreak),ranges:t,linewise:n}}let fO=null;Nr.copy=Nr.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=TM(r.state);if(!t&&!i)return;fO=i?t:null;let s=xP?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):CM(r,t),e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})};const wP=_s.define();function $P(r,e){let t=[];for(let n of r.facet(iP)){let i=n(r,e);i&&t.push(i)}return t?r.update({effects:t,annotations:wP.of(!0)}):null}function CP(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=$P(r.state,e);t?r.dispatch(t):r.update([])}},10)}Nr.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),CP(r)};Nr.blur=r=>{r.observer.clearSelectionRange(),CP(r)};Nr.compositionstart=Nr.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0)};Nr.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionFirstChange=null,qe.chrome&&qe.android&&r.observer.flushSoon(),setTimeout(()=>{r.inputState.composing<0&&r.docView.compositionDeco.size&&r.update([])},50)};Nr.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Nr.beforeinput=(r,e)=>{var t;let n;if(qe.chrome&&qe.android&&(n=OP.find(i=>i.inputType==e.inputType))&&(r.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let i=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}};const cb=["pre-wrap","normal","pre-line","break-spaces"];class PM{constructor(e){this.lineWrapping=e,this.doc=Rt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return cb.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,s){let o=cb.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.lineLength=i,a){this.heightSamples={};for(let l=0;l<s.length;l++){let c=s[l];c<0?l++:this.heightSamples[Math.floor(c*10)]=!0}}return a}}class _M{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Os{constructor(e,t,n,i,s){this.from=e,this.length=t,this.top=n,this.height=i,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Os(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Wt=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(Wt||(Wt={}));const th=.001;class Sn{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>th&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return Sn.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let s=this,o=n.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=i[a],d=s.lineAt(l,Wt.ByPosNoHeight,n.setDoc(t),0,0),g=d.to>=c?d:s.lineAt(c,Wt.ByPosNoHeight,n,0,0);for(f+=g.to-c,c=g.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Wt.ByPosNoHeight,n,0,0));u+=d.from-l,l=d.from;let y=ey.build(n.setDoc(o),e,u,f);s=s.replace(l,c,y)}return s.updateHeight(n,0)}static empty(){return new qn(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,s=0;for(;;)if(t==n)if(i>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),n+=1+a.break,i-=a.size}else if(s>i*2){let a=e[n];a.break?e.splice(n,1,a.left,null,a.right):e.splice(n,1,a.left,a.right),n+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[t++];a&&(i+=a.size)}else{let a=e[--n];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new AM(Sn.of(e.slice(0,t)),o,Sn.of(e.slice(n)))}}Sn.prototype.size=1;class TP extends Sn{constructor(e,t,n){super(e,t),this.type=n}blockAt(e,t,n,i){return new Os(i,this.length,n,this.height,this.type)}lineAt(e,t,n,i,s){return this.blockAt(0,n,i,s)}forEachLine(e,t,n,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,n,i,s))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class qn extends TP{constructor(e,t){super(e,t,Lt.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof qn||i instanceof jr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof jr?i=new qn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Sn.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class jr extends Sn{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,a=(this.height-l)/(this.length-s-1)}else o=this.height/s;return{firstLine:n,lastLine:i,perLine:o,perChar:a}}blockAt(e,t,n,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),u=t.doc.lineAt(c),f=a+u.length*l,d=Math.max(n,e-f/2);return new Os(u.from,u.length,d,f,Lt.Text)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-n)/a))),{from:u,length:f}=t.doc.line(s+c);return new Os(u,f,n+a*c,a,Lt.Text)}}lineAt(e,t,n,i,s){if(t==Wt.ByHeight)return this.blockAt(e,n,i,s);if(t==Wt.ByPosNoHeight){let{from:g,to:y}=n.doc.lineAt(e);return new Os(g,y-g,0,0,Lt.Text)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,s),c=n.doc.lineAt(e),u=a+c.length*l,f=c.number-o,d=i+a*f+l*(c.from-s-f);return new Os(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,Lt.Text)}forEachLine(e,t,n,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(n,s);for(let u=e,f=i;u<=t;){let d=n.doc.lineAt(u);if(u==e){let y=d.number-a;f+=l*y+c*(e-s-y)}let g=l+c*d.length;o(new Os(d.from,d.length,f,g,Lt.Text)),f+=g,u=d.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let s=n[n.length-1];s instanceof jr?n[n.length-1]=new jr(s.length+i):n.push(null,new jr(i-1))}if(e>0){let s=n[0];s instanceof jr?n[0]=new jr(e+s.length):n.unshift(new jr(e-1),null)}return Sn.of(n)}decomposeLeft(e,t){t.push(new jr(e-1),null)}decomposeRight(e,t){t.push(null,new jr(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new jr(i.from-t-1).updateHeight(e,t));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=th&&(l=-2);let d=new qn(u,f);d.outdated=!1,o.push(d),a+=u+1}a<=s&&o.push(null,new jr(s-a).updateHeight(e,a));let c=Sn.of(o);return(l<0||Math.abs(c.height-this.height)>=th||Math.abs(l-this.heightMetrics(e,t).perLine)>=th)&&(e.heightChanged=!0),c}else(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class AM extends Sn{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,n,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=t==Wt.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,n,i,s):this.right.lineAt(e,t,n,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==Wt.ByPosNoHeight?Wt.ByPosNoHeight:Wt.ByPos;return l?c.join(this.right.lineAt(a,u,n,o,a)):this.left.lineAt(a,u,n,i,s).join(c)}forEachLine(e,t,n,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,n,i,s,o),t>=l&&this.right.forEachLine(e,t,n,a,l,o);else{let c=this.lineAt(l,Wt.ByPos,n,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,n,i,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,n,a,l,o)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of n)s.push(a);if(e>0&&ub(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),ub(s,a)}return Sn.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Sn.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,n,i):s.updateHeight(e,t,n),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,n,i):o.updateHeight(e,a,n),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ub(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof jr&&(n=r[e+1])instanceof jr&&r.splice(e-1,3,new jr(t.length+1+n.length))}const kM=5;class ey{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof qn?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new qn(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;n.block?this.addBlock(new TP(s,i,n.type)):(s||i>=kM)&&this.addLineDeco(i,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new qn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new jr(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof qn)return e;let t=new qn(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Lt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Lt.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof qn)&&!this.isCovered?this.nodes.push(new qn(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof qn&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let s=new ey(n,e);return zt.spans(t,n,i,s,0),s.finish(n)}}function EM(r,e,t){let n=new QM;return zt.compare(r,e,t,n,0),n.changes}class QM{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&sO(e,t,this.changes,5)}}function NM(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let c=r.parentNode;c&&c!=n.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let d=u.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=c==r.parentNode?d.bottom:Math.min(l,d.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function IM(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Wp{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=t[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return Le.replace({widget:new RM(this.size,e)}).range(this.from,this.to)}}class RM extends rs{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class fb{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=hb,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ir.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(J0).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new PM(t),this.stateDeco=e.facet(Nc).filter(n=>typeof n!="function"),this.heightMap=Sn.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle.setDoc(e.doc),[new Ki(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Le.set(this.lineGaps.map(n=>n.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Vu(s,o))}}this.viewports=e.sort((n,i)=>n.from-i.from),this.scaler=this.heightMap.height<=7e6?hb:new zM(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Kl(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Nc).filter(c=>typeof c!="function");let i=e.changedRanges,s=Ki.extendWithRanges(i,EM(n,this.stateDeco,e?e.changes:kr.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(oP)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?ir.RTL:ir.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0,f=parseInt(n.paddingTop)||0,d=parseInt(n.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let g=(this.printing?IM:NM)(t,this.paddingTop),y=g.top-this.pixelViewport.top,T=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let U=a.width;if((this.contentDOMWidth!=U||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let G=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(G)&&(o=!0),o||i.lineWrapping&&Math.abs(U-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:Y}=e.docView.measureTextSize();o=D>0&&i.refresh(s,D,Y,U/Y,G),o&&(e.docView.minWidth=0,c|=8)}y>0&&T>0?u=Math.max(y,T):y<0&&T<0&&(u=Math.min(y,T)),i.heightChanged=!1;for(let D of this.viewports){let Y=D.from==this.viewport.from?G:e.docView.measureVisibleLineHeights(D);this.heightMap=(o?Sn.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle,[new Ki(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new _M(D.from,Y))}i.heightChanged&&(c|=2)}let _=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Vu(i.lineAt(o-n*1e3,Wt.ByHeight,s,0,0).from,i.lineAt(a+(1-n)*1e3,Wt.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,Wt.ByPos,s,0,0),d;t.y=="center"?d=(f.top+f.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?d=f.top:d=f.bottom-u,l=new Vu(i.lineAt(d-1e3/2,Wt.ByHeight,s,0,0).from,i.lineAt(d+u+1e3/2,Wt.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Vu(this.heightMap.lineAt(n,Wt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Wt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Wt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Wt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(n,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new Wp(t.mapPos(i.from),t.mapPos(i.to),i.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=ir.LTR&&!n)return[];let a=[],l=(c,u,f,d)=>{if(u-c<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let k of y)if(k>c&&k<u){l(c,k-10,f,d),l(k+10,u,f,d);return}let T=BM(e,k=>k.from>=f.from&&k.to<=f.to&&Math.abs(k.from-c)<s&&Math.abs(k.to-u)<s&&!y.some(U=>k.from<U&&k.to>U));if(!T){if(u<f.to&&t&&n&&t.visibleRanges.some(k=>k.from<=u&&k.to>=u)){let k=t.moveToLineBoundary(oe.cursor(u),!1,!0).head;k>c&&(u=k)}T=new Wp(c,u,this.gapSize(f,c,u,d))}a.push(T)};for(let c of this.viewportLines){if(c.length<o)continue;let u=MM(c.from,c.to,this.stateDeco);if(u.total<o)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,g;if(n){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,T,k;if(f!=null){let U=Wu(u,f),_=((this.visibleBottom-this.visibleTop)/2+y)/c.height;T=U-_,k=U+_}else T=(this.visibleTop-c.top-y)/c.height,k=(this.visibleBottom-c.top+y)/c.height;d=Zu(u,T),g=Zu(u,k)}else{let y=u.total*this.heightOracle.charWidth,T=i*this.heightOracle.charWidth,k,U;if(f!=null){let _=Wu(u,f),G=((this.pixelViewport.right-this.pixelViewport.left)/2+T)/y;k=_-G,U=_+G}else k=(this.pixelViewport.left-T)/y,U=(this.pixelViewport.right+T)/y;d=Zu(u,k),g=Zu(u,U)}d>c.from&&l(c.from,d,c,u),g<c.to&&l(g,c.to,c,u)}return a}gapSize(e,t,n,i){let s=Wu(i,n)-Wu(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Wp.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Le.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];zt.spans(e,this.viewport.from,this.viewport.to,{span(i,s){t.push({from:i,to:s})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=t[s].from||i.to!=t[s].to);return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Kl(this.heightMap.lineAt(e,Wt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Kl(this.heightMap.lineAt(this.scaler.fromDOM(e),Wt.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Kl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Vu{constructor(e,t){this.from=e,this.to=t}}function MM(r,e,t){let n=[],i=r,s=0;return zt.spans(t,r,e,{span(){},point(o,a){o>i&&(n.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function Zu({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(n<=a)return s+n;n-=a}}function Wu(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function BM(r,e){for(let t of r)if(e(t))return t}const hb={toDOM(r){return r},fromDOM(r){return r},scale:1};class zM{constructor(e,t,n){let i=0,s=0,o=0;this.viewports=n.map(({from:a,to:l})=>{let c=t.lineAt(a,Wt.ByPos,e,0,0).top,u=t.lineAt(l,Wt.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}}function Kl(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new Os(r.from,r.length,t,n-t,Array.isArray(r.type)?r.type.map(i=>Kl(i,e)):r.type)}const Xu=Fe.define({combine:r=>r.join(" ")}),hO=Fe.define({combine:r=>r.indexOf(!0)>-1}),dO=ao.newName(),PP=ao.newName(),_P=ao.newName(),AP={"&light":"."+PP,"&dark":"."+_P};function pO(r,e,t){return new ao(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const FM=pO("."+dO,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},AP);class DM{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let a=s||o?[]:qM(e),l=new dP(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=LM(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!al(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!al(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=oe.single(c,l)}}}function kP(r,e){let t,{newSel:n}=e,i=r.state.selection.main;if(e.bounds){let{from:s,to:o}=e.bounds,a=i.from,l=null;(r.inputState.lastKeyCode===8&&r.inputState.lastKeyTime>Date.now()-100||qe.android&&e.text.length<o-s)&&(a=i.to,l="end");let c=UM(r.state.doc.sliceString(s,o,Ys),e.text,a-s,l);c&&(qe.chrome&&r.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Ys+Ys&&c.toB--,t={from:s+c.from,to:s+c.toA,insert:Rt.of(e.text.slice(c.from,c.toB).split(Ys))})}else n&&(!r.hasFocus&&r.state.facet(Vd)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:(qe.mac||qe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=oe.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Rt.of([" "])}):qe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=oe.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Rt.of([" "])}),t){let s=r.state;if(qe.ios&&r.inputState.flushIOSKey(r)||qe.android&&(t.from==i.from&&t.to==i.to&&t.insert.length==1&&t.insert.lines==2&&el(r.contentDOM,"Enter",13)||t.from==i.from-1&&t.to==i.to&&t.insert.length==0&&el(r.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&el(r.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();if(r.state.facet(nP).some(c=>c(r,t.from,t.to,o)))return!0;r.inputState.composing>=0&&r.inputState.composing++;let a;if(t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&r.inputState.composing<0){let c=i.from<t.from?s.sliceDoc(i.from,t.from):"",u=i.to>t.to?s.sliceDoc(t.to,i.to):"";a=s.replaceSelection(r.state.toText(c+t.insert.sliceString(0,void 0,r.state.lineBreak)+u))}else{let c=s.changes(t),u=n&&!s.selection.main.eq(n.main)&&n.main.to<=c.newLength?n.main:void 0;if(s.selection.ranges.length>1&&r.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let f=r.state.sliceDoc(t.from,t.to),d=pP(r)||r.state.doc.lineAt(i.head),g=i.to-t.to,y=i.to-i.from;a=s.changeByRange(T=>{if(T.from==i.from&&T.to==i.to)return{changes:c,range:u||T.map(c)};let k=T.to-g,U=k-f.length;if(T.to-T.from!=y||r.state.sliceDoc(U,k)!=f||d&&T.to>=d.from&&T.from<=d.to)return{range:T};let _=s.changes({from:U,to:k,insert:t.insert}),G=T.to-i.to;return{changes:_,range:u?oe.range(Math.max(0,u.anchor+G),Math.max(0,u.head+G)):T.map(_)}})}else a={changes:c,selection:u&&s.selection.replaceRange(u)}}let l="input.type";return r.composing&&(l+=".compose",r.inputState.compositionFirstChange&&(l+=".start",r.inputState.compositionFirstChange=!1)),r.dispatch(a,{scrollIntoView:!0,userEvent:l}),!0}else if(n&&!n.main.eq(i)){let s=!1,o="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(s=!0),o=r.inputState.lastSelectionOrigin),r.dispatch({selection:n,scrollIntoView:s,userEvent:o}),!0}else return!1}function UM(r,e,t,n){let i=Math.min(r.length,e.length),s=0;for(;s<i&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&r.length==e.length)return null;let o=r.length,a=e.length;for(;o>0&&a>0&&r.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(n=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&r.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function qM(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new Wx(t,n)),(i!=t||s!=n)&&e.push(new Wx(i,s))),e}function LM(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?oe.single(t+e,n+e):null}const jM={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Xp=qe.ie&&qe.ie_version<=11;class VM{constructor(e){this.view=e,this.active=!1,this.selectionRange=new z5,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(qe.ie&&qe.ie_version<=11||qe.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),Xp&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(Vd)?n.root.activeElement!=this.dom:!eh(n.dom,i))return;let s=i.anchorNode&&n.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!n.state.selection.main.empty&&i.focusNode&&Eh(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=qe.safari&&e.root.nodeType==11&&I5(this.dom.ownerDocument)==this.dom&&ZM(this.view)||kh(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=eh(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&D5(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,jM),Xp&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Xp&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),!this.flush()&&s.force&&el(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&eh(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new DM(this.view,e,t,n))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let n=this.view.state,i=kP(this.view,t);return this.view.state==n&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let n=db(t,e.previousSibling||e.target.previousSibling,-1),i=db(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function db(r,e,t){for(;e;){let n=Xt.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function ZM(r){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",t,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let n=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,a=r.docView.domAtPos(r.state.selection.main.anchor);return Eh(a.node,a.offset,s,o)&&([n,i,s,o]=[s,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:o}}class Be{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||F5(e.parent)||document,this.viewState=new fb(e.state||wt.create(e)),this.plugins=this.state.facet(Gl).map(t=>new jp(t));for(let t of this.plugins)t.update(this);this.observer=new VM(this),this.inputState=new pM(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Xx(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Er?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(wP))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=$P(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(wt.phrases)!=this.state.facet(wt.phrases))return this.setState(s);i=Ih.create(this,s,e),i.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:g}=d.state.selection;f=new Nh(g.empty?g:oe.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of d.effects)g.is(Vx)&&(f=g.value)}this.viewState.update(i,f),this.bidiCache=Rh.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Hl)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Xu)!=i.state.facet(Xu)&&(this.viewState.mustMeasureContent=!0),(t||n||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let d of this.state.facet(oO))d(i);(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!kP(this,u)&&c.force&&el(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new fb(e),this.plugins=e.facet(Gl).map(n=>new jp(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView=new Xx(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Gl),n=e.state.facet(Gl);if(t!=n){let i=[];for(let s of n){let o=t.indexOf(s);if(o<0)i.push(new jp(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:n,scrollTop:i,clientHeight:s}=this.scrollDOM,o=i>n-s-4?n:i;try{for(let a=0;;a++){this.updateState=1;let l=this.viewport,c=this.viewState.lineBlockAtHeight(o),u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let d=f.map(k=>{try{return k.read(this)}catch(U){return Wn(this.state,U),pb}}),g=Ih.create(this,this.state,[]),y=!1,T=!1;g.flags|=u,t?t.flags|=u:t=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),y=this.docView.update(g));for(let k=0;k<f.length;k++)if(d[k]!=pb)try{let U=f[k];U.write&&U.write(d[k],this)}catch(U){Wn(this.state,U)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,T=!0;else{let k=this.viewState.lineBlockAt(c.from).top-c.top;(k>1||k<-1)&&(this.scrollDOM.scrollTop+=k,T=!0)}if(y&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!T&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(oO))a(t)}get themeClasses(){return dO+" "+(this.state.facet(hO)?_P:PP)+" "+this.state.facet(Xu)}updateAttrs(){let e=mb(this,aP,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Vd)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),mb(this,J0,t);let n=this.observer.ignore(()=>{let i=iO(this.contentDOM,this.contentAttrs,t),s=iO(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(Be.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Hl),ao.mount(this.root,this.styleModules.concat(FM).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Zp(this,e,eb(this,e,t,n))}moveByGroup(e,t){return Zp(this,e,eb(this,e,t,n=>hM(this,e.head,n)))}moveToLineBoundary(e,t,n=!0){return fM(this,e,t,n)}moveVertically(e,t,n){return Zp(this,e,dM(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),gP(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[tl.find(s,e-i.from,-1,t)];return Y0(n,o.dir==ir.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(sP)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>WM)return fP(e.length);let t=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==t)return i.order;let n=H5(e.text,t);return this.bidiCache.push(new Rh(e.from,e.to,t,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{DT(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Vx.of(new Nh(typeof e=="number"?oe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return vr.define(()=>({}),{eventHandlers:e})}static theme(e,t){let n=ao.newName(),i=[Xu.of(n),Hl.of(pO(`.${n}`,e))];return t&&t.dark&&i.push(hO.of(!0)),i}static baseTheme(e){return la.lowest(Hl.of(pO("."+dO,e,AP)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&Xt.get(n)||Xt.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}Be.styleModule=Hl;Be.inputHandler=nP;Be.focusChangeEffect=iP;Be.perLineTextDirection=sP;Be.exceptionSink=rP;Be.updateListener=oO;Be.editable=Vd;Be.mouseSelectionStyle=tP;Be.dragMovesSelection=eP;Be.clickAddsSelectionRange=JT;Be.decorations=Nc;Be.atomicRanges=lP;Be.scrollMargins=cP;Be.darkTheme=hO;Be.contentAttributes=J0;Be.editorAttributes=aP;Be.lineWrapping=Be.contentAttributes.of({class:"cm-lineWrapping"});Be.announce=ot.define();const WM=4096,pb={};class Rh{constructor(e,t,n,i){this.from=e,this.to=t,this.dir=n,this.order=i}static update(e,t){if(t.empty)return e;let n=[],i=e.length?e[e.length-1].dir:ir.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&n.push(new Rh(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return n}}function mb(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],o=typeof s=="function"?s(r):s;o&&nO(o,t)}return t}const XM=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function YM(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Yu(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const GM=la.default(Be.domEventHandlers({keydown(r,e){return QP(EP(e.state),r,e,"editor")}})),iu=Fe.define({enables:GM}),gb=new WeakMap;function EP(r){let e=r.facet(iu),t=gb.get(e);return t||gb.set(e,t=JM(e.reduce((n,i)=>n.concat(i),[]))),t}function HM(r,e,t){return QP(EP(r.state),e,r,t)}let Zs=null;const KM=4e3;function JM(r,e=XM){let t=Object.create(null),n=Object.create(null),i=(o,a)=>{let l=n[o];if(l==null)n[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c)=>{var u,f;let d=t[o]||(t[o]=Object.create(null)),g=a.split(/ (?!$)/).map(k=>YM(k,e));for(let k=1;k<g.length;k++){let U=g.slice(0,k).join(" ");i(U,!0),d[U]||(d[U]={preventDefault:!0,run:[_=>{let G=Zs={view:_,prefix:U,scope:o};return setTimeout(()=>{Zs==G&&(Zs=null)},KM),!0}]})}let y=g.join(" ");i(y,!1);let T=d[y]||(d[y]={preventDefault:!1,run:((f=(u=d._any)===null||u===void 0?void 0:u.run)===null||f===void 0?void 0:f.slice())||[]});l&&T.run.push(l),c&&(T.preventDefault=!0)};for(let o of r){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let f in u)u[f].run.push(o.any)}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault)}return t}function QP(r,e,t,n){let i=N5(e),s=Wr(i,0),o=ai(s)==i.length&&i!=" ",a="",l=!1;Zs&&Zs.view==t&&Zs.scope==n&&(a=Zs.prefix+" ",(l=yP.indexOf(e.keyCode)<0)&&(Zs=null));let c=new Set,u=y=>{if(y){for(let T of y.run)if(!c.has(T)&&(c.add(T),T(t,e)))return!0;y.preventDefault&&(l=!0)}return!1},f=r[n],d,g;if(f){if(u(f[a+Yu(i,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(qe.windows&&e.ctrlKey&&e.altKey)&&(d=lo[e.keyCode])&&d!=i){if(u(f[a+Yu(d,e,!0)]))return!0;if(e.shiftKey&&(g=kc[e.keyCode])!=i&&g!=d&&u(f[a+Yu(g,e,!1)]))return!0}else if(o&&e.shiftKey&&u(f[a+Yu(i,e,!0)]))return!0;if(u(f._any))return!0}return l}class su{constructor(e,t,n,i,s){this.className=e,this.left=t,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=NP(e);return[new su(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return eB(e,t,n)}}function NP(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==ir.LTR?e.left:e.right-r.scrollDOM.clientWidth)-r.scrollDOM.scrollLeft,top:e.top-r.scrollDOM.scrollTop}}function Ob(r,e,t){let n=oe.cursor(e);return{from:Math.max(t.from,r.moveToLineBoundary(n,!1,!0).from),to:Math.min(t.to,r.moveToLineBoundary(n,!0,!0).from),type:Lt.Text}}function yb(r,e){let t=r.lineBlockAt(e);if(Array.isArray(t.type)){for(let n of t.type)if(n.to>e||n.to==e&&(n.to==t.to||n.type==Lt.Text))return n}return t}function eB(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),s=r.textDirection==ir.LTR,o=r.contentDOM,a=o.getBoundingClientRect(),l=NP(r),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),g=yb(r,n),y=yb(r,i),T=g.type==Lt.Text?g:null,k=y.type==Lt.Text?y:null;if(r.lineWrapping&&(T&&(T=Ob(r,n,T)),k&&(k=Ob(r,i,k))),T&&k&&T.from==k.from)return _(G(t.from,t.to,T));{let Y=T?G(t.from,null,T):D(g,!1),ee=k?G(null,t.to,k):D(y,!0),re=[];return(T||g).to<(k||y).from-1?re.push(U(f,Y.bottom,d,ee.top)):Y.bottom<ee.top&&r.elementAtHeight((Y.bottom+ee.top)/2).type==Lt.Text&&(Y.bottom=ee.top=(Y.bottom+ee.top)/2),_(Y).concat(re).concat(_(ee))}function U(Y,ee,re,S){return new su(e,Y-l.left,ee-l.top-.01,re-Y,S-ee+.01)}function _({top:Y,bottom:ee,horizontal:re}){let S=[];for(let b=0;b<re.length;b+=2)S.push(U(re[b],Y,re[b+1],ee));return S}function G(Y,ee,re){let S=1e9,b=-1e9,$=[];function M(W,N,I,z,B){let J=r.coordsAtPos(W,W==re.to?-2:2),$e=r.coordsAtPos(I,I==re.from?2:-2);S=Math.min(J.top,$e.top,S),b=Math.max(J.bottom,$e.bottom,b),B==ir.LTR?$.push(s&&N?f:J.left,s&&z?d:$e.right):$.push(!s&&z?f:$e.left,!s&&N?d:J.right)}let Q=Y??re.from,L=ee??re.to;for(let W of r.visibleRanges)if(W.to>Q&&W.from<L)for(let N=Math.max(W.from,Q),I=Math.min(W.to,L);;){let z=r.state.doc.lineAt(N);for(let B of r.bidiSpans(z)){let J=B.from+z.from,$e=B.to+z.from;if(J>=I)break;$e>N&&M(Math.max(J,N),Y==null&&J<=Q,Math.min($e,I),ee==null&&$e>=L,B.dir)}if(N=z.to+1,N>=I)break}return $.length==0&&M(Q,Y==null,L,ee==null,r.textDirection),{top:S,bottom:b,horizontal:$}}function D(Y,ee){let re=a.top+(ee?Y.top:Y.bottom);return{top:re,bottom:re,horizontal:[]}}}function tB(r,e){return r.constructor==e.constructor&&r.eq(e)}class rB{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(rh)!=e.state.facet(rh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(rh);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!tB(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const rh=Fe.define();function IP(r){return[vr.define(e=>new rB(e,r)),rh.of(r)]}const RP=!qe.ios,Ic=Fe.define({combine(r){return ts(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function nB(r={}){return[Ic.of(r),iB,sB,oB,oP.of(!0)]}function MP(r){return r.startState.facet(Ic)!=r.state.facet(Ic)}const iB=IP({above:!0,markers(r){let{state:e}=r,t=e.facet(Ic),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||RP:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:oe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of su.forRange(r,o,a))n.push(l)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=MP(r);return t&&xb(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){xb(e.state,r)},class:"cm-cursorLayer"});function xb(r,e){e.style.animationDuration=r.facet(Ic).cursorBlinkRate+"ms"}const sB=IP({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:su.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||MP(r)},class:"cm-selectionLayer"}),BP={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};RP&&(BP[".cm-line"].caretColor="transparent !important");const oB=la.highest(Be.theme(BP)),zP=ot.define({map(r,e){return r==null?null:e.mapPos(r)}}),Jl=Ur.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(zP)?n.value:t,r)}}),aB=vr.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(Jl);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(Jl)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let r=this.view.state.field(Jl),e=r!=null&&this.view.coordsAtPos(r);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(r){this.cursor&&(r?(this.cursor.style.left=r.left+"px",this.cursor.style.top=r.top+"px",this.cursor.style.height=r.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(Jl)!=r&&this.view.dispatch({effects:zP.of(r)})}},{eventHandlers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function lB(){return[Jl,aB]}function bb(r,e,t,n,i){e.lastIndex=0;for(let s=r.iterRange(t,n),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function cB(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:s}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class uB{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof n=="function")this.addMatch=(a,l,c,u)=>{let f=n(a,l,c);f&&u(c,c+a[0].length,f)};else if(n)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new oo,n=t.add.bind(t);for(let{from:i,to:s}of cB(e,this.maxLength))bb(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(n=Math.min(a,n),i=Math.max(l,i))}),e.viewportChanged||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let s of e.visibleRanges){let o=Math.max(s.from,n),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),f=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let d=[],g,y=(T,k,U)=>d.push(U.range(T,k));if(l==c)for(this.regexp.lastIndex=u-l.from;(g=this.regexp.exec(l.text))&&g.index<f-l.from;)this.addMatch(g,e,g.index+l.from,y);else bb(e.state.doc,this.regexp,u,f,(T,k)=>this.addMatch(k,e,T,y));t=t.update({filterFrom:u,filterTo:f,filter:(T,k)=>T<u||k>f,add:d})}}return t}}const mO=/x/.unicode!=null?"gu":"g",fB=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,mO),hB={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Yp=null;function dB(){var r;if(Yp==null&&typeof document<"u"&&document.body){let e=document.body.style;Yp=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return Yp||!1}const nh=Fe.define({combine(r){let e=ts(r,{render:null,specialChars:fB,addSpecialChars:null});return(e.replaceTabs=!dB())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,mO)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,mO)),e}});function pB(r={}){return[nh.of(r),mB()]}let Sb=null;function mB(){return Sb||(Sb=vr.fromClass(class{constructor(r){this.view=r,this.decorations=Le.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(nh)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new uB({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,s=Wr(e[0],0);if(s==9){let o=i.lineAt(n),a=t.state.tabSize,l=ru(o.text,a,n-o.from);return Le.replace({widget:new xB((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=Le.replace({widget:new yB(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(nh);r.startState.facet(nh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const gB="";function OB(r){return r>=32?gB:r==10?"":String.fromCharCode(9216+r)}class yB extends rs{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=OB(this.code),n=e.state.phrase("Control character")+" "+(hB[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class xB extends rs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function bB(){return vB}const SB=Le.line({class:"cm-activeLine"}),vB=vr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(SB.range(i.from)),e=i.from)}return Le.set(t)}},{decorations:r=>r.decorations});class wB extends rs{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}ignoreEvent(){return!1}}function $B(r){return vr.fromClass(class{constructor(e){this.view=e,this.placeholder=Le.set([Le.widget({widget:new wB(r),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Le.none:this.placeholder}},{decorations:e=>e.decorations})}const gO=2e3;function CB(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>gO||t.off>gO||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=n;l<=i;l++){let c=r.doc.line(l);c.length<=a&&s.push(oe.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=n;l<=i;l++){let c=r.doc.line(l),u=Yg(c.text,o,r.tabSize,!0);if(u<0)s.push(oe.cursor(c.to));else{let f=Yg(c.text,a,r.tabSize);s.push(oe.range(c.from+u,c.from+f))}}}return s}function TB(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function vb(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,s=i>gO?-1:i==n.length?TB(r,e.clientX):ru(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:s,off:i}}function PB(r,e){let t=vb(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},n=n.map(i.changes)}},get(i,s,o){let a=vb(r,i);if(!a)return n;let l=CB(r.state,t,a);return l.length?o?oe.create(l.concat(n.ranges)):oe.create(l):n}}:null}function _B(r){let e=(r==null?void 0:r.eventFilter)||(t=>t.altKey&&t.button==0);return Be.mouseSelectionStyle.of((t,n)=>e(n)?PB(t,n):null)}const AB={Alt:[18,r=>r.altKey],Control:[17,r=>r.ctrlKey],Shift:[16,r=>r.shiftKey],Meta:[91,r=>r.metaKey]},kB={style:"cursor: crosshair"};function EB(r={}){let[e,t]=AB[r.key||"Alt"],n=vr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,Be.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?kB:null})]}const Gu="-10000px";class FP{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(n)}update(e){var t;let n=e.state.facet(this.facet),i=n.filter(o=>o);if(n===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<i.length;o++){let a=i[o],l=-1;if(a){for(let c=0;c<this.tooltips.length;c++){let u=this.tooltips[c];u&&u.create==a.create&&(l=c)}if(l<0)s[o]=this.createTooltipView(a);else{let c=s[o]=this.tooltipViews[l];c.update&&c.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(t=o.destroy)===null||t===void 0||t.call(o));return this.input=n,this.tooltips=i,this.tooltipViews=s,!0}}function QB(r){let{win:e}=r;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Gp=Fe.define({combine:r=>{var e,t,n;return{position:qe.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||QB}}}),wb=new WeakMap,DP=vr.fromClass(class{constructor(r){this.view=r,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(Gp);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new FP(r,ty,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(Gp);if(n.position!=this.position){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r){let e=r.create(this.view);if(e.dom.classList.add("cm-tooltip"),r.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Gu,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var r,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(r=t.destroy)===null||r===void 0||r.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=this.view.dom.getBoundingClientRect();return{editor:r,parent:this.parent?this.container.getBoundingClientRect():r,pos:this.manager.tooltips.map((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(Gp).tooltipSpace(this.view)}}writeMeasure(r){var e;let{editor:t,space:n}=r,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let o=this.manager.tooltips[s],a=this.manager.tooltipViews[s],{dom:l}=a,c=r.pos[s],u=r.size[s];if(!c||c.bottom<=Math.max(t.top,n.top)||c.top>=Math.min(t.bottom,n.bottom)||c.right<Math.max(t.left,n.left)-.1||c.left>Math.min(t.right,n.right)+.1){l.style.top=Gu;continue}let f=o.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,d=f?7:0,g=u.right-u.left,y=(e=wb.get(a))!==null&&e!==void 0?e:u.bottom-u.top,T=a.offset||IB,k=this.view.textDirection==ir.LTR,U=u.width>n.right-n.left?k?n.left:n.right-u.width:k?Math.min(c.left-(f?14:0)+T.x,n.right-g):Math.max(n.left,c.left-g+(f?14:0)-T.x),_=!!o.above;!o.strictSide&&(_?c.top-(u.bottom-u.top)-T.y<n.top:c.bottom+(u.bottom-u.top)+T.y>n.bottom)&&_==n.bottom-c.bottom>c.top-n.top&&(_=!_);let G=(_?c.top-n.top:n.bottom-c.bottom)-d;if(G<y&&a.resize!==!1){if(G<this.view.defaultLineHeight){l.style.top=Gu;continue}wb.set(a,y),l.style.height=(y=G)+"px"}else l.style.height&&(l.style.height="");let D=_?c.top-y-d-T.y:c.bottom+d+T.y,Y=U+g;if(a.overlap!==!0)for(let ee of i)ee.left<Y&&ee.right>U&&ee.top<D+y&&ee.bottom>D&&(D=_?ee.top-y-2-d:ee.bottom+d+2);this.position=="absolute"?(l.style.top=D-r.parent.top+"px",l.style.left=U-r.parent.left+"px"):(l.style.top=D+"px",l.style.left=U+"px"),f&&(f.style.left=`${c.left+(k?T.x:-T.x)-(U+14-7)}px`),a.overlap!==!0&&i.push({left:U,top:D,right:Y,bottom:D+y}),l.classList.toggle("cm-tooltip-above",_),l.classList.toggle("cm-tooltip-below",!_),a.positioned&&a.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Gu}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),NB=Be.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),IB={x:0,y:0},ty=Fe.define({enables:[DP,NB]}),Mh=Fe.define();class ry{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new FP(e,Mh,t=>this.createHostedView(t))}static create(e){return new ry(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}}const RB=ty.compute([Mh],r=>{let e=r.facet(Mh).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:ry.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class MB{constructor(e,t,n,i,s){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let n=this.view.coordsAtPos(t);if(n==null||e.y<n.top||e.y>n.bottom||e.x<n.left-this.view.defaultCharacterWidth||e.x>n.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(a=>a.from<=t&&a.to>=t),s=i&&i.dir==ir.RTL?-1:1,o=this.source(this.view,t,e.x<n.left?-s:s);if(o!=null&&o.then){let a=this.pending={pos:t};o.then(l=>{this.pending==a&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>Wn(this.view.state,l,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!$b(this.lastMove.target)||this.pending){let{pos:i}=n||this.pending,s=(t=n==null?void 0:n.end)!==null&&t!==void 0?t:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!BB(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!$b(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function $b(r){for(let e=r;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function BB(r,e,t,n,i,s){let o=document.createRange(),a=r.domAtPos(e),l=r.domAtPos(t);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let c=o.getClientRects();o.detach();for(let u=0;u<c.length;u++){let f=c[u];if(Math.max(f.top-i,i-f.bottom,f.left-n,n-f.right)<=s)return!0}return!1}function zB(r,e={}){let t=ot.define(),n=Ur.define({create(){return null},update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let o=s.changes.mapPos(i.pos,-1,Yr.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),i);a.pos=o,i.end!=null&&(a.end=s.changes.mapPos(i.end)),i=a}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(DB)&&(i=null);return i},provide:i=>Mh.from(i)});return[n,vr.define(i=>new MB(i,r,n,t,e.hoverTime||300)),RB]}function FB(r,e){let t=r.plugin(DP);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const DB=ot.define(),Cb=Fe.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Rc(r,e){let t=r.plugin(UP),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const UP=vr.fromClass(class{constructor(r){this.input=r.state.facet(Mc),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(Cb);this.top=new Hu(r,!0,e.topContainer),this.bottom=new Hu(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(Cb);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Hu(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Hu(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(Mc);if(t!=this.input){let n=t.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of n){let c=this.specs.indexOf(l),u;c<0?(u=l(r.view),a.push(u)):(u=this.panels[c],u.update&&u.update(r)),i.push(u),(u.top?s:o).push(u)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Be.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Hu{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Tb(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Tb(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Tb(r){let e=r.nextSibling;return r.remove(),e}const Mc=Fe.define({enables:UP});class ws extends Jo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ws.prototype.elementClass="";ws.prototype.toDOM=void 0;ws.prototype.mapMode=Yr.TrackBefore;ws.prototype.startSide=ws.prototype.endSide=-1;ws.prototype.point=!0;const ih=Fe.define(),UB={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>zt.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},hc=Fe.define();function qB(r){return[qP(),hc.of(Object.assign(Object.assign({},UB),r))]}const OO=Fe.define({combine:r=>r.some(e=>e)});function qP(r){let e=[LB];return r&&r.fixed===!1&&e.push(OO.of(!0)),e}const LB=vr.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=r.state.facet(hc).map(e=>new _b(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(OO),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(OO)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let t=zt.iter(this.view.state.facet(ih),this.view.viewport.from),n=[],i=this.gutters.map(s=>new jB(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let a of s.type)if(a.type==Lt.Text){o=a;break}}else o=s.type==Lt.Text?s:void 0;if(o){n.length&&(n=[]),LP(t,n,s.from);for(let a of i)a.line(this.view,o,n)}}for(let s of i)s.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(hc),t=r.state.facet(hc),n=r.docChanged||r.heightChanged||r.viewportChanged||!zt.eq(r.startState.facet(ih),r.state.facet(ih),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new _b(this.view,s)):(this.gutters[o].update(r),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>Be.scrollMargins.of(e=>{let t=e.plugin(r);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==ir.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Pb(r){return Array.isArray(r)?r:[r]}function LP(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class jB{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=zt.iter(e.markers,t.from)}line(e,t,n){let i=[];LP(this.cursor,i,t.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;if(i.length==0&&!o.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==o.elements.length){let l=new jP(e,t.height,a,i);o.elements.push(l),o.dom.appendChild(l.dom)}else o.elements[this.i].update(e,t.height,a,i);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class _b{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,a,i)&&i.preventDefault()});this.markers=Pb(t.markers(e)),t.initialSpacer&&(this.spacer=new jP(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Pb(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!zt.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class jP{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),VB(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(n+=" "+u);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function VB(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const ZB=Fe.define(),La=Fe.define({combine(r){return ts(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let s=n[i],o=t[i];n[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return n}})}});class Hp extends ws{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Kp(r,e){return r.state.facet(La).formatNumber(e,r.state)}const WB=hc.compute([La],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(ZB)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new Hp(Kp(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(La)!=e.state.facet(La),initialSpacer(e){return new Hp(Kp(e,Ab(e.state.doc.lines)))},updateSpacer(e,t){let n=Kp(t.view,Ab(t.view.state.doc.lines));return n==e.number?e:new Hp(n)},domEventHandlers:r.facet(La).domEventHandlers}));function XB(r={}){return[La.of(r),qP(),WB]}function Ab(r){let e=9;for(;e<r;)e=e*10+9;return e}const YB=new class extends ws{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},GB=ih.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(YB.range(i)))}return zt.of(e)});function HB(){return GB}const VP=1024;let KB=0;class Jp{constructor(e,t){this.from=e,this.to=t}}class xt{constructor(e={}){this.id=KB++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ci.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}xt.closedBy=new xt({deserialize:r=>r.split(" ")});xt.openedBy=new xt({deserialize:r=>r.split(" ")});xt.group=new xt({deserialize:r=>r.split(" ")});xt.contextHash=new xt({perNode:!0});xt.lookAhead=new xt({perNode:!0});xt.mounted=new xt({perNode:!0});const JB=Object.create(null);let ci=class ZP{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):JB,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ZP(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(xt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?n.name:i[s]];if(o)return o}}}};ci.none=new ci("",Object.create(null),0,8);class ny{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let s of e){let o=s(n);o&&(i||(i=Object.assign({},n.props)),i[o[0].id]=o[1])}t.push(i?new ci(n.name,i,n.id,n.flags):n)}return new ny(t)}}const Ku=new WeakMap,kb=new WeakMap;var Fr;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Fr||(Fr={}));class $r{constructor(e,t,n,i,s){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(xt.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Fh(this.topNode,e)}cursorAt(e,t=0,n=0){let i=Ku.get(this)||this.topNode,s=new Fh(i);return s.moveTo(e,t),Ku.set(this,s._tree),s}get topNode(){return new ki(this,0,0,null)}resolve(e,t=0){let n=ul(Ku.get(this)||this.topNode,e,t,!1);return Ku.set(this,n),n}resolveInner(e,t=0){let n=ul(kb.get(this)||this.topNode,e,t,!0);return kb.set(this,n),n}iterate(e){let{enter:t,leave:n,from:i=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|Fr.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=i&&(o.type.isAnonymous||t(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&n&&!o.type.isAnonymous&&n(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:oy(ci.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new $r(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new $r(ci.none,t,n,i)))}static build(e){return tz(e)}}$r.empty=new $r(ci.none,[],[],0);class iy{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new iy(this.buffer,this.index)}}class ca{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return ci.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,n,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(WP(s,i,o[l+1],o[l+2])&&(a=l,n>0));l=o[l+3]);return a}slice(e,t,n){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-n;let c=s[l++]=i[a++]-n;s[l++]=i[a++]-e,o=Math.max(o,c)}return new ca(s,o,this.set)}}function WP(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function XP(r,e){let t=r.childBefore(e);for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(r=t,t=n.prevSibling):t=n}return r}function ul(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!n&&r instanceof ki&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=n?0:Fr.IgnoreOverlays;if(n)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof ki&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}class ki{constructor(e,t,n,i){this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],f=l[e]+o.from;if(WP(i,n,f,f+u.length)){if(u instanceof ca){if(s&Fr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,n-f,i);if(d>-1)return new Wi(new ez(o,u,e,f),null,d)}else if(s&Fr.IncludeAnonymous||!u.type.isAnonymous||sy(u)){let d;if(!(s&Fr.IgnoreMounts)&&u.props&&(d=u.prop(xt.mounted))&&!d.overlay)return new ki(d.tree,f,e,o);let g=new ki(u,f,e,o);return s&Fr.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?u.children.length-1:0,t,n,i)}}}if(s&Fr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let i;if(!(n&Fr.IgnoreOverlays)&&(i=this._tree.prop(xt.mounted))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new ki(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Fh(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return ul(this,e,t,!1)}resolveInner(e,t=0){return ul(this,e,t,!0)}enterUnfinishedNodesBefore(e){return XP(this,e)}getChild(e,t=null,n=null){let i=Bh(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return Bh(this,e,t,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return zh(this,e)}}function Bh(r,e,t,n){let i=r.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(;!i.type.is(t);)if(!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function zh(r,e,t=e.length-1){for(let n=r.parent;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class ez{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Wi{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new Wi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&Fr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Wi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Wi(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Wi(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Fh(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let o=n.buffer[this.index+1];e.push(n.slice(i,s,o)),t.push(0)}return new $r(this.type,e,t,this.to-this.from)}resolve(e,t=0){return ul(this,e,t,!1)}resolveInner(e,t=0){return ul(this,e,t,!0)}enterUnfinishedNodesBefore(e){return XP(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,n=null){let i=Bh(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return Bh(this,e,t,n)}get node(){return this}matchContext(e){return zh(this,e)}}class Fh{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ki)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof ki?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Fr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Fr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Fr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,o=e<0?-1:n._tree.children.length;s!=o;s+=e){let a=n._tree.children[s];if(this.mode&Fr.IncludeAnonymous||a instanceof ca||!a.type.isAnonymous||sy(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)t=new Wi(this.buffer,t,this.stack[i]);return this.bufferNode=new Wi(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return zh(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return zh(this.node,e,i);let o=n[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function sy(r){return r.children.some(e=>e instanceof ca||!e.type.isAnonymous||sy(e))}function tz(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=VP,reused:s=[],minRepeatType:o=n.types.length}=r,a=Array.isArray(t)?new iy(t,t.length):t,l=n.types,c=0,u=0;function f(D,Y,ee,re,S){let{id:b,start:$,end:M,size:Q}=a,L=u;for(;Q<0;)if(a.next(),Q==-1){let B=s[b];ee.push(B),re.push($-D);return}else if(Q==-3){c=b;return}else if(Q==-4){u=b;return}else throw new RangeError(`Unrecognized record size: ${Q}`);let W=l[b],N,I,z=$-D;if(M-$<=i&&(I=T(a.pos-Y,S))){let B=new Uint16Array(I.size-I.skip),J=a.pos-I.size,$e=B.length;for(;a.pos>J;)$e=k(I.start,B,$e);N=new ca(B,M-I.start,n),z=I.start-D}else{let B=a.pos-Q;a.next();let J=[],$e=[],Se=b>=o?b:-1,Ie=0,We=M;for(;a.pos>B;)Se>=0&&a.id==Se&&a.size>=0?(a.end<=We-i&&(g(J,$e,$,Ie,a.end,We,Se,L),Ie=J.length,We=a.end),a.next()):f($,B,J,$e,Se);if(Se>=0&&Ie>0&&Ie<J.length&&g(J,$e,$,Ie,$,We,Se,L),J.reverse(),$e.reverse(),Se>-1&&Ie>0){let dt=d(W);N=oy(W,J,$e,0,J.length,0,M-$,dt,dt)}else N=y(W,J,$e,M-$,L-M)}ee.push(N),re.push(z)}function d(D){return(Y,ee,re)=>{let S=0,b=Y.length-1,$,M;if(b>=0&&($=Y[b])instanceof $r){if(!b&&$.type==D&&$.length==re)return $;(M=$.prop(xt.lookAhead))&&(S=ee[b]+$.length+M)}return y(D,Y,ee,re,S)}}function g(D,Y,ee,re,S,b,$,M){let Q=[],L=[];for(;D.length>re;)Q.push(D.pop()),L.push(Y.pop()+ee-S);D.push(y(n.types[$],Q,L,b-S,M-b)),Y.push(S-ee)}function y(D,Y,ee,re,S=0,b){if(c){let $=[xt.contextHash,c];b=b?[$].concat(b):[$]}if(S>25){let $=[xt.lookAhead,S];b=b?[$].concat(b):[$]}return new $r(D,Y,ee,re,b)}function T(D,Y){let ee=a.fork(),re=0,S=0,b=0,$=ee.end-i,M={size:0,start:0,skip:0};e:for(let Q=ee.pos-D;ee.pos>Q;){let L=ee.size;if(ee.id==Y&&L>=0){M.size=re,M.start=S,M.skip=b,b+=4,re+=4,ee.next();continue}let W=ee.pos-L;if(L<0||W<Q||ee.start<$)break;let N=ee.id>=o?4:0,I=ee.start;for(ee.next();ee.pos>W;){if(ee.size<0)if(ee.size==-3)N+=4;else break e;else ee.id>=o&&(N+=4);ee.next()}S=I,re+=L,b+=N}return(Y<0||re==D)&&(M.size=re,M.start=S,M.skip=b),M.size>4?M:void 0}function k(D,Y,ee){let{id:re,start:S,end:b,size:$}=a;if(a.next(),$>=0&&re<o){let M=ee;if($>4){let Q=a.pos-($-4);for(;a.pos>Q;)ee=k(D,Y,ee)}Y[--ee]=M,Y[--ee]=b-D,Y[--ee]=S-D,Y[--ee]=re}else $==-3?c=re:$==-4&&(u=re);return ee}let U=[],_=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,U,_,-1);let G=(e=r.length)!==null&&e!==void 0?e:U.length?_[0]+U[0].length:0;return new $r(l[r.topID],U.reverse(),_.reverse(),G)}const Eb=new WeakMap;function sh(r,e){if(!r.isAnonymous||e instanceof ca||e.type!=r)return 1;let t=Eb.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof $r)){t=1;break}t+=sh(r,n)}Eb.set(e,t)}return t}function oy(r,e,t,n,i,s,o,a,l){let c=0;for(let y=n;y<i;y++)c+=sh(r,e[y]);let u=Math.ceil(c*1.5/8),f=[],d=[];function g(y,T,k,U,_){for(let G=k;G<U;){let D=G,Y=T[G],ee=sh(r,y[G]);for(G++;G<U;G++){let re=sh(r,y[G]);if(ee+re>=u)break;ee+=re}if(G==D+1){if(ee>u){let re=y[D];g(re.children,re.positions,0,re.children.length,T[D]+_);continue}f.push(y[D])}else{let re=T[G-1]+y[G-1].length-Y;f.push(oy(r,y,T,D,G,Y,re,null,l))}d.push(Y+_-s)}}return g(e,t,n,i,0),(a||l)(f,d,o)}class rz{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof Wi?this.setBuffer(e.context.buffer,e.index,t):e instanceof ki&&this.map.set(e.tree,t)}get(e){return e instanceof Wi?this.getBuffer(e.context.buffer,e.index):e instanceof ki?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Xo{constructor(e,t,n,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new Xo(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,f=u?u.fromA:1e9;if(f-l>=n)for(;o&&o.from<f;){let d=o;if(l>=d.from||f<=d.to||c){let g=Math.max(d.from,l)-c,y=Math.min(d.to,f)-c;d=g>=y?null:new Xo(g,y,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>f)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class YP{startParse(e,t,n){return typeof e=="string"&&(e=new nz(e)),n=n?n.length?n.map(i=>new Jp(i.from,i.to)):[new Jp(0,0)]:[new Jp(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let s=i.advance();if(s)return s}}}class nz{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new xt({perNode:!0});let iz=0,Us=class GP{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=iz++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new GP([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new Dh;return t=>t.modified.indexOf(e)>-1?t:Dh.get(t.base||t,t.modified.concat(e).sort((n,i)=>n.id-i.id))}},sz=0;class Dh{constructor(){this.instances=[],this.id=sz++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(a=>a.base==e&&oz(t,a.modified));if(n)return n;let i=[],s=new Us(i,e,t);for(let a of t)a.instances.push(s);let o=az(t);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Dh.get(a,l));return s}}function oz(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function az(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function HP(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let s=[],o=2,a=i;for(let f=0;;){if(a=="..."&&f>0&&f+3==i.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let g=i[f++];if(f==i.length&&g=="!"){o=0;break}if(g!="/")throw new RangeError("Invalid path: "+i);a=i.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Uh(n,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return KP.add(e)}const KP=new xt;class Uh{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Uh.empty=new Uh([],2,null);function JP(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:n}}function lz(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function cz(r,e,t,n=0,i=r.length){let s=new uz(n,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),n,i,"",s.highlighters),s.flush(i)}class uz{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:o,from:a,to:l}=e;if(a>=n||l<=t)return;o.isTop&&(s=this.highlighters.filter(g=>!g.scope||g.scope(o)));let c=i,u=fz(e)||Uh.empty,f=lz(s,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(e.from,c),u.opaque)return;let d=e.tree&&e.tree.prop(xt.mounted);if(d&&d.overlay){let g=e.node.enter(d.overlay[0].from+a,1),y=this.highlighters.filter(k=>!k.scope||k.scope(d.tree.type)),T=e.firstChild();for(let k=0,U=a;;k++){let _=k<d.overlay.length?d.overlay[k]:null,G=_?_.from+a:l,D=Math.max(t,U),Y=Math.min(n,G);if(D<Y&&T)for(;e.from<Y&&(this.highlightRange(e,D,Y,i,s),this.startSpan(Math.min(Y,e.to),c),!(e.to>=G||!e.nextSibling())););if(!_||G>n)break;U=_.to+a,U>t&&(this.highlightRange(g.cursor(),Math.max(t,_.from+a),Math.min(n,U),i,y),this.startSpan(U,c))}T&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function fz(r){let e=r.type.prop(KP);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Ce=Us.define,Ju=Ce(),qs=Ce(),Qb=Ce(qs),Nb=Ce(qs),Ls=Ce(),ef=Ce(Ls),em=Ce(Ls),zi=Ce(),vo=Ce(zi),Ri=Ce(),Mi=Ce(),yO=Ce(),Ml=Ce(yO),tf=Ce(),q={comment:Ju,lineComment:Ce(Ju),blockComment:Ce(Ju),docComment:Ce(Ju),name:qs,variableName:Ce(qs),typeName:Qb,tagName:Ce(Qb),propertyName:Nb,attributeName:Ce(Nb),className:Ce(qs),labelName:Ce(qs),namespace:Ce(qs),macroName:Ce(qs),literal:Ls,string:ef,docString:Ce(ef),character:Ce(ef),attributeValue:Ce(ef),number:em,integer:Ce(em),float:Ce(em),bool:Ce(Ls),regexp:Ce(Ls),escape:Ce(Ls),color:Ce(Ls),url:Ce(Ls),keyword:Ri,self:Ce(Ri),null:Ce(Ri),atom:Ce(Ri),unit:Ce(Ri),modifier:Ce(Ri),operatorKeyword:Ce(Ri),controlKeyword:Ce(Ri),definitionKeyword:Ce(Ri),moduleKeyword:Ce(Ri),operator:Mi,derefOperator:Ce(Mi),arithmeticOperator:Ce(Mi),logicOperator:Ce(Mi),bitwiseOperator:Ce(Mi),compareOperator:Ce(Mi),updateOperator:Ce(Mi),definitionOperator:Ce(Mi),typeOperator:Ce(Mi),controlOperator:Ce(Mi),punctuation:yO,separator:Ce(yO),bracket:Ml,angleBracket:Ce(Ml),squareBracket:Ce(Ml),paren:Ce(Ml),brace:Ce(Ml),content:zi,heading:vo,heading1:Ce(vo),heading2:Ce(vo),heading3:Ce(vo),heading4:Ce(vo),heading5:Ce(vo),heading6:Ce(vo),contentSeparator:Ce(zi),list:Ce(zi),quote:Ce(zi),emphasis:Ce(zi),strong:Ce(zi),link:Ce(zi),monospace:Ce(zi),strikethrough:Ce(zi),inserted:Ce(),deleted:Ce(),changed:Ce(),invalid:Ce(),meta:tf,documentMeta:Ce(tf),annotation:Ce(tf),processingInstruction:Ce(tf),definition:Us.defineModifier(),constant:Us.defineModifier(),function:Us.defineModifier(),standard:Us.defineModifier(),local:Us.defineModifier(),special:Us.defineModifier()};JP([{tag:q.link,class:"tok-link"},{tag:q.heading,class:"tok-heading"},{tag:q.emphasis,class:"tok-emphasis"},{tag:q.strong,class:"tok-strong"},{tag:q.keyword,class:"tok-keyword"},{tag:q.atom,class:"tok-atom"},{tag:q.bool,class:"tok-bool"},{tag:q.url,class:"tok-url"},{tag:q.labelName,class:"tok-labelName"},{tag:q.inserted,class:"tok-inserted"},{tag:q.deleted,class:"tok-deleted"},{tag:q.literal,class:"tok-literal"},{tag:q.string,class:"tok-string"},{tag:q.number,class:"tok-number"},{tag:[q.regexp,q.escape,q.special(q.string)],class:"tok-string2"},{tag:q.variableName,class:"tok-variableName"},{tag:q.local(q.variableName),class:"tok-variableName tok-local"},{tag:q.definition(q.variableName),class:"tok-variableName tok-definition"},{tag:q.special(q.variableName),class:"tok-variableName2"},{tag:q.definition(q.propertyName),class:"tok-propertyName tok-definition"},{tag:q.typeName,class:"tok-typeName"},{tag:q.namespace,class:"tok-namespace"},{tag:q.className,class:"tok-className"},{tag:q.macroName,class:"tok-macroName"},{tag:q.propertyName,class:"tok-propertyName"},{tag:q.operator,class:"tok-operator"},{tag:q.comment,class:"tok-comment"},{tag:q.meta,class:"tok-meta"},{tag:q.invalid,class:"tok-invalid"},{tag:q.punctuation,class:"tok-punctuation"}]);var tm;const ja=new xt;function e_(r){return Fe.define({combine:r?e=>e.concat(r):void 0})}const ay=new xt;class Ti{constructor(e,t,n=[],i=""){this.data=e,this.name=i,wt.prototype.hasOwnProperty("tree")||Object.defineProperty(wt.prototype,"tree",{get(){return Rr(this)}}),this.parser=t,this.extension=[uo.of(this),wt.languageData.of((s,o,a)=>{let l=Ib(s,o,a),c=l.type.prop(ja);if(!c)return[];let u=s.facet(c),f=l.type.prop(ay);if(f){let d=l.resolve(o-l.from,a);for(let g of f)if(g.test(d,s)){let y=s.facet(g.facet);return g.type=="replace"?y:y.concat(u)}}return u})].concat(n)}isActiveAt(e,t,n=-1){return Ib(e,t,n).type.prop(ja)==this.data}findRegions(e){let t=e.facet(uo);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(s,o)=>{if(s.prop(ja)==this.data){n.push({from:o,to:o+s.length});return}let a=s.prop(xt.mounted);if(a){if(a.tree.prop(ja)==this.data){if(a.overlay)for(let l of a.overlay)n.push({from:l.from+o,to:l.to+o});else n.push({from:o,to:o+s.length});return}else if(a.overlay){let l=n.length;if(i(a.tree,a.overlay[0].from+o),n.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof $r&&i(c,s.positions[l]+o)}};return i(Rr(e),0),n}get allowsNesting(){return!0}}Ti.setState=ot.define();function Ib(r,e,t){let n=r.facet(uo),i=Rr(r).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,t,Fr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class qh extends Ti{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=e_(e.languageData);return new qh(t,e.parser.configure({props:[ja.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new qh(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Rr(r){let e=r.field(Ti.state,!1);return e?e.tree:$r.empty}class hz{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Bl=null;class Lh{constructor(e,t,n=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Lh(e,t,[],$r.empty,0,n,[],null)}startParse(){return this.parser.startParse(new hz(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=$r.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Xo.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Xo.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Bl;Bl=this;try{return e()}finally{Bl=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Rb(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,d)=>l.push({fromA:c,toA:u,fromB:f,toB:d})),n=Xo.applyChanges(n,l),i=$r.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new Lh(this.parser,t,n,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=Rb(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends YP{createParse(t,n,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Bl;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new $r(ci.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Bl}}function Rb(r,e,t){return Xo.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class fl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new fl(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Lh.create(e.facet(uo).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new fl(n)}}Ti.state=Ur.define({create:fl.init,update(r,e){for(let t of e.effects)if(t.is(Ti.setState))return t.value;return e.startState.facet(uo)!=e.state.facet(uo)?fl.init(e.state):r.apply(e)}});let t_=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(t_=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const rm=typeof navigator<"u"&&(!((tm=navigator.scheduling)===null||tm===void 0)&&tm.isInputPending)?()=>navigator.scheduling.isInputPending():null,dz=vr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ti.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ti.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=t_(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(Ti.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!rm?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&n.doc.length>i+1e3,l=s.context.work(()=>rm&&rm()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ti.setState.of(new fl(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Wn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),uo=Fe.define({combine(r){return r.length?r[0]:null},enables:r=>[Ti.state,dz,Be.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class pz{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const mz=Fe.define(),ou=Fe.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function jh(r){let e=r.facet(ou);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function Bc(r,e){let t="",n=r.tabSize,i=r.facet(ou)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let s=0;s<e;s++)t+=i;return t}function ly(r,e){r instanceof wt&&(r=new Zd(r));for(let n of r.state.facet(mz)){let i=n(r,e);if(i!==void 0)return i}let t=Rr(r.state);return t?gz(r,t,e):null}class Zd{constructor(e,t={}){this.state=e,this.options=t,this.unit=jh(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.countColumn(n,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return ru(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const r_=new xt;function gz(r,e,t){return n_(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,r)}function Oz(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function yz(r){let e=r.type.prop(r_);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(xt.closedBy))){let i=r.lastChild,s=i&&n.indexOf(i.name)>-1;return o=>i_(o,!0,1,void 0,s&&!Oz(o)?i.from:void 0)}return r.parent==null?xz:null}function n_(r,e,t){for(;r;r=r.parent){let n=yz(r);if(n)return n(cy.create(t,e,r))}return null}function xz(){return 0}class cy extends Zd{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.node=n}static create(e,t,n){return new cy(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(bz(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?n_(e,this.pos,this.base):0}}function bz(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function Sz(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==n)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function vz({closing:r,align:e=!0,units:t=1}){return n=>i_(n,e,t,r)}function i_(r,e,t,n,i){let s=r.textAfter,o=s.match(/^\s*/)[0].length,a=n&&s.slice(o,o+n.length)==n||i==r.pos+o,l=e?Sz(r):null;return l?a?r.column(l.from):r.column(l.to):r.baseIndent+(a?0:r.unit*t)}const wz=r=>r.baseIndent;function nm({except:r,units:e=1}={}){return t=>{let n=r&&r.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const $z=200;function Cz(){return wt.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+$z)return r;let s=t.sliceString(i.from,n);if(!e.some(c=>c.test(s)))return r;let{state:o}=r,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=ly(o,u.from);if(f==null)continue;let d=/^\s*/.exec(u.text)[0],g=Bc(o,f);d!=g&&l.push({from:u.from,to:u.from+d.length,insert:g})}return l.length?[r,{changes:l,sequential:!0}]:r})}const Tz=Fe.define(),s_=new xt;function Pz(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}function _z(r,e,t){let n=Rr(r);if(n.length<t)return null;let i=n.resolveInner(t,1),s=null;for(let o=i;o;o=o.parent){if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let a=o.type.prop(s_);if(a&&(o.to<n.length-50||n.length==r.doc.length||!Az(o))){let l=a(o,r);l&&l.from<=t&&l.from>=e&&l.to>t&&(s=l)}}return s}function Az(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function Vh(r,e,t){for(let n of r.facet(Tz)){let i=n(r,e,t);if(i)return i}return _z(r,e,t)}function o_(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const Wd=ot.define({map:o_}),au=ot.define({map:o_});function a_(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const ta=Ur.define({create(){return Le.none},update(r,e){r=r.map(e.changes);for(let t of e.effects)t.is(Wd)&&!kz(r,t.value.from,t.value.to)?r=r.update({add:[Mb.range(t.value.from,t.value.to)]}):t.is(au)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:n}=e.selection.main;r.between(n,n,(i,s)=>{i<n&&s>n&&(t=!0)}),t&&(r=r.update({filterFrom:n,filterTo:n,filter:(i,s)=>s<=n||i>=n}))}return r},provide:r=>Be.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Mb.range(n,i))}return Le.set(e,!0)}});function Zh(r,e,t){var n;let i=null;return(n=r.field(ta,!1))===null||n===void 0||n.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function kz(r,e,t){let n=!1;return r.between(e,e,(i,s)=>{i==e&&s==t&&(n=!0)}),n}function l_(r,e){return r.field(ta,!1)?e:e.concat(ot.appendConfig.of(f_()))}const Ez=r=>{for(let e of a_(r)){let t=Vh(r.state,e.from,e.to);if(t)return r.dispatch({effects:l_(r.state,[Wd.of(t),c_(r,t)])}),!0}return!1},Qz=r=>{if(!r.state.field(ta,!1))return!1;let e=[];for(let t of a_(r)){let n=Zh(r.state,t.from,t.to);n&&e.push(au.of(n),c_(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function c_(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return Be.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const Nz=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),s=Vh(e,i.from,i.to);s&&t.push(Wd.of(s)),n=(s?r.lineBlockAt(s.to):i).to+1}return t.length&&r.dispatch({effects:l_(r.state,t)}),!!t.length},Iz=r=>{let e=r.state.field(ta,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(au.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},Rz=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ez},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Qz},{key:"Ctrl-Alt-[",run:Nz},{key:"Ctrl-Alt-]",run:Iz}],Mz={placeholderDOM:null,placeholderText:""},u_=Fe.define({combine(r){return ts(r,Mz)}});function f_(r){let e=[ta,Fz];return r&&e.push(u_.of(r)),e}const Mb=Le.replace({widget:new class extends rs{toDOM(r){let{state:e}=r,t=e.facet(u_),n=s=>{let o=r.lineBlockAt(r.posAtDOM(s.target)),a=Zh(r.state,o.from,o.to);a&&r.dispatch({effects:au.of(a)}),s.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(r,n);let i=document.createElement("span");return i.textContent=t.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=n,i}}}),Bz={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class im extends ws{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function zz(r={}){let e=Object.assign(Object.assign({},Bz),r),t=new im(e,!0),n=new im(e,!1),i=vr.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(uo)!=o.state.facet(uo)||o.startState.field(ta,!1)!=o.state.field(ta,!1)||Rr(o.startState)!=Rr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new oo;for(let l of o.viewportLineBlocks){let c=Zh(o.state,l.from,l.to)?n:Vh(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,qB({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||zt.empty},initialSpacer(){return new im(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Zh(o.state,a.from,a.to);if(c)return o.dispatch({effects:au.of(c)}),!0;let u=Vh(o.state,a.from,a.to);return u?(o.dispatch({effects:Wd.of(u)}),!0):!1}})}),f_()]}const Fz=Be.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class lu{constructor(e,t){this.specs=e;let n;function i(a){let l=ao.newName();return(n||(n=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Ti?a=>a.prop(ja)==o.data:o?a=>a==o:void 0,this.style=JP(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=n?new ao(n):null,this.themeType=t.themeType}static define(e,t){return new lu(e,t||{})}}const xO=Fe.define(),h_=Fe.define({combine(r){return r.length?[r[0]]:null}});function sm(r){let e=r.facet(xO);return e.length?e:r.facet(h_)}function d_(r,e){let t=[Uz],n;return r instanceof lu&&(r.module&&t.push(Be.styleModule.of(r.module)),n=r.themeType),e!=null&&e.fallback?t.push(h_.of(r)):n?t.push(xO.computeN([Be.darkTheme],i=>i.facet(Be.darkTheme)==(n=="dark")?[r]:[])):t.push(xO.of(r)),t}class Dz{constructor(e){this.markCache=Object.create(null),this.tree=Rr(e.state),this.decorations=this.buildDeco(e,sm(e.state))}update(e){let t=Rr(e.state),n=sm(e.state),i=n!=sm(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return Le.none;let n=new oo;for(let{from:i,to:s}of e.visibleRanges)cz(this.tree,t,(o,a,l)=>{n.add(o,a,this.markCache[l]||(this.markCache[l]=Le.mark({class:l})))},i,s);return n.finish()}}const Uz=la.high(vr.fromClass(Dz,{decorations:r=>r.decorations})),qz=lu.define([{tag:q.meta,color:"#404740"},{tag:q.link,textDecoration:"underline"},{tag:q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strong,fontWeight:"bold"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.keyword,color:"#708"},{tag:[q.atom,q.bool,q.url,q.contentSeparator,q.labelName],color:"#219"},{tag:[q.literal,q.inserted],color:"#164"},{tag:[q.string,q.deleted],color:"#a11"},{tag:[q.regexp,q.escape,q.special(q.string)],color:"#e40"},{tag:q.definition(q.variableName),color:"#00f"},{tag:q.local(q.variableName),color:"#30a"},{tag:[q.typeName,q.namespace],color:"#085"},{tag:q.className,color:"#167"},{tag:[q.special(q.variableName),q.macroName],color:"#256"},{tag:q.definition(q.propertyName),color:"#00c"},{tag:q.comment,color:"#940"},{tag:q.invalid,color:"#f00"}]),Lz=Be.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),p_=1e4,m_="()[]{}",g_=Fe.define({combine(r){return ts(r,{afterCursor:!0,brackets:m_,maxScanDistance:p_,renderMatch:Zz})}}),jz=Le.mark({class:"cm-matchingBracket"}),Vz=Le.mark({class:"cm-nonmatchingBracket"});function Zz(r){let e=[],t=r.matched?jz:Vz;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const Wz=Ur.define({create(){return Le.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(g_);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Xi(e.state,i.head,-1,n)||i.head>0&&Xi(e.state,i.head-1,1,n)||n.afterCursor&&(Xi(e.state,i.head,1,n)||i.head<e.state.doc.length&&Xi(e.state,i.head+1,-1,n));s&&(t=t.concat(n.renderMatch(s,e.state)))}return Le.set(t,!0)},provide:r=>Be.decorations.from(r)}),Xz=[Wz,Lz];function Yz(r={}){return[g_.of(r),Xz]}const Gz=new xt;function bO(r,e,t){let n=r.prop(e<0?xt.openedBy:xt.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function SO(r){let e=r.type.prop(Gz);return e?e(r.node):r}function Xi(r,e,t,n={}){let i=n.maxScanDistance||p_,s=n.brackets||m_,o=Rr(r),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=bO(l.type,t,s);if(c&&l.from<l.to){let u=SO(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Hz(r,e,t,l,u,c,s)}}return Kz(r,e,t,o,a.type,i,s)}function Hz(r,e,t,n,i,s,o){let a=n.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(n.from):u.childAfter(n.to)))do if(t<0?u.to<=n.from:u.from>=n.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let f=SO(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(bO(u.type,t,o))c++;else if(bO(u.type,-t,o)){if(c==0){let f=SO(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Kz(r,e,t,n,i,s,o){let a=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=r.doc.iterRange(e,t>0?r.doc.length:0),f=0;for(let d=0;!u.next().done&&d<=s;){let g=u.value;t<0&&(d+=g.length);let y=e+d*t;for(let T=t>0?0:g.length-1,k=t>0?g.length:-1;T!=k;T+=t){let U=o.indexOf(g[T]);if(!(U<0||n.resolveInner(y+T,1).type!=i))if(U%2==0==t>0)f++;else{if(f==1)return{start:c,end:{from:y+T,to:y+T+1},matched:U>>1==l>>1};f--}}t>0&&(d+=g.length)}return u.done?{start:c,matched:!1}:null}const Jz=Object.create(null),Bb=[ci.none],zb=[],e6=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])e6[r]=t6(Jz,e);function om(r,e){zb.indexOf(r)>-1||(zb.push(r),console.warn(e))}function t6(r,e){let t=null;for(let s of e.split(".")){let o=r[s]||q[s];o?typeof o=="function"?t?t=o(t):om(s,`Modifier ${s} used at start of tag`):t?om(s,`Tag ${s} used as modifier`):t=o:om(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let n=e.replace(/ /g,"_"),i=ci.define({id:Bb.length,name:n,props:[HP({[n]:t})]});return Bb.push(i),i.id}const r6=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=fy(r.state,t.from);return n.line?n6(r):n.block?s6(r):!1};function uy(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const n6=uy(l6,0),i6=uy(O_,0),s6=uy((r,e)=>O_(r,e,a6(e)),0);function fy(r,e){let t=r.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const zl=50;function o6(r,{open:e,close:t},n,i){let s=r.sliceDoc(n-zl,n),o=r.sliceDoc(i,i+zl),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:n-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,f;i-n<=2*zl?u=f=r.sliceDoc(n,i):(u=r.sliceDoc(n,n+zl),f=r.sliceDoc(i-zl,i));let d=/^\s*/.exec(u)[0].length,g=/\s*$/.exec(f)[0].length,y=f.length-g-t.length;return u.slice(d,d+e.length)==e&&f.slice(y,y+t.length)==t?{open:{pos:n+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:i-g-t.length,margin:/\s/.test(f.charAt(y-1))?1:0}}:null}function a6(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from,to:i.to})}return e}function O_(r,e,t=e.selection.ranges){let n=t.map(s=>fy(e,s.from).block);if(!n.every(s=>s))return null;let i=t.map((s,o)=>o6(e,n[o],s.from,s.to));if(r!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:n[o].open+" "},{from:s.to,insert:" "+n[o].close}]))};if(r!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=n[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function l6(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:o}of t){let a=n.length,l=1e9,c=fy(e,s).line;if(c){for(let u=s;u<=o;){let f=e.doc.lineAt(u);if(f.from>i&&(s==o||o>f.from)){i=f.from;let d=/^\s*/.exec(f.text)[0].length,g=d==f.length,y=f.text.slice(d,d+c.length)==c?d:-1;d<f.text.length&&d<l&&(l=d),n.push({line:f,comment:y,token:c,indent:d,empty:g,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<n.length;u++)n[u].indent<n[u].line.text.length&&(n[u].indent=l);n.length==a+1&&(n[a].single=!0)}}if(r!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of n)(f||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(r!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of n)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const vO=_s.define(),c6=_s.define(),u6=Fe.define(),y_=Fe.define({combine(r){return ts(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}});function f6(r){let e=0;return r.iterChangedRanges((t,n)=>e=n),e}const x_=Ur.define({create(){return Yi.empty},update(r,e){let t=e.state.facet(y_),n=e.annotation(vO);if(n){let l=e.docChanged?oe.single(f6(e.changes)):void 0,c=Rn.fromTransaction(e,l),u=n.side,f=u==0?r.undone:r.done;return c?f=Wh(f,f.length,t.minDepth,c):f=v_(f,e.startState.selection),new Yi(u==0?n.rest:f,u==0?f:n.rest)}let i=e.annotation(c6);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(Er.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=Rn.fromTransaction(e),o=e.annotation(Er.time),a=e.annotation(Er.userEvent);return s?r=r.addChanges(s,o,a,t,e):e.selection&&(r=r.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new Yi(r.done.map(Rn.fromJSON),r.undone.map(Rn.fromJSON))}});function h6(r={}){return[x_,y_.of(r),Be.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?b_:e.inputType=="historyRedo"?wO:null;return n?(e.preventDefault(),n(t)):!1}})]}function Xd(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(x_,!1);if(!i)return!1;let s=i.pop(r,t,e);return s?(n(s),!0):!1}}const b_=Xd(0,!1),wO=Xd(1,!1),d6=Xd(0,!0),p6=Xd(1,!0);class Rn{constructor(e,t,n,i,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Rn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Rn(e.changes&&kr.fromJSON(e.changes),[],e.mapped&&Hi.fromJSON(e.mapped),e.startSelection&&oe.fromJSON(e.startSelection),e.selectionsAfter.map(oe.fromJSON))}static fromTransaction(e,t){let n=li;for(let i of e.startState.facet(u6)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new Rn(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,li)}static selection(e){return new Rn(void 0,li,void 0,void 0,e)}}function Wh(r,e,t,n){let i=e+1>t+20?e-t-1:0,s=r.slice(i,e);return s.push(n),s}function m6(r,e){let t=[],n=!1;return r.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(n=!0)}}),n}function g6(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function S_(r,e){return r.length?e.length?r.concat(e):r:e}const li=[],O6=200;function v_(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-O6));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),Wh(r,r.length-1,1e9,t.setSelAfter(n)))}else return[Rn.selection([e])]}function y6(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function am(r,e){if(!r.length)return r;let t=r.length,n=li;for(;t;){let i=x6(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=r.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[Rn.selection(n)]:li}function x6(r,e,t){let n=S_(r.selectionsAfter.length?r.selectionsAfter.map(a=>a.map(e)):li,t);if(!r.changes)return Rn.selection(n);let i=r.changes.map(e),s=e.mapDesc(r.changes,!0),o=r.mapped?r.mapped.composeDesc(s):s;return new Rn(i,ot.mapEffects(r.effects,e),o,r.startSelection.map(s),n)}const b6=/^(input\.type|delete)($|\.)/;class Yi{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Yi(this.done,this.undone):this}addChanges(e,t,n,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!n||b6.test(n))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,m6(a.changes,e.changes))||n=="input.type.compose")?o=Wh(o,o.length-1,i.minDepth,new Rn(e.changes.compose(a.changes),S_(e.effects,a.effects),a.mapped,a.startSelection,li)):o=Wh(o,o.length,i.minDepth,e),new Yi(o,li,t,n)}addSelection(e,t,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:li;return s.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&g6(s[s.length-1],e)?this:new Yi(v_(this.done,e),this.undone,t,n)}addMapping(e){return new Yi(am(this.done,e),am(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1];if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:vO.of({side:e,rest:y6(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=i.length==1?li:i.slice(0,i.length-1);return s.mapped&&(o=am(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:vO.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Yi.empty=new Yi(li,li);const S6=[{key:"Mod-z",run:b_,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:wO,preventDefault:!0},{linux:"Ctrl-Shift-z",run:wO,preventDefault:!0},{key:"Mod-u",run:d6,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:p6,preventDefault:!0}];function bl(r,e){return oe.create(r.ranges.map(e),r.mainIndex)}function ns(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ei({state:r,dispatch:e},t){let n=bl(r.selection,t);return n.eq(r.selection)?!1:(e(ns(r,n)),!0)}function Yd(r,e){return oe.cursor(e?r.to:r.from)}function w_(r,e){return Ei(r,t=>t.empty?r.moveByChar(t,e):Yd(t,e))}function hn(r){return r.textDirectionAt(r.state.selection.main.head)==ir.LTR}const $_=r=>w_(r,!hn(r)),C_=r=>w_(r,hn(r));function T_(r,e){return Ei(r,t=>t.empty?r.moveByGroup(t,e):Yd(t,e))}const v6=r=>T_(r,!hn(r)),w6=r=>T_(r,hn(r));function $6(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Gd(r,e,t){let n=Rr(r).resolveInner(e.head),i=t?xt.closedBy:xt.openedBy;for(let l=e.head;;){let c=t?n.childAfter(l):n.childBefore(l);if(!c)break;$6(r,c,i)?n=c:l=t?c.to:c.from}let s=n.type.prop(i),o,a;return s&&(o=t?Xi(r,n.from,1):Xi(r,n.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?n.to:n.from,oe.cursor(a,t?-1:1)}const C6=r=>Ei(r,e=>Gd(r.state,e,!hn(r))),T6=r=>Ei(r,e=>Gd(r.state,e,hn(r)));function P_(r,e){return Ei(r,t=>{if(!t.empty)return Yd(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const __=r=>P_(r,!1),A_=r=>P_(r,!0);function k_(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let s of r.state.facet(Be.scrollMargins)){let o=s(r);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(n=Math.max(o==null?void 0:o.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function E_(r,e){let t=k_(r),{state:n}=r,i=bl(n.selection,o=>o.empty?r.moveVertically(o,e,t.height):Yd(o,e));if(i.eq(n.selection))return!1;let s;if(t.selfScroll){let o=r.coordsAtPos(n.selection.main.head),a=r.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=Be.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return r.dispatch(ns(n,i),{effects:s}),!0}const Fb=r=>E_(r,!1),$O=r=>E_(r,!0);function go(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let s=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=oe.cursor(n.from+s))}return i}const P6=r=>Ei(r,e=>go(r,e,!0)),_6=r=>Ei(r,e=>go(r,e,!1)),A6=r=>Ei(r,e=>go(r,e,!hn(r))),k6=r=>Ei(r,e=>go(r,e,hn(r))),E6=r=>Ei(r,e=>oe.cursor(r.lineBlockAt(e.head).from,1)),Q6=r=>Ei(r,e=>oe.cursor(r.lineBlockAt(e.head).to,-1));function N6(r,e,t){let n=!1,i=bl(r.selection,s=>{let o=Xi(r,s.head,-1)||Xi(r,s.head,1)||s.head>0&&Xi(r,s.head-1,1)||s.head<r.doc.length&&Xi(r,s.head+1,-1);if(!o||!o.end)return s;n=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?oe.range(s.anchor,a):oe.cursor(a)});return n?(e(ns(r,i)),!0):!1}const I6=({state:r,dispatch:e})=>N6(r,e,!1);function hi(r,e){let t=bl(r.state.selection,n=>{let i=e(n);return oe.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(ns(r.state,t)),!0)}function Q_(r,e){return hi(r,t=>r.moveByChar(t,e))}const N_=r=>Q_(r,!hn(r)),I_=r=>Q_(r,hn(r));function R_(r,e){return hi(r,t=>r.moveByGroup(t,e))}const R6=r=>R_(r,!hn(r)),M6=r=>R_(r,hn(r)),B6=r=>hi(r,e=>Gd(r.state,e,!hn(r))),z6=r=>hi(r,e=>Gd(r.state,e,hn(r)));function M_(r,e){return hi(r,t=>r.moveVertically(t,e))}const B_=r=>M_(r,!1),z_=r=>M_(r,!0);function F_(r,e){return hi(r,t=>r.moveVertically(t,e,k_(r).height))}const Db=r=>F_(r,!1),Ub=r=>F_(r,!0),F6=r=>hi(r,e=>go(r,e,!0)),D6=r=>hi(r,e=>go(r,e,!1)),U6=r=>hi(r,e=>go(r,e,!hn(r))),q6=r=>hi(r,e=>go(r,e,hn(r))),L6=r=>hi(r,e=>oe.cursor(r.lineBlockAt(e.head).from)),j6=r=>hi(r,e=>oe.cursor(r.lineBlockAt(e.head).to)),qb=({state:r,dispatch:e})=>(e(ns(r,{anchor:0})),!0),Lb=({state:r,dispatch:e})=>(e(ns(r,{anchor:r.doc.length})),!0),jb=({state:r,dispatch:e})=>(e(ns(r,{anchor:r.selection.main.anchor,head:0})),!0),Vb=({state:r,dispatch:e})=>(e(ns(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),V6=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),Z6=({state:r,dispatch:e})=>{let t=Kd(r).map(({from:n,to:i})=>oe.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:oe.create(t),userEvent:"select"})),!0},W6=({state:r,dispatch:e})=>{let t=bl(r.selection,n=>{var i;let s=Rr(r).resolveInner(n.head,1);for(;!(s.from<n.from&&s.to>=n.to||s.to>n.to&&s.from<=n.from||!(!((i=s.parent)===null||i===void 0)&&i.parent));)s=s.parent;return oe.range(s.to,s.from)});return e(ns(r,t)),!0},X6=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=oe.create([t.main]):t.main.empty||(n=oe.create([oe.cursor(t.main.head)])),n?(e(ns(r,n)),!0):!1};function Hd(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(t="delete.backward",l=rf(r,l,!1)):l>o&&(t="delete.forward",l=rf(r,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=rf(r,o,!1),a=rf(r,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:oe.cursor(o)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Be.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function rf(r,e,t){if(r instanceof Be)for(let n of r.state.facet(Be.atomicRanges).map(i=>i(r)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const D_=(r,e)=>Hd(r,t=>{let{state:n}=r,i=n.doc.lineAt(t),s,o;if(!e&&t>i.from&&t<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,t-i.from))){if(s[s.length-1]=="	")return t-1;let a=ru(s,n.tabSize),l=a%jh(n)||jh(n);for(let c=0;c<l&&s[s.length-1-c]==" ";c++)t--;o=t}else o=yn(i.text,t-i.from,e,e)+i.from,o==t&&i.number!=(e?n.doc.lines:1)&&(o+=e?1:-1);return o}),CO=r=>D_(r,!1),U_=r=>D_(r,!0),q_=(r,e)=>Hd(r,t=>{let n=t,{state:i}=r,s=i.doc.lineAt(n),o=i.charCategorizer(n);for(let a=null;;){if(n==(e?s.to:s.from)){n==t&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let l=yn(s.text,n-s.from,e)+s.from,c=s.text.slice(Math.min(n,l)-s.from,Math.max(n,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||n!=t)&&(a=u),n=l}return n}),L_=r=>q_(r,!1),Y6=r=>q_(r,!0),j_=r=>Hd(r,e=>{let t=r.lineBlockAt(e).to;return e<t?t:Math.min(r.state.doc.length,e+1)}),G6=r=>Hd(r,e=>{let t=r.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),H6=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Rt.of(["",""])},range:oe.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},K6=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,s=r.doc.lineAt(i),o=i==s.from?i-1:yn(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:yn(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:r.doc.slice(i,a).append(r.doc.slice(o,i))},range:oe.cursor(a)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Kd(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),s=r.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=r.doc.lineAt(n.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});t=s.number+1}return e}function V_(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let s of Kd(r)){if(t?s.to==r.doc.length:s.from==0)continue;let o=r.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){n.push({from:s.to,to:o.to},{from:s.from,insert:o.text+r.lineBreak});for(let l of s.ranges)i.push(oe.range(Math.min(r.doc.length,l.anchor+a),Math.min(r.doc.length,l.head+a)))}else{n.push({from:o.from,to:s.from},{from:s.to,insert:r.lineBreak+o.text});for(let l of s.ranges)i.push(oe.range(l.anchor-a,l.head-a))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:oe.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const J6=({state:r,dispatch:e})=>V_(r,e,!1),eF=({state:r,dispatch:e})=>V_(r,e,!0);function Z_(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of Kd(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const tF=({state:r,dispatch:e})=>Z_(r,e,!1),rF=({state:r,dispatch:e})=>Z_(r,e,!0),nF=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Kd(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=bl(e.selection,i=>r.moveVertically(i,!0)).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function iF(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Rr(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(xt.closedBy))&&s.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from?{from:n.to,to:i.from}:null}const sF=W_(!1),oF=W_(!0);function W_(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!r&&s==o&&iF(e,s);r&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Zd(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=ly(c,s);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",Bc(e,u)];return l&&f.push(Bc(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Rt.of(f)},range:oe.cursor(s+1+f[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function hy(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let o=n.from;o<=n.to;){let a=r.doc.lineAt(o);a.number>t&&(n.empty||n.to>a.from)&&(e(a,i,n),t=a.number),o=a.to+1}let s=r.changes(i);return{changes:i,range:oe.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const aF=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new Zd(r,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=hy(r,(s,o,a)=>{let l=ly(n,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Bc(r,l);(c!=u||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},X_=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(hy(r,(t,n)=>{n.push({from:t.from,insert:r.facet(ou)})}),{userEvent:"input.indent"})),!0),Y_=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(hy(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=ru(i,r.tabSize),o=0,a=Bc(r,Math.max(0,s-jh(r)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),lF=[{key:"Ctrl-b",run:$_,shift:N_,preventDefault:!0},{key:"Ctrl-f",run:C_,shift:I_},{key:"Ctrl-p",run:__,shift:B_},{key:"Ctrl-n",run:A_,shift:z_},{key:"Ctrl-a",run:E6,shift:L6},{key:"Ctrl-e",run:Q6,shift:j6},{key:"Ctrl-d",run:U_},{key:"Ctrl-h",run:CO},{key:"Ctrl-k",run:j_},{key:"Ctrl-Alt-h",run:L_},{key:"Ctrl-o",run:H6},{key:"Ctrl-t",run:K6},{key:"Ctrl-v",run:$O}],cF=[{key:"ArrowLeft",run:$_,shift:N_,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:v6,shift:R6,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:A6,shift:U6,preventDefault:!0},{key:"ArrowRight",run:C_,shift:I_,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:w6,shift:M6,preventDefault:!0},{mac:"Cmd-ArrowRight",run:k6,shift:q6,preventDefault:!0},{key:"ArrowUp",run:__,shift:B_,preventDefault:!0},{mac:"Cmd-ArrowUp",run:qb,shift:jb},{mac:"Ctrl-ArrowUp",run:Fb,shift:Db},{key:"ArrowDown",run:A_,shift:z_,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Lb,shift:Vb},{mac:"Ctrl-ArrowDown",run:$O,shift:Ub},{key:"PageUp",run:Fb,shift:Db},{key:"PageDown",run:$O,shift:Ub},{key:"Home",run:_6,shift:D6,preventDefault:!0},{key:"Mod-Home",run:qb,shift:jb},{key:"End",run:P6,shift:F6,preventDefault:!0},{key:"Mod-End",run:Lb,shift:Vb},{key:"Enter",run:sF},{key:"Mod-a",run:V6},{key:"Backspace",run:CO,shift:CO},{key:"Delete",run:U_},{key:"Mod-Backspace",mac:"Alt-Backspace",run:L_},{key:"Mod-Delete",mac:"Alt-Delete",run:Y6},{mac:"Mod-Backspace",run:G6},{mac:"Mod-Delete",run:j_}].concat(lF.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),uF=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:C6,shift:B6},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:T6,shift:z6},{key:"Alt-ArrowUp",run:J6},{key:"Shift-Alt-ArrowUp",run:tF},{key:"Alt-ArrowDown",run:eF},{key:"Shift-Alt-ArrowDown",run:rF},{key:"Escape",run:X6},{key:"Mod-Enter",run:oF},{key:"Alt-l",mac:"Ctrl-l",run:Z6},{key:"Mod-i",run:W6,preventDefault:!0},{key:"Mod-[",run:Y_},{key:"Mod-]",run:X_},{key:"Mod-Alt-\\",run:aF},{key:"Shift-Mod-k",run:nF},{key:"Shift-Mod-\\",run:I6},{key:"Mod-/",run:r6},{key:"Alt-A",run:i6}].concat(cF),fF={key:"Tab",run:X_,shift:Y_};function Vt(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)G_(r,arguments[e]);return r}function G_(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)G_(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}const Zb=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class hl{constructor(e,t,n=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?a=>s(Zb(a)):Zb,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Wr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=V0(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=ai(e);let i=this.normalize(t);for(let s=0,o=n;;s++){let a=i.charCodeAt(s),l=this.match(a,o);if(l)return this.value=l,this;if(s==i.length-1)break;o==n&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t){let n=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?n={from:this.matches[i+1],to:t+1}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}typeof Symbol<"u"&&(hl.prototype[Symbol.iterator]=function(){return this});const H_={from:-1,to:-1,match:/.*/.exec("")},dy="gm"+(/x/.unicode==null?"":"u");class K_{constructor(e,t,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=H_,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new J_(e,t,n,i,s);this.re=new RegExp(t,dy+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Xh(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=Xh(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const lm=new WeakMap;class rl{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=lm.get(e);if(!i||i.from>=n||i.to<=t){let a=new rl(t,e.sliceString(t,n));return lm.set(e,a),a}if(i.from==t&&i.to==n)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<n&&(s+=e.sliceString(i.to,n)),lm.set(e,new rl(o,s)),new rl(t,s.slice(t-o,n-o))}}class J_{constructor(e,t,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=H_,this.matchPos=Xh(e,i),this.re=new RegExp(t,dy+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=rl.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=Xh(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=rl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(K_.prototype[Symbol.iterator]=J_.prototype[Symbol.iterator]=function(){return this});function hF(r){try{return new RegExp(r,dy),!0}catch{return!1}}function Xh(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function TO(r){let e=Vt("input",{class:"cm-textfield",name:"line"}),t=Vt("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),r.dispatch({effects:Yh.of(!1)}),r.focus()):i.keyCode==13&&(i.preventDefault(),n())},onsubmit:i=>{i.preventDefault(),n()}},Vt("label",r.state.phrase("Go to line"),": ",e)," ",Vt("button",{class:"cm-button",type:"submit"},r.state.phrase("go")));function n(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=r,o=s.doc.lineAt(s.selection.main.head),[,a,l,c,u]=i,f=c?+c.slice(1):0,d=l?+l:o.number;if(l&&u){let y=d/100;a&&(y=y*(a=="-"?-1:1)+o.number/s.doc.lines),d=Math.round(s.doc.lines*y)}else l&&a&&(d=d*(a=="-"?-1:1)+o.number);let g=s.doc.line(Math.max(1,Math.min(s.doc.lines,d)));r.dispatch({effects:Yh.of(!1),selection:oe.cursor(g.from+Math.max(0,Math.min(f,g.length))),scrollIntoView:!0}),r.focus()}return{dom:t}}const Yh=ot.define(),Wb=Ur.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(Yh)&&(r=t.value);return r},provide:r=>Mc.from(r,e=>e?TO:null)}),dF=r=>{let e=Rc(r,TO);if(!e){let t=[Yh.of(!0)];r.state.field(Wb,!1)==null&&t.push(ot.appendConfig.of([Wb,pF])),r.dispatch({effects:t}),e=Rc(r,TO)}return e&&e.dom.querySelector("input").focus(),!0},pF=Be.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),mF={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},e2=Fe.define({combine(r){return ts(r,mF,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function gF(r){let e=[SF,bF];return r&&e.push(e2.of(r)),e}const OF=Le.mark({class:"cm-selectionMatch"}),yF=Le.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Xb(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=Jt.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=Jt.Word)}function xF(r,e,t,n){return r(e.sliceDoc(t,t+1))==Jt.Word&&r(e.sliceDoc(n-1,n))==Jt.Word}const bF=vr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(e2),{state:t}=r,n=t.selection;if(n.ranges.length>1)return Le.none;let i=n.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Le.none;let l=t.wordAt(i.head);if(!l)return Le.none;o=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Le.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(Xb(o,t,i.from,i.to)&&xF(o,t,i.from,i.to)))return Le.none}else if(s=t.sliceDoc(i.from,i.to).trim(),!s)return Le.none}let a=[];for(let l of r.visibleRanges){let c=new hl(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!o||Xb(o,t,u,f))&&(i.empty&&u<=i.from&&f>=i.to?a.push(yF.range(u,f)):(u>=i.to||f<=i.from)&&a.push(OF.range(u,f)),a.length>e.maxMatches))return Le.none}}return Le.set(a)}},{decorations:r=>r.decorations}),SF=Be.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),vF=({state:r,dispatch:e})=>{let{selection:t}=r,n=oe.create(t.ranges.map(i=>r.wordAt(i.head)||oe.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function wF(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,a=new hl(r.doc,e,n[n.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new hl(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(l=>l.from==a.value.from))continue;if(s){let l=r.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const $F=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return vF({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=n))return!1;let i=wF(r,n);return i?(e(r.update({selection:r.selection.addRange(oe.range(i.from,i.to),!1),effects:Be.scrollIntoView(i.to)})),!0):!1},py=Fe.define({combine(r){return ts(r,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new MF(e)})}});class t2{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||hF(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new _F(this):new TF(this)}getCursor(e,t=0,n){let i=e.doc?e:wt.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Fa(this,i,t,n):za(this,i,t,n)}}class r2{constructor(e){this.spec=e}}function za(r,e,t,n){return new hl(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?CF(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function CF(r,e){return(t,n,i,s)=>((s>t||s+i.length<n)&&(s=Math.max(0,t-2),i=r.sliceString(s,Math.min(r.length,n+2))),(e(Gh(i,t-s))!=Jt.Word||e(Hh(i,t-s))!=Jt.Word)&&(e(Hh(i,n-s))!=Jt.Word||e(Gh(i,n-s))!=Jt.Word))}class TF extends r2{constructor(e){super(e)}nextMatch(e,t,n){let i=za(this.spec,e,n,e.doc.length).nextOverlapping();return i.done&&(i=za(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=za(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;i-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=za(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=za(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Fa(r,e,t,n){return new K_(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?PF(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Gh(r,e){return r.slice(yn(r,e,!1),e)}function Hh(r,e){return r.slice(e,yn(r,e))}function PF(r){return(e,t,n)=>!n[0].length||(r(Gh(n.input,n.index))!=Jt.Word||r(Hh(n.input,n.index))!=Jt.Word)&&(r(Hh(n.input,n.index+n[0].length))!=Jt.Word||r(Gh(n.input,n.index+n[0].length))!=Jt.Word)}class _F extends r2{nextMatch(e,t,n){let i=Fa(this.spec,e,n,e.doc.length).next();return i.done&&(i=Fa(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let s=Math.max(t,n-i*1e4),o=Fa(this.spec,e,s,n),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:t))}matchAll(e,t){let n=Fa(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=Fa(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const zc=ot.define(),my=ot.define(),Ks=Ur.define({create(r){return new cm(PO(r).create(),null)},update(r,e){for(let t of e.effects)t.is(zc)?r=new cm(t.value.create(),r.panel):t.is(my)&&(r=new cm(r.query,t.value?gy:null));return r},provide:r=>Mc.from(r,e=>e.panel)});class cm{constructor(e,t){this.query=e,this.panel=t}}const AF=Le.mark({class:"cm-searchMatch"}),kF=Le.mark({class:"cm-searchMatch cm-searchMatch-selected"}),EF=vr.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(Ks))}update(r){let e=r.state.field(Ks);(e!=r.startState.field(Ks)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return Le.none;let{view:t}=this,n=new oo;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;r.highlight(t.state,a,l,(c,u)=>{let f=t.state.selection.ranges.some(d=>d.from==c&&d.to==u);n.add(c,u,f?kF:AF)})}return n.finish()}},{decorations:r=>r.decorations});function cu(r){return e=>{let t=e.state.field(Ks,!1);return t&&t.query.spec.valid?r(e,t):n2(e)}}const Kh=cu((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);return n?(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:Oy(r,n),userEvent:"select.search"}),!0):!1}),Jh=cu((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);return i?(r.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Oy(r,i),userEvent:"select.search"}),!0):!1}),QF=cu((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:oe.create(t.map(n=>oe.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),NF=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,s=[],o=0;for(let a=new hl(r.doc,r.sliceDoc(n,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==n&&(o=s.length),s.push(oe.range(a.value.from,a.value.to))}return e(r.update({selection:oe.create(s,o),userEvent:"select.search.matches"})),!0},Yb=cu((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let o=[],a,l,c=[];if(s.from==n&&s.to==i&&(l=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(t,s.from,s.to),c.push(Be.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+"."))),s){let u=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a={anchor:s.from-u,head:s.to-u},c.push(Oy(r,s))}return r.dispatch({changes:o,selection:a,scrollIntoView:!!a,effects:c,userEvent:"input.replace"}),!0}),IF=cu((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:Be.announce.of(n),userEvent:"input.replace.all"}),!0});function gy(r){return r.state.facet(py).createPanel(r)}function PO(r,e){var t,n,i,s;let o=r.selection.main,a=o.empty||o.to>o.from+100?"":r.sliceDoc(o.from,o.to);if(e&&!a)return e;let l=r.facet(py);return new t2({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:l.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:l.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:l.literal,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:l.wholeWord})}const n2=r=>{let e=r.state.field(Ks,!1);if(e&&e.panel){let t=Rc(r,gy);if(!t)return!1;let n=t.dom.querySelector("[main-field]");if(n&&n!=r.root.activeElement){let i=PO(r.state,e.query.spec);i.valid&&r.dispatch({effects:zc.of(i)}),n.focus(),n.select()}}else r.dispatch({effects:[my.of(!0),e?zc.of(PO(r.state,e.query.spec)):ot.appendConfig.of(zF)]});return!0},i2=r=>{let e=r.state.field(Ks,!1);if(!e||!e.panel)return!1;let t=Rc(r,gy);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:my.of(!1)}),!0},RF=[{key:"Mod-f",run:n2,scope:"editor search-panel"},{key:"F3",run:Kh,shift:Jh,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Kh,shift:Jh,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:i2,scope:"editor search-panel"},{key:"Mod-Shift-l",run:NF},{key:"Alt-g",run:dF},{key:"Mod-d",run:$F,preventDefault:!0}];class MF{constructor(e){this.view=e;let t=this.query=e.state.field(Ks).query.spec;this.commit=this.commit.bind(this),this.searchField=Vt("input",{value:t.search,placeholder:Dn(e,"Find"),"aria-label":Dn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Vt("input",{value:t.replace,placeholder:Dn(e,"Replace"),"aria-label":Dn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Vt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Vt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Vt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,s,o){return Vt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Vt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Kh(e),[Dn(e,"next")]),n("prev",()=>Jh(e),[Dn(e,"previous")]),n("select",()=>QF(e),[Dn(e,"all")]),Vt("label",null,[this.caseField,Dn(e,"match case")]),Vt("label",null,[this.reField,Dn(e,"regexp")]),Vt("label",null,[this.wordField,Dn(e,"by word")]),...e.state.readOnly?[]:[Vt("br"),this.replaceField,n("replace",()=>Yb(e),[Dn(e,"replace")]),n("replaceAll",()=>IF(e),[Dn(e,"replace all")])],Vt("button",{name:"close",onclick:()=>i2(e),"aria-label":Dn(e,"close"),type:"button"},[""])])}commit(){let e=new t2({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:zc.of(e)}))}keydown(e){HM(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Jh:Kh)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Yb(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(zc)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(py).top}}function Dn(r,e){return r.state.phrase(e)}const nf=30,sf=/[\s\.,:;?!]/;function Oy(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,s=Math.max(n.from,e-nf),o=Math.min(i,t+nf),a=r.state.sliceDoc(s,o);if(s!=n.from){for(let l=0;l<nf;l++)if(!sf.test(a[l+1])&&sf.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-nf;l--)if(!sf.test(a[l-1])&&sf.test(a[l])){a=a.slice(0,l);break}}return Be.announce.of(`${r.state.phrase("current match")}. ${a} ${r.state.phrase("on line")} ${n.number}.`)}const BF=Be.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),zF=[Ks,la.lowest(EF),BF];class s2{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=Rr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),s=i.search(a2(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function Gb(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function FF(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let n=Gb(e)+Gb(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function o2(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:FF(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function DF(r,e){return t=>{for(let n=Rr(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(r.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}class Hb{constructor(e,t,n){this.completion=e,this.source=t,this.match=n}}function Js(r){return r.selection.main.head}function a2(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?r:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const l2=_s.define();function UF(r,e,t,n){return Object.assign(Object.assign({},r.changeByRange(i=>{if(i==r.selection.main)return{changes:{from:t,to:n,insert:e},range:oe.cursor(t+e.length)};let s=n-t;return!i.empty||s&&r.sliceDoc(i.from-s,i.from)!=r.sliceDoc(t,n)?{range:i}:{changes:{from:i.from-s,to:i.from,insert:e},range:oe.cursor(i.from-s+e.length)}})),{userEvent:"input.complete"})}function c2(r,e){const t=e.completion.apply||e.completion.label;let n=e.source;typeof t=="string"?r.dispatch(Object.assign(Object.assign({},UF(r.state,t,n.from,n.to)),{annotations:l2.of(e.completion)})):t(r,e.completion,n.from,n.to)}const Kb=new WeakMap;function qF(r){if(!Array.isArray(r))return r;let e=Kb.get(r);return e||Kb.set(r,e=o2(r)),e}class LF{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let n=Wr(e,t),i=ai(n);this.chars.push(n);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(Wr(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:s,byWord:o}=this;if(t.length==1){let _=Wr(e,0),G=ai(_),D=G==e.length?0:-100;if(_!=t[0])if(_==n[0])D+=-200;else return null;return[D,0,G]}let a=e.indexOf(this.pattern);if(a==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=t.length,c=0;if(a<0){for(let _=0,G=Math.min(e.length,200);_<G&&c<l;){let D=Wr(e,_);(D==t[c]||D==n[c])&&(i[c++]=_),_+=ai(D)}if(c<l)return null}let u=0,f=0,d=!1,g=0,y=-1,T=-1,k=/[a-z]/.test(e),U=!0;for(let _=0,G=Math.min(e.length,200),D=0;_<G&&f<l;){let Y=Wr(e,_);a<0&&(u<l&&Y==t[u]&&(s[u++]=_),g<l&&(Y==t[g]||Y==n[g]?(g==0&&(y=_),T=_+1,g++):g=0));let ee,re=Y<255?Y>=48&&Y<=57||Y>=97&&Y<=122?2:Y>=65&&Y<=90?1:0:(ee=V0(Y))!=ee.toLowerCase()?1:ee!=ee.toUpperCase()?2:0;(!_||re==1&&k||D==0&&re!=0)&&(t[f]==Y||n[f]==Y&&(d=!0)?o[f++]=_:o.length&&(U=!1)),D=re,_+=ai(Y)}return f==l&&o[0]==0&&U?this.result(-100+(d?-200:0),o,e):g==l&&y==0?[-200-e.length+(T==e.length?0:-100),0,T]:a>-1?[-700-e.length,a,a+this.pattern.length]:g==l?[-200+-700-e.length,y,T]:f==l?this.result(-100+(d?-200:0)+-700+(U?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[e-n.length],s=1;for(let o of t){let a=o+(this.astral?ai(Wr(n,o)):1);s>1&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return i}}const ui=Fe.define({combine(r){return ts(r,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>Jb(e(n),t(n)),optionClass:(e,t)=>n=>Jb(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})}});function Jb(r,e){return r?e?r+" "+e:r:e}function jF(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=t,a=0;for(let l=1;l<i.length;){let c=i[l++],u=i[l++];c>a&&s.appendChild(document.createTextNode(o.slice(a,c)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(o.slice(c,u))),f.className="cm-completionMatchedText",a=u}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function eS(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class VF{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:a=>this.positionInfo(a),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:i,selected:s}=n.open,o=e.state.facet(ui);this.optionContent=jF(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=eS(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{for(let l=a.target,c;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(c=/-(\d+)$/.exec(l.id))&&+c[1]<i.length){c2(e,i[+c[1]]),a.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(i,n.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var t,n,i;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((t=s.open)===null||t===void 0?void 0:t.disabled)!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=s.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=eS(t.options.length,t.selected,this.view.state.facet(ui).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:n}=t.options[t.selected],{info:i}=n;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(n);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>Wn(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&WF(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let y=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:y.innerWidth,bottom:y.innerHeight}}if(i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10)return null;let o=this.view.textDirection==ir.RTL,a=o,l=!1,c,u="",f="",d=t.left-s.left,g=s.right-t.right;if(a&&d<Math.min(n.width,g)?a=!1:!a&&g<Math.min(n.width,d)&&(a=!0),n.width<=(a?d:g))u=Math.max(s.top,Math.min(i.top,s.bottom-n.height))-t.top+"px",c=Math.min(400,a?d:g)+"px";else{l=!0,c=Math.min(400,(o?t.right:s.right-t.left)-30)+"px";let y=s.bottom-t.bottom;y>=n.height||y>t.top?u=i.bottom-t.top+"px":f=t.bottom-i.top+"px"}return{top:u,bottom:f,maxWidth:c,class:l?o?"left-narrow":"right-narrow":a?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=n.from;s<n.to;s++){let{completion:o,match:a}=e[s];const l=i.appendChild(document.createElement("li"));l.id=t+"-"+s,l.setAttribute("role","option");let c=this.optionClass(o);c&&(l.className=c);for(let u of this.optionContent){let f=u(o,this.view.state,a);f&&l.appendChild(f)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function ZF(r){return e=>new VF(e,r)}function WF(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<t.top?r.scrollTop-=t.top-n.top:n.bottom>t.bottom&&(r.scrollTop+=n.bottom-t.bottom)}function tS(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function XF(r,e){let t=[],n=0;for(let a of r)if(a.hasResult())if(a.result.filter===!1){let l=a.result.getMatch;for(let c of a.result.options){let u=[1e9-n++];if(l)for(let f of l(c))u.push(f);t.push(new Hb(c,a,u))}}else{let l=new LF(e.sliceDoc(a.from,a.to)),c;for(let u of a.result.options)(c=l.match(u.label))&&(u.boost!=null&&(c[0]+=u.boost),t.push(new Hb(u,a,c)))}let i=[],s=null,o=e.facet(ui).compareCompletions;for(let a of t.sort((l,c)=>c.match[0]-l.match[0]||o(l.completion,c.completion)))!s||s.label!=a.completion.label||s.detail!=a.completion.detail||s.type!=null&&a.completion.type!=null&&s.type!=a.completion.type||s.apply!=a.completion.apply?i.push(a):tS(a.completion)>tS(s)&&(i[i.length-1]=a),s=a.completion;return i}class Va{constructor(e,t,n,i,s,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Va(this.options,rS(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,s){let o=XF(e,t);if(!o.length)return i&&e.some(l=>l.state==1)?new Va(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=t.facet(ui).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<o.length;c++)if(o[c].completion==l){a=c;break}}return new Va(o,rS(n,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:ZF(oi),above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new Va(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class ed{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new ed(HF,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(ui),s=(n.override||t.languageDataAt("autocomplete",Js(t)).map(qF)).map(a=>(this.active.find(c=>c.source==a)||new kn(a,this.active.some(c=>c.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!YF(s,this.active)?o=Va.build(s,t,this.id,o,n):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new kn(a.source,0):a));for(let a of e.effects)a.is(f2)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new ed(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:GF}}function YF(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult;)t++;for(;n<e.length&&!e[n].hasResult;)n++;let i=t==r.length,s=n==e.length;if(i||s)return i==s;if(r[t++].result!=e[n++].result)return!1}}const GF={"aria-autocomplete":"list"};function rS(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const HF=[];function _O(r){return r.isUserEvent("input.type")?"input":r.isUserEvent("delete.backward")?"delete":null}class kn{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=_O(e),i=this;n?i=i.handleUserEvent(e,n,t):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new kn(i.source,0));for(let s of e.effects)if(s.is(yy))i=new kn(i.source,1,s.value?Js(e.state):-1);else if(s.is(td))i=new kn(i.source,0);else if(s.is(u2))for(let o of s.value)o.source==i.source&&(i=o);return i}handleUserEvent(e,t,n){return t=="delete"||!n.activateOnTyping?this.map(e.changes):new kn(this.source,1)}handleChange(e){return e.changes.touchesRange(Js(e.startState))?new kn(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new kn(this.source,this.state,e.mapPos(this.explicitPos))}}class dc extends kn{constructor(e,t,n,i,s){super(e,2,t),this.result=n,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,t,n){var i;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Js(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||t=="delete"&&Js(e.startState)==this.from)return new kn(this.source,t=="input"&&n.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return KF(this.result.validFor,e.state,s,o)?new dc(this.source,l,this.result,s,o):this.result.update&&(c=this.result.update(this.result,s,o,new s2(e.state,a,l>=0)))?new dc(this.source,l,c,c.from,(i=c.to)!==null&&i!==void 0?i:Js(e.state)):new kn(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new kn(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new dc(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function KF(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):a2(r,!0).test(i)}const yy=ot.define(),td=ot.define(),u2=ot.define({map(r,e){return r.map(t=>t.map(e))}}),f2=ot.define(),oi=Ur.define({create(){return ed.start()},update(r,e){return r.update(e)},provide:r=>[ty.from(r,e=>e.tooltip),Be.contentAttributes.from(r,e=>e.attrs)]});function of(r,e="option"){return t=>{let n=t.state.field(oi,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(ui).interactionDelay)return!1;let i=1,s;e=="page"&&(s=FB(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,a=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:f2.of(a)}),!0}}const JF=r=>{let e=r.state.field(oi,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<r.state.facet(ui).interactionDelay?!1:(e.open.disabled||c2(r,e.open.options[e.open.selected]),!0)},e8=r=>r.state.field(oi,!1)?(r.dispatch({effects:yy.of(!0)}),!0):!1,t8=r=>{let e=r.state.field(oi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:td.of(null)}),!0)};class r8{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const nS=50,n8=50,i8=1e3,s8=vr.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of r.state.field(oi).active)e.state==1&&this.startQuery(e)}update(r){let e=r.state.field(oi);if(!r.selectionSet&&!r.docChanged&&r.startState.field(oi)==e)return;let t=r.transactions.some(n=>(n.selection||n.docChanged)&&!_O(n));for(let n=0;n<this.running.length;n++){let i=this.running[n];if(t||i.updates.length+r.transactions.length>n8&&Date.now()-i.time>i8){for(let s of i.context.abortListeners)try{s()}catch(o){Wn(this.view.state,o)}i.context.abortListeners=null,this.running.splice(n--,1)}else i.updates.push(...r.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(i=>i.active.source==n.source))?setTimeout(()=>this.startUpdate(),nS):-1,this.composing!=0)for(let n of r.transactions)_O(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:r}=this.view,e=r.field(oi);for(let t of e.active)t.state==1&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t)}startQuery(r){let{state:e}=this.view,t=Js(e),n=new s2(e,t,r.explicitPos==t),i=new r8(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:td.of(null)}),Wn(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),nS))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(ui);for(let n=0;n<this.running.length;n++){let i=this.running[n];if(i.done===void 0)continue;if(this.running.splice(n--,1),i.done){let o=new dc(i.active.source,i.active.explicitPos,i.done,i.done.from,(r=i.done.to)!==null&&r!==void 0?r:Js(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)o=o.update(a,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(oi).active.find(o=>o.source==i.active.source);if(s&&s.state==1)if(i.done==null){let o=new kn(i.active.source,0);for(let a of i.updates)o=o.update(a,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:u2.of(e)})}},{eventHandlers:{blur(){let r=this.view.state.field(oi,!1);r&&r.tooltip&&this.view.state.facet(ui).closeOnBlur&&this.view.dispatch({effects:td.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:yy.of(!1)}),20),this.composing=0}}}),h2=Be.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class o8{constructor(e,t,n,i){this.field=e,this.line=t,this.from=n,this.to=i}}class xy{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,Yr.TrackDel),n=e.mapPos(this.to,1,Yr.TrackDel);return t==null||n==null?null:new xy(this.field,t,n)}}class by{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(n.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=e.facet(ou);i.push(t+c.length-u),l=c+l.slice(u)}n.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new xy(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:n,ranges:a}}static parse(e){let t=[],n=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1;for(let u=0;u<t.length;u++)(a!=null?t[u].seq==a:l&&t[u].name==l)&&(c=u);if(c<0){let u=0;for(;u<t.length&&(a==null||t[u].seq!=null&&t[u].seq<a);)u++;t.splice(u,0,{seq:a,name:l}),c=u;for(let f of i)f.field>=c&&f.field++}i.push(new o8(c,n.length,s.index,s.index+l.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}for(let a;a=/\\([{}])/.exec(o);){o=o.slice(0,a.index)+a[1]+o.slice(a.index+a[0].length);for(let l of i)l.line==n.length&&l.from>a.index&&(l.from--,l.to--)}n.push(o)}return new by(n,i)}}let a8=Le.widget({widget:new class extends rs{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),l8=Le.mark({class:"cm-snippetField"});class Sl{constructor(e,t){this.ranges=e,this.active=t,this.deco=Le.set(e.map(n=>(n.from==n.to?a8:l8).range(n.from,n.to)))}map(e){let t=[];for(let n of this.ranges){let i=n.map(e);if(!i)return null;t.push(i)}return new Sl(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}}const uu=ot.define({map(r,e){return r&&r.map(e)}}),c8=ot.define(),Fc=Ur.define({create(){return null},update(r,e){for(let t of e.effects){if(t.is(uu))return t.value;if(t.is(c8)&&r)return new Sl(r.ranges,t.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>Be.decorations.from(r,e=>e?e.deco:Le.none)});function Sy(r,e){return oe.create(r.filter(t=>t.field==e).map(t=>oe.range(t.from,t.to)))}function u8(r){let e=by.parse(r);return(t,n,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),l={changes:{from:i,to:s,insert:Rt.of(o)},scrollIntoView:!0,annotations:l2.of(n)};if(a.length&&(l.selection=Sy(a,0)),a.length>1){let c=new Sl(a,0),u=l.effects=[uu.of(c)];t.state.field(Fc,!1)===void 0&&u.push(ot.appendConfig.of([Fc,m8,g8,h2]))}t.dispatch(t.state.update(l))}}function d2(r){return({state:e,dispatch:t})=>{let n=e.field(Fc,!1);if(!n||r<0&&n.active==0)return!1;let i=n.active+r,s=r>0&&!n.ranges.some(o=>o.field==i+r);return t(e.update({selection:Sy(n.ranges,i),effects:uu.of(s?null:new Sl(n.ranges,i))})),!0}}const f8=({state:r,dispatch:e})=>r.field(Fc,!1)?(e(r.update({effects:uu.of(null)})),!0):!1,h8=d2(1),d8=d2(-1),p8=[{key:"Tab",run:h8,shift:d8},{key:"Escape",run:f8}],iS=Fe.define({combine(r){return r.length?r[0]:p8}}),m8=la.highest(iu.compute([iS],r=>r.facet(iS)));function gi(r,e){return Object.assign(Object.assign({},e),{apply:u8(r)})}const g8=Be.domEventHandlers({mousedown(r,e){let t=e.state.field(Fc,!1),n;if(!t||(n=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=n&&s.to>=n);return!i||i.field==t.active?!1:(e.dispatch({selection:Sy(t.ranges,i.field),effects:uu.of(t.ranges.some(s=>s.field>i.field)?new Sl(t.ranges,i.field):null)}),!0)}}),Dc={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Do=ot.define({map(r,e){let t=e.mapPos(r,-1,Yr.TrackAfter);return t??void 0}}),vy=ot.define({map(r,e){return e.mapPos(r)}}),wy=new class extends Jo{};wy.startSide=1;wy.endSide=-1;const p2=Ur.define({create(){return zt.empty},update(r,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,n=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(n,-1)&&(r=zt.empty)}r=r.map(e.changes);for(let t of e.effects)t.is(Do)?r=r.update({add:[wy.range(t.value,t.value+1)]}):t.is(vy)&&(r=r.update({filter:n=>n!=t.value}));return r}});function O8(){return[x8,p2]}const um="()[]{}<>";function m2(r){for(let e=0;e<um.length;e+=2)if(um.charCodeAt(e)==r)return um.charAt(e+1);return V0(r<128?r:r+1)}function g2(r,e){return r.languageDataAt("closeBrackets",e)[0]||Dc}const y8=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),x8=Be.inputHandler.of((r,e,t,n)=>{if((y8?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&ai(Wr(n,0))==1||e!=i.from||t!=i.to)return!1;let s=v8(r.state,n);return s?(r.dispatch(s),!0):!1}),b8=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=g2(r,r.selection.main.head).brackets||Dc.brackets,i=null,s=r.changeByRange(o=>{if(o.empty){let a=w8(r.doc,o.head);for(let l of n)if(l==a&&Jd(r.doc,o.head)==m2(Wr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:oe.cursor(o.head-l.length)}}return{range:i=o}});return i||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},S8=[{key:"Backspace",run:b8}];function v8(r,e){let t=g2(r,r.selection.main.head),n=t.brackets||Dc.brackets;for(let i of n){let s=m2(Wr(i,0));if(e==i)return s==i?T8(r,i,n.indexOf(i+i+i)>-1,t):$8(r,i,s,t.before||Dc.before);if(e==s&&O2(r,r.selection.main.from))return C8(r,i,s)}return null}function O2(r,e){let t=!1;return r.field(p2).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function Jd(r,e){let t=r.sliceString(e,e+2);return t.slice(0,ai(Wr(t,0)))}function w8(r,e){let t=r.sliceString(e-2,e);return ai(Wr(t,0))==t.length?t:t.slice(1)}function $8(r,e,t,n){let i=null,s=r.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Do.of(o.to+e.length),range:oe.range(o.anchor+e.length,o.head+e.length)};let a=Jd(r.doc,o.head);return!a||/\s/.test(a)||n.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:Do.of(o.head+e.length),range:oe.cursor(o.head+e.length)}:{range:i=o}});return i?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function C8(r,e,t){let n=null,i=r.selection.ranges.map(s=>s.empty&&Jd(r.doc,s.head)==t?oe.cursor(s.head+t.length):n=s);return n?null:r.update({selection:oe.create(i,r.selection.mainIndex),scrollIntoView:!0,effects:r.selection.ranges.map(({from:s})=>vy.of(s))})}function T8(r,e,t,n){let i=n.stringPrefixes||Dc.stringPrefixes,s=null,o=r.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Do.of(a.to+e.length),range:oe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Jd(r.doc,l),u;if(c==e){if(sS(r,l))return{changes:{insert:e+e,from:l},effects:Do.of(l+e.length),range:oe.cursor(l+e.length)};if(O2(r,l)){let f=t&&r.sliceDoc(l,l+e.length*3)==e+e+e;return{range:oe.cursor(l+e.length*(f?3:1)),effects:vy.of(l)}}}else{if(t&&r.sliceDoc(l-2*e.length,l)==e+e&&(u=oS(r,l-2*e.length,i))>-1&&sS(r,u))return{changes:{insert:e+e+e+e,from:l},effects:Do.of(l+e.length),range:oe.cursor(l+e.length)};if(r.charCategorizer(l)(c)!=Jt.Word&&oS(r,l,i)>-1&&!P8(r,l,e,i))return{changes:{insert:e+e,from:l},effects:Do.of(l+e.length),range:oe.cursor(l+e.length)}}return{range:s=a}});return s?null:r.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function sS(r,e){let t=Rr(r).resolveInner(e+1);return t.parent&&t.from==e}function P8(r,e,t,n){let i=Rr(r).resolveInner(e,-1),s=n.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&n.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(r.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function oS(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=Jt.Word)return e;for(let i of t){let s=e-i.length;if(r.sliceDoc(s,e)==i&&n(r.sliceDoc(s-1,s))!=Jt.Word)return s}return-1}function _8(r={}){return[oi,ui.of(r),s8,A8,h2]}const y2=[{key:"Ctrl-Space",run:e8},{key:"Escape",run:t8},{key:"ArrowDown",run:of(!0)},{key:"ArrowUp",run:of(!1)},{key:"PageDown",run:of(!0,"page")},{key:"PageUp",run:of(!1,"page")},{key:"Enter",run:JF}],A8=la.highest(iu.computeN([ui],r=>r.facet(ui).defaultKeymap?[y2]:[]));class k8{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Ro{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=e,s=n.facet(Za).markerFilter;s&&(i=s(i));let o=Le.set(i.map(a=>a.from==a.to||a.from==a.to-1&&n.doc.lineAt(a.from).to==a.from?Le.widget({widget:new D8(a),diagnostic:a}).range(a.from):Le.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new Ro(o,t,dl(o))}}function dl(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return n=new k8(i,s,o.diagnostic),!1}),n}function E8(r,e){return!!(r.effects.some(t=>t.is($y))||r.changes.touchesRange(e.pos))}function x2(r,e){return r.field(Vn,!1)?e:e.concat(ot.appendConfig.of([Vn,Be.decorations.compute([Vn],t=>{let{selected:n,panel:i}=t.field(Vn);return!n||!i||n.from==n.to?Le.none:Le.set([N8.range(n.from,n.to)])}),zB(I8,{hideOn:E8}),q8]))}function Q8(r,e){return{effects:x2(r,[$y.of(e)])}}const $y=ot.define(),Cy=ot.define(),b2=ot.define(),Vn=Ur.define({create(){return new Ro(Le.none,null,null)},update(r,e){if(e.docChanged){let t=r.diagnostics.map(e.changes),n=null;if(r.selected){let i=e.changes.mapPos(r.selected.from,1);n=dl(t,r.selected.diagnostic,i)||dl(t,null,i)}r=new Ro(t,r.panel,n)}for(let t of e.effects)t.is($y)?r=Ro.init(t.value,r.panel,e.state):t.is(Cy)?r=new Ro(r.diagnostics,t.value?ep.open:null,r.selected):t.is(b2)&&(r=new Ro(r.diagnostics,r.panel,t.value));return r},provide:r=>[Mc.from(r,e=>e.panel),Be.decorations.from(r,e=>e.diagnostics)]}),N8=Le.mark({class:"cm-lintRange cm-lintRange-active"});function I8(r,e,t){let{diagnostics:n}=r.state.field(Vn),i=[],s=2e8,o=0;n.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0))&&(i.push(u.diagnostic),s=Math.min(l,s),o=Math.max(c,o))});let a=r.state.facet(Za).tooltipFilter;return a&&(i=a(i)),i.length?{pos:s,end:o,above:r.state.doc.lineAt(s).to<o,create(){return{dom:R8(r,i)}}}:null}function R8(r,e){return Vt("ul",{class:"cm-tooltip-lint"},e.map(t=>v2(r,t,!1)))}const M8=r=>{let e=r.state.field(Vn,!1);(!e||!e.panel)&&r.dispatch({effects:x2(r.state,[Cy.of(!0)])});let t=Rc(r,ep.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},aS=r=>{let e=r.state.field(Vn,!1);return!e||!e.panel?!1:(r.dispatch({effects:Cy.of(!1)}),!0)},B8=r=>{let e=r.state.field(Vn,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},z8=[{key:"Mod-Shift-m",run:M8,preventDefault:!0},{key:"F8",run:B8}],F8=vr.fromClass(class{constructor(r){this.view=r,this.timeout=-1,this.set=!0;let{delay:e}=r.state.facet(Za);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let r=Date.now();if(r<this.lintTime-10)setTimeout(this.run,this.lintTime-r);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Za);Promise.all(t.map(n=>Promise.resolve(n(this.view)))).then(n=>{let i=n.reduce((s,o)=>s.concat(o));this.view.state.doc==e.doc&&this.view.dispatch(Q8(this.view.state,i))},n=>{Wn(this.view.state,n)})}}update(r){let e=r.state.facet(Za);(r.docChanged||e!=r.startState.facet(Za)||e.needsRefresh&&e.needsRefresh(r))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Za=Fe.define({combine(r){return Object.assign({sources:r.map(e=>e.source)},ts(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))},enables:F8});function S2(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function v2(r,e,t){var n;let i=t?S2(e.actions):[];return Vt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Vt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let g=dl(r.state.field(Vn).diagnostics,e);g&&s.apply(r,g.from,g.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,f=u<0?c:[c.slice(0,u),Vt("u",c.slice(u,u+1)),c.slice(u+1)];return Vt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},f)}),e.source&&Vt("div",{class:"cm-diagnosticSource"},e.source))}class D8 extends rs{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Vt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class lS{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=v2(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ep{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)aS(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=S2(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=dl(this.view.state.field(Vn).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Vt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=Vt("div",{class:"cm-panel-lint"},this.list,Vt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>aS(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Vn).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Vn),n=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let c=-1,u;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new lS(this.view,l.diagnostic),this.items.splice(n,0,u),i=!0):(u=this.items[c],c>n&&(this.items.splice(n,c-n),i=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new lS(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Vn),n=dl(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:b2.of(n)})}static open(e){return new ep(e)}}function U8(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function fm(r){return U8(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const q8=Be.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:fm("#d11")},".cm-lintRange-warning":{backgroundImage:fm("orange")},".cm-lintRange-info":{backgroundImage:fm("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),L8=(()=>[XB(),HB(),pB(),h6(),zz(),nB(),lB(),wt.allowMultipleSelections.of(!0),Cz(),d_(qz,{fallback:!0}),Yz(),O8(),_8(),_B(),EB(),bB(),gF(),iu.of([...S8,...uF,...RF,...S6,...Rz,...y2,...z8])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var j8=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[L8]}),V8=Symbol("vue-codemirror-global-config"),On,Z8=function(r){var e=r.onUpdate,t=r.onChange,n=r.onFocus,i=r.onBlur,s=function(o,a){var l={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.indexOf(c)<0&&(l[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var u=0;for(c=Object.getOwnPropertySymbols(o);u<c.length;u++)a.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(o,c[u])&&(l[c[u]]=o[c[u]])}return l}(r,["onUpdate","onChange","onFocus","onBlur"]);return wt.create({doc:s.doc,selection:s.selection,extensions:(Array.isArray(s.extensions)?s.extensions:[s.extensions]).concat([Be.updateListener.of(function(o){e(o),o.docChanged&&t(o.state.doc.toString(),o),o.focusChanged&&(o.view.hasFocus?n(o):i(o))})])})},Da=function(r){var e=new tu;return{compartment:e,run:function(t){e.get(r.state)?r.dispatch({effects:e.reconfigure(t)}):r.dispatch({effects:ot.appendConfig.of(e.of(t))})}}},cS=function(r,e){var t=Da(r),n=t.compartment,i=t.run;return function(s){var o=n.get(r.state);i(s??o!==e?e:[])}},af={type:Boolean,default:void 0},W8={autofocus:af,disabled:af,indentWithTab:af,tabSize:Number,placeholder:String,style:Object,autoDestroy:af,phrases:Object,root:Object,extensions:Array,selection:Object},X8={modelValue:{type:String,default:""}},Y8=Object.assign(Object.assign({},W8),X8);(function(r){r.Change="change",r.Update="update",r.Focus="focus",r.Blur="blur",r.Ready="ready",r.ModelUpdate="update:modelValue"})(On||(On={}));var Mo={};Mo[On.Change]=function(r,e){return!0},Mo[On.Update]=function(r){return!0},Mo[On.Focus]=function(r){return!0},Mo[On.Blur]=function(r){return!0},Mo[On.Ready]=function(r){return!0};var w2={};w2[On.ModelUpdate]=Mo[On.Change];var G8=Object.assign(Object.assign({},Mo),w2),H8=mo({name:"VueCodemirror",props:Object.assign({},Y8),emits:Object.assign({},G8),setup:function(r,e){var t=Np(),n=Np(),i=Np(),s=Object.assign(Object.assign({},j8),Ha(V8,{})),o=eu(function(){var a={};return Object.keys(He(r)).forEach(function(l){var c;l!=="modelValue"&&(a[l]=(c=r[l])!==null&&c!==void 0?c:s[l])}),a});return z0(function(){var a;n.value=Z8({doc:r.modelValue,selection:o.value.selection,extensions:(a=s.extensions)!==null&&a!==void 0?a:[],onFocus:function(c){return e.emit(On.Focus,c)},onBlur:function(c){return e.emit(On.Blur,c)},onUpdate:function(c){return e.emit(On.Update,c)},onChange:function(c,u){c!==r.modelValue&&(e.emit(On.Change,c,u),e.emit(On.ModelUpdate,c,u))}}),i.value=function(c){return new Be(Object.assign({},c))}({state:n.value,parent:t.value,root:o.value.root});var l=function(c){var u=function(){return c.state.doc.toString()},f=Da(c).run,d=cS(c,[Be.editable.of(!1),wt.readOnly.of(!0)]),g=cS(c,iu.of([fF])),y=Da(c).run,T=Da(c).run,k=Da(c).run,U=Da(c).run;return{focus:function(){return c.focus()},getDoc:u,setDoc:function(_){_!==u()&&c.dispatch({changes:{from:0,to:c.state.doc.length,insert:_}})},reExtensions:f,toggleDisabled:d,toggleIndentWithTab:g,setTabSize:function(_){y([wt.tabSize.of(_),ou.of(" ".repeat(_))])},setPhrases:function(_){T([wt.phrases.of(_)])},setPlaceholder:function(_){k($B(_))},setStyle:function(_){_===void 0&&(_={}),U(Be.theme({"&":Object.assign({},_)}))}}}(i.value);sn(function(){return r.modelValue},function(c){c!==l.getDoc()&&l.setDoc(c)}),sn(function(){return r.extensions},function(c){return l.reExtensions(c||[])},{immediate:!0}),sn(function(){return o.value.disabled},function(c){return l.toggleDisabled(c)},{immediate:!0}),sn(function(){return o.value.indentWithTab},function(c){return l.toggleIndentWithTab(c)},{immediate:!0}),sn(function(){return o.value.tabSize},function(c){return l.setTabSize(c)},{immediate:!0}),sn(function(){return o.value.phrases},function(c){return l.setPhrases(c||{})},{immediate:!0}),sn(function(){return o.value.placeholder},function(c){return l.setPlaceholder(c)},{immediate:!0}),sn(function(){return o.value.style},function(c){return l.setStyle(c)},{immediate:!0}),o.value.autofocus&&l.focus(),e.emit(On.Ready,{state:n.value,view:i.value,container:t.value})}),qC(function(){o.value.autoDestroy&&i.value&&function(a){a.destroy()}(i.value)}),function(){return c3("div",{class:"v-codemirror",style:{display:"contents"},ref:t})}}}),uS=H8;const K8="#e5c07b",fS="#e06c75",J8="#56b6c2",eD="#ffffff",oh="#abb2bf",AO="#7d8799",tD="#61afef",rD="#98c379",hS="#d19a66",nD="#c678dd",iD="#21252b",dS="#2c313a",pS="#282c34",hm="#353a42",sD="#3E4451",mS="#528bff",oD=Be.theme({"&":{color:oh,backgroundColor:pS},".cm-content":{caretColor:mS},".cm-cursor, .cm-dropCursor":{borderLeftColor:mS},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:sD},".cm-panels":{backgroundColor:iD,color:oh},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:pS,color:AO,border:"none"},".cm-activeLineGutter":{backgroundColor:dS},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:hm},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:hm,borderBottomColor:hm},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:dS,color:oh}}},{dark:!0}),aD=lu.define([{tag:q.keyword,color:nD},{tag:[q.name,q.deleted,q.character,q.propertyName,q.macroName],color:fS},{tag:[q.function(q.variableName),q.labelName],color:tD},{tag:[q.color,q.constant(q.name),q.standard(q.name)],color:hS},{tag:[q.definition(q.name),q.separator],color:oh},{tag:[q.typeName,q.className,q.number,q.changed,q.annotation,q.modifier,q.self,q.namespace],color:K8},{tag:[q.operator,q.operatorKeyword,q.url,q.escape,q.regexp,q.link,q.special(q.string)],color:J8},{tag:[q.meta,q.comment],color:AO},{tag:q.strong,fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.link,color:AO,textDecoration:"underline"},{tag:q.heading,fontWeight:"bold",color:fS},{tag:[q.atom,q.bool,q.special(q.variableName)],color:hS},{tag:[q.processingInstruction,q.string,q.inserted],color:rD},{tag:q.invalid,color:eD}]),lD=[oD,d_(aD)];class rd{constructor(e,t,n,i,s,o,a,l,c,u=0,f){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new rd(e,[],t,n,n,0,[],0,i?new gS(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(i);if(o&&(this.score+=o),n==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(n-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=a?this.stack[a-1]:0,f=this.bufferBase+this.buffer.length-u;if(i<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,d,f+4,!0)}if(e&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=s.getGoto(d,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,t,n,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==n)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,t,n,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=i}}shift(e,t,n){let i=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,n,4)}}apply(e,t,n){e&65536?this.reduce(e):this.shift(e,t,n)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new rd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new cD(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if(!(n&65536))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>4<<1||this.stack.length>=120){let i=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[s],o);if(this.stack.length<120)for(let s=0;i.length<4<<1&&s<t.length;s+=2){let o=t[s+1];i.some((a,l)=>l&1&&a==o)||i.push(t[s],o)}t=i}let n=[];for(let i=0;i<t.length&&n.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.score-=200,n.push(o)}return n}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let n=e>>19,i=e&65535,s=this.stack.length-n*3;if(s<0||t.getGoto(this.stack[s],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new gS(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class gS{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var OS;(function(r){r[r.Insert=200]="Insert",r[r.Delete=190]="Delete",r[r.Reduce=100]="Reduce",r[r.MaxNext=4]="MaxNext",r[r.MaxInsertStackDepth=300]="MaxInsertStackDepth",r[r.DampenInsertStackDepth=120]="DampenInsertStackDepth",r[r.MinBigReduction=2e3]="MinBigReduction"})(OS||(OS={}));class cD{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class nd{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new nd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new nd(this.stack,this.pos,this.index)}}function ec(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let n=0,i=0;n<r.length;){let s=0;for(;;){let o=r.charCodeAt(n++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class ah{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const yS=new ah;class uD{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=yS,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!i)return null;let o=this.ranges[--i];s-=n.from-o.to,n=o}for(;t<0?s>n.to:s>=n.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-n.to,n=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,i;if(t>=0&&t<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=n;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=yS,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class nl{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;$2(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}nl.prototype.contextual=nl.prototype.fallback=nl.prototype.extend=!1;class kO{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data=typeof e=="string"?ec(e):e}token(e,t){let n=e.pos,i;for(;i=e.pos,$2(this.data,e,t,0,this.data,this.precTable),!(e.token.value>-1);){if(this.elseToken==null)return;if(e.next<0)break;e.advance(),e.reset(i+1,e.token)}i>n&&(e.reset(n,e.token),e.acceptToken(this.elseToken,i-n))}}kO.prototype.contextual=nl.prototype.fallback=nl.prototype.extend=!1;class Ty{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function $2(r,e,t,n,i,s){let o=0,a=1<<n,{dialect:l}=t.p.parser;e:for(;a&r[o];){let c=r[o+1];for(let g=o+3;g<c;g+=2)if((r[g+1]&a)>0){let y=r[g];if(l.allows(y)&&(e.token.value==-1||e.token.value==y||fD(y,e.token.value,i,s))){e.acceptToken(y);break}}let u=e.next,f=0,d=r[o+2];if(e.next<0&&d>f&&r[c+d*3-3]==65535&&r[c+d*3-3]==65535){o=r[c+d*3-1];continue e}for(;f<d;){let g=f+d>>1,y=c+g+(g<<1),T=r[y],k=r[y+1]||65536;if(u<T)d=g;else if(u>=k)f=g+1;else{o=r[y+2],e.advance();continue e}}break}}function xS(r,e,t){for(let n=e,i;(i=r[n])!=65535;n++)if(i==t)return n-e;return-1}function fD(r,e,t,n){let i=xS(t,n,e);return i<0||xS(t,n,r)<i}const Oi=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let dm=null;var bS;(function(r){r[r.Margin=25]="Margin"})(bS||(bS={}));function SS(r,e,t){let n=r.cursor(Fr.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(r.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:r.length}}class hD{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?SS(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?SS(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],o=this.start[t]+n.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof $r){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(xt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class dD{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new ah)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],f=this.tokens[c];if(!(n&&!u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,u,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!u.extend&&(n=f,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!n&&e.pos==this.stream.end&&(n=new ah,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ah,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:s}=n.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=gs(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(gs(a,c+2),t,n,i));break}a[c]==t&&(i=this.putAction(gs(a,c+1),t,n,i))}return i}}var vS;(function(r){r[r.Distance=5]="Distance",r[r.MaxRemainingPerStep=3]="MaxRemainingPerStep",r[r.MinBufferLengthPrune=500]="MinBufferLengthPrune",r[r.ForceReduceLimit=10]="ForceReduceLimit",r[r.CutDepth=15e3]="CutDepth",r[r.CutTo=9e3]="CutTo",r[r.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",r[r.MaxStackCount=12]="MaxStackCount"})(vS||(vS={}));class pD{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new uD(t,i),this.tokens=new dD(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[rd.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new hD(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)n.push(a);else{if(this.advanceStack(a,n,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!n.length){let o=i&&OD(i);if(o)return this.stackToTree(o);if(this.parser.strict)throw Oi&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,n);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((a,l)=>l.score-a.score);n.length>o;)n.pop();n.some(a=>a.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let a=n[o];for(let l=o+1;l<n.length;l++){let c=n[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)n.splice(l--,1);else{n.splice(o--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:s}=this,o=Oi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(d>-1&&f.length&&(!c||(f.prop(xt.contextHash)||0)==u))return e.useNode(f,d),Oi&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof $r)||f.children.length==0||f.positions[0]>0)break;let g=f.children[0];if(g instanceof $r&&f.positions[0]==0)f=g;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Oi&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],d=l[c++],g=c==l.length||!n,y=g?e:e.split();if(y.apply(u,f,d),Oi&&console.log(o+this.stackID(y)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(f)} @ ${i}${y==e?"":", split"})`),g)return!0;y.pos>i?t.push(y):n.push(y)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return wS(e,t),!0}}runRecovery(e,t,n){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],u=Oi?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Oi&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let f=a.split(),d=u;for(let g=0;f.forceReduce()&&g<10&&(Oi&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,n));g++)Oi&&(d=this.stackID(f)+" -> ");for(let g of a.recoverByInsert(l))Oi&&console.log(u+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,n);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Oi&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),wS(a,n)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),$r.build({buffer:nd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(dm||(dm=new WeakMap)).get(e);return t||dm.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function wS(r,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==r.pos&&n.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class mD{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const pm=r=>r;class gD{constructor(e){this.start=e.start,this.shift=e.shift||pm,this.reduce=e.reduce||pm,this.reuse=e.reuse||pm,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class id extends YP{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let n=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=xt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let f=a[c+-u];for(let d=-u;d>0;d--)s(a[c++],l,f);c++}}}this.nodeSet=new ny(t.map((a,l)=>ci.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:n.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=VP;let o=ec(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map($S),this.states=ec(e.states,Uint32Array),this.data=ec(e.stateData),this.goto=ec(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new nl(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new pD(this,e,t,n);for(let s of this.wrappers)i=s(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&n)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=n[s])==65535)if(n[s+1]==1)o=n[s=gs(n,s+2)];else{if(n[s+1]==2)return gs(n,s+2);break}if(o==t||o==0)return gs(n,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=gs(this.data,n+2);else return!1;if(t==gs(this.data,n+1))return!0}}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=gs(this.data,n+2);else break;if(!(this.data[n+2]&1)){let i=this.data[n+1];t.some((s,o)=>o&1&&s==i)||t.push(this.data[n],i)}}return t}configure(e){let t=Object.assign(Object.create(id.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(s=>s.from==n);return i?i.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let s=e.specializers.find(a=>a.from==n.external);if(!s)return n;let o=Object.assign(Object.assign({},n),{external:s.to});return t.specializers[i]=$S(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(n[o]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!n[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new mD(e,n,i)}static deserialize(e){return new id(e)}}function gs(r,e){return r[e]|r[e+1]<<16}function OD(r){let e=null;for(let t of r){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function $S(r){if(r.external){let e=r.extend?1:0;return(t,n)=>r.external(t,n)<<1|e}return r.get}const CS=301,TS=1,yD=2,PS=302,xD=304,bD=305,SD=3,vD=4,wD=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],C2=125,$D=59,_S=47,CD=42,TD=43,PD=45,_D=new gD({start:!1,shift(r,e){return e==SD||e==vD||e==xD?r:e==bD},strict:!1}),AD=new Ty((r,e)=>{let{next:t}=r;(t==C2||t==-1||e.context)&&e.canShift(PS)&&r.acceptToken(PS)},{contextual:!0,fallback:!0}),kD=new Ty((r,e)=>{let{next:t}=r,n;wD.indexOf(t)>-1||t==_S&&((n=r.peek(1))==_S||n==CD)||t!=C2&&t!=$D&&t!=-1&&!e.context&&e.canShift(CS)&&r.acceptToken(CS)},{contextual:!0}),ED=new Ty((r,e)=>{let{next:t}=r;if((t==TD||t==PD)&&(r.advance(),t==r.next)){r.advance();let n=!e.context&&e.canShift(TS);r.acceptToken(n?TS:yD)}},{contextual:!0}),QD=HP({"get set async static":q.modifier,"for while do if else switch try catch finally return throw break continue default case":q.controlKeyword,"in of await yield void typeof delete instanceof":q.operatorKeyword,"let var const function class extends":q.definitionKeyword,"import export from":q.moduleKeyword,"with debugger as new":q.keyword,TemplateString:q.special(q.string),super:q.atom,BooleanLiteral:q.bool,this:q.self,null:q.null,Star:q.modifier,VariableName:q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":q.function(q.variableName),VariableDefinition:q.definition(q.variableName),Label:q.labelName,PropertyName:q.propertyName,PrivatePropertyName:q.special(q.propertyName),"CallExpression/MemberExpression/PropertyName":q.function(q.propertyName),"FunctionDeclaration/VariableDefinition":q.function(q.definition(q.variableName)),"ClassDeclaration/VariableDefinition":q.definition(q.className),PropertyDefinition:q.definition(q.propertyName),PrivatePropertyDefinition:q.definition(q.special(q.propertyName)),UpdateOp:q.updateOperator,LineComment:q.lineComment,BlockComment:q.blockComment,Number:q.number,String:q.string,Escape:q.escape,ArithOp:q.arithmeticOperator,LogicOp:q.logicOperator,BitOp:q.bitwiseOperator,CompareOp:q.compareOperator,RegExp:q.regexp,Equals:q.definitionOperator,Arrow:q.function(q.punctuation),": Spread":q.punctuation,"( )":q.paren,"[ ]":q.squareBracket,"{ }":q.brace,"InterpolationStart InterpolationEnd":q.special(q.brace),".":q.derefOperator,", ;":q.separator,"@":q.meta,TypeName:q.typeName,TypeDefinition:q.definition(q.typeName),"type enum interface implements namespace module declare":q.definitionKeyword,"abstract global Privacy readonly override":q.modifier,"is keyof unique infer":q.operatorKeyword,JSXAttributeValue:q.attributeValue,JSXText:q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":q.angleBracket,"JSXIdentifier JSXNameSpacedName":q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":q.attributeName,"JSXBuiltin/JSXIdentifier":q.standard(q.tagName)}),ND={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:219,private:219,protected:219,readonly:221,instanceof:240,satisfies:243,in:244,const:246,import:278,keyof:333,unique:337,infer:343,is:379,abstract:399,implements:401,type:403,let:406,var:408,interface:415,enum:419,namespace:425,module:427,declare:431,global:435,for:456,of:465,while:468,with:472,do:476,if:480,else:482,switch:486,case:492,try:498,catch:502,finally:506,return:510,throw:514,break:518,continue:522,debugger:526},ID={__proto__:null,async:117,get:119,set:121,public:181,private:181,protected:181,static:183,abstract:185,override:187,readonly:193,accessor:195,new:383},RD={__proto__:null,"<":137},MD=id.deserialize({version:14,states:"$BhO`QUOOO%QQUOOO'TQWOOP(_OSOOO*mQ(CjO'#CfO*tOpO'#CgO+SO!bO'#CgO+bO07`O'#DZO-sQUO'#DaO.TQUO'#DlO%QQUO'#DvO0[QUO'#EOOOQ(CY'#EW'#EWO0rQSO'#ETOOQO'#I_'#I_O0zQSO'#GjOOQO'#Eh'#EhO1VQSO'#EgO1[QSO'#EgO3^Q(CjO'#JbO5}Q(CjO'#JcO6kQSO'#FVO6pQ#tO'#FnOOQ(CY'#F_'#F_O6{O&jO'#F_O7ZQ,UO'#FuO8qQSO'#FtOOQ(CY'#Jc'#JcOOQ(CW'#Jb'#JbOOQQ'#J|'#J|O8vQSO'#IOO8{Q(C[O'#IPOOQQ'#JO'#JOOOQQ'#IT'#ITQ`QUOOO%QQUO'#DnO9TQUO'#DzO%QQUO'#D|O9[QSO'#GjO9aQ,UO'#ClO9oQSO'#EfO9zQSO'#EqO:PQ,UO'#F^O:nQSO'#GjO:sQSO'#GnO;OQSO'#GnO;^QSO'#GqO;^QSO'#GrO;^QSO'#GtO9[QSO'#GwO;}QSO'#GzO=`QSO'#CbO=pQSO'#HXO=xQSO'#H_O=xQSO'#HaO`QUO'#HcO=xQSO'#HeO=xQSO'#HhO=}QSO'#HnO>SQ(C]O'#HtO%QQUO'#HvO>_Q(C]O'#HxO>jQ(C]O'#HzO8{Q(C[O'#H|O>uQ(CjO'#CfO?wQWO'#DfQOQSOOO@_QSO'#EPO9aQ,UO'#EfO@jQSO'#EfO@uQ`O'#F^OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jf'#JfO%QQUO'#JfOBOQWO'#E_OOQ(CW'#E^'#E^OBYQ(C`O'#E_OBtQWO'#ESOOQO'#Ji'#JiOCYQWO'#ESOCgQWO'#E_OC}QWO'#EeODQQWO'#E_O@}QWO'#E_OBtQWO'#E_PDkO?MpO'#C`POOO)CDm)CDmOOOO'#IU'#IUODvOpO,59ROOQ(CY,59R,59ROOOO'#IV'#IVOEUO!bO,59RO%QQUO'#D]OOOO'#IX'#IXOEdO07`O,59uOOQ(CY,59u,59uOErQUO'#IYOFVQSO'#JdOHXQbO'#JdO+pQUO'#JdOH`QSO,59{OHvQSO'#EhOITQSO'#JqOI`QSO'#JpOI`QSO'#JpOIhQSO,5;UOImQSO'#JoOOQ(CY,5:W,5:WOItQUO,5:WOKuQ(CjO,5:bOLfQSO,5:jOLkQSO'#JmOMeQ(C[O'#JnO:sQSO'#JmOMlQSO'#JmOMtQSO,5;TOMyQSO'#JmOOQ(CY'#Cf'#CfO%QQUO'#EOONmQ`O,5:oOOQO'#Jj'#JjOOQO-E<]-E<]O9[QSO,5=UO! TQSO,5=UO! YQUO,5;RO!#]Q,UO'#EcO!$pQSO,5;RO!&YQ,UO'#DpO!&aQUO'#DuO!&kQWO,5;[O!&sQWO,5;[O%QQUO,5;[OOQQ'#E}'#E}OOQQ'#FP'#FPO%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]OOQQ'#FT'#FTO!'RQUO,5;nOOQ(CY,5;s,5;sOOQ(CY,5;t,5;tO!)UQSO,5;tOOQ(CY,5;u,5;uO%QQUO'#IeO!)^Q(C[O,5<bO!#]Q,UO,5;]O!){Q,UO,5;]O%QQUO,5;qO!*SQ#tO'#FdO!+PQ#tO'#JuO!*kQ#tO'#JuO!+WQ#tO'#JuOOQO'#Ju'#JuO!+lQ#tO,5;|OOOO,5<Y,5<YO!+}QUO'#FpOOOO'#Id'#IdO6{O&jO,5;yO!,UQ#tO'#FrOOQ(CY,5;y,5;yO!,uQ7[O'#CrOOQ(CY'#Cv'#CvO!-YQSO'#CvO!-_O07`O'#CzO!-{Q,UO,5<_O!.SQSO,5<aO!/iQMhO'#GPO!/vQSO'#GQO!/{QSO'#GQO!0QQMhO'#GUO!1PQWO'#GYO!1rQ7[O'#J]OOQ(CY'#J]'#J]O!1|QSO'#J[O!2[QSO'#JZO!2dQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0uQSO'#DSO!$uQ,UO'#FwO!$uQ,UO'#FyO!2lQSO'#F{O!2qQSO'#F|O!/{QSO'#GSO!$uQ,UO'#GXO!2vQSO'#EiO!3bQSO,5<`O`QUO,5>jOOQQ'#JW'#JWOOQQ,5>k,5>kOOQQ-E<R-E<RO!5aQ(CjO,5:YO!7}Q(CjO,5:fO%QQUO,5:fO!:hQ(CjO,5:hOOQ(CW'#Co'#CoO!;XQ,UO,5=UO!;gQ(C[O'#JXO8qQSO'#JXO=}QSO,59WO!;xQWO,59WO!<QQ,UO,59WO9aQ,UO,59WO!<]QSO,5;RO!<eQSO'#HWO!<vQSO'#KQO%QQUO,5;vO!=OQWO,5;xO!=TQSO,5=qO!=YQSO,5=qO!=_QSO,5=qO8{Q(C[O,5=qO!=mQSO'#EjO!>gQWO'#EkOOQ(CW'#Jo'#JoO!>nQ(C[O'#J}O8{Q(C[O,5=YO;^QSO,5=`OOQO'#Cr'#CrO!>yQWO,5=]O!?RQ,UO,5=^O!?^QSO,5=`O!?cQ`O,5=cO=}QSO'#G|O9[QSO'#HOO!?kQSO'#HOO9aQ,UO'#HRO!?pQSO'#HROOQQ,5=f,5=fO!?uQSO'#HSO!?}QSO'#ClO!@SQSO,58|O!@^QSO,58|O!BfQUO,58|OOQQ,58|,58|O!BsQ(C[O,58|O%QQUO,58|O!COQUO'#HZOOQQ'#H['#H[OOQQ'#H]'#H]O`QUO,5=sO!C`QSO,5=sO`QUO,5=yO`QUO,5={O!CeQSO,5=}O`QUO,5>PO!CjQSO,5>SO!CoQUO,5>YOOQQ,5>`,5>`O%QQUO,5>`O8{Q(C[O,5>bOOQQ,5>d,5>dO!GvQSO,5>dOOQQ,5>f,5>fO!GvQSO,5>fOOQQ,5>h,5>hO!G{QWO'#DXO%QQUO'#JfO!HjQWO'#JfO!IXQWO'#DgO!IjQWO'#DgO!K{QUO'#DgO!LSQSO'#JeO!L[QSO,5:QO!LaQSO'#ElO!LoQSO'#JrO!LwQSO,5;VO!L|QWO'#DgO!MZQWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!MbQSO,5:kO=}QSO,5;QO!;xQWO,5;QO!<QQ,UO,5;QO9aQ,UO,5;QO!MjQSO,5@QO!MoQ!LQO,5:oO!NrQ(C`O,5:yOBtQWO,5:nO# ^QWO,5:nO# kQWO,5:yO#!RQWO,5:yO#!lQWO,5:yOBtQWO,5:yO=}QSO,5:nOOQ(CW'#Eb'#EbOOQO,5:y,5:yO%QQUO,5:yO##]Q(C[O,5:yO##hQ(C[O,5:yO!;xQWO,5:nOOQO,5;P,5;PO##vQ(C[O,5:yPOOO'#IS'#ISP#$[O?MpO,58zPOOO,58z,58zOOOO-E<S-E<SOOQ(CY1G.m1G.mOOOO-E<T-E<TO#$gQ`O,59wOOOO-E<V-E<VOOQ(CY1G/a1G/aO#$lQbO,5>tO+pQUO,5>tOOQO,5>z,5>zO#$vQUO'#IYOOQO-E<W-E<WO#%TQSO,5@OO#%]QbO,5@OO#%dQSO,5@[OOQ(CY1G/g1G/gO%QQUO,5@]O#%lQSO'#I`OOQO-E<^-E<^O#%dQSO,5@[OOQ(CW1G0p1G0pOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#&QQSO,5@XO:sQSO,5@XO#&YQSO,5@XO%QQUO,5@YO#&hQ(C[O,5@YO#&yQ(C[O,5@YO#'QQSO'#IbO#&QQSO,5@XOOQ(CW1G0o1G0oO!&kQWO,5:qO!&vQWO,5:qOOQO,5:s,5:sO#'oQSO,5:sO#'wQ,UO1G2pO9[QSO1G2pOOQ(CY1G0m1G0mO#(VQ(CjO1G0mO#)[Q(ChO,5:}OOQ(CY'#GO'#GOO#)xQ(CjO'#J]O! YQUO1G0mO#,QQ,UO'#JgO#,[QSO,5:[O#,aQbO'#JhO%QQUO'#JhO#,kQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0v1G0vO%QQUO1G0vOOQ(CY1G1`1G1`O#,pQSO1G0vO#/XQ(CjO1G0wO#/`Q(CjO1G0wO#1yQ(CjO1G0wO#2QQ(CjO1G0wO#4[Q(CjO1G0wO#4rQ(CjO1G0wO#7lQ(CjO1G0wO#7sQ(CjO1G0wO#:^Q(CjO1G0wO#:eQ(CjO1G0wO#<]Q(CjO1G0wO#?]Q$IUO'#CfO#AZQ$IUO1G1YO#CXQ$IUO'#JcO!)XQSO1G1`O#ClQ(CjO,5?POOQ(CW-E<c-E<cO#D`Q(CjO1G0wOOQ(CY1G0w1G0wO#FkQ(CjO1G1]O#G_Q#tO,5<QO#GgQ#tO,5<RO#GoQ#tO'#FiO#HWQSO'#FhOOQO'#Jv'#JvOOQO'#Ic'#IcO#H]Q#tO1G1hOOQ(CY1G1h1G1hOOOO1G1s1G1sO#HnQ$IUO'#JbO#HxQSO,5<[O!'RQUO,5<[OOOO-E<b-E<bOOQ(CY1G1e1G1eO#H}QWO'#JuOOQ(CY,5<^,5<^O#IVQWO,5<^OOQ(CY,59b,59bO!#]Q,UO'#C|OOOO'#IW'#IWO#I[O07`O,59fOOQ(CY,59f,59fO%QQUO1G1yO!2qQSO'#IgO#IgQSO,5<rOOQ(CY,5<o,5<oOOQO'#Ge'#GeO!$uQ,UO,5=OOOQO'#Gg'#GgO!$uQ,UO,5=QO!#]Q,UO,5=SOOQO1G1{1G1{O#IuQ`O'#CoO#JYQ`O,5<kO#JaQSO'#JyO9[QSO'#JyO#JoQSO,5<mO!$uQ,UO,5<lO#JtQSO'#GRO#KPQSO,5<lO#KUQ`O'#GOO#KcQ`O'#JzO#KmQSO'#JzO!#]Q,UO'#JzO#KrQSO,5<pO#KwQWO'#GZO!0zQWO'#GZO#LYQSO'#G]O#L_QSO'#G_O!/{QSO'#GbO#LdQ(C[O'#IiO#LoQWO,5<tOOQ(CY,5<t,5<tO#LvQWO'#GZO#MUQWO'#G[O#M^QWO'#G[OOQ(CY,5=T,5=TO!$uQ,UO,5?vO!$uQ,UO,5?vO#McQSO'#IjO#MnQSO,5?uO#MvQSO,59]O#NgQ,UO,59nOOQ(CY,59n,59nO$ YQ,UO,5<cO$ {Q,UO,5<eO?oQSO,5<gOOQ(CY,5<h,5<hO$!VQSO,5<nO$![Q,UO,5<sO! YQUO1G1zO$!lQSO1G1zOOQQ1G4U1G4UOOQ(CY1G/t1G/tO!)UQSO1G/tO$$kQ(CjO1G0QOOQQ1G2p1G2pO!#]Q,UO1G2pO%QQUO1G2pO$%[QSO1G2pO$%gQ,UO'#EcOOQ(CW,5?s,5?sO$%qQ(C[O,5?sOOQQ1G.r1G.rO=}QSO1G.rO!;xQWO1G.rO!<QQ,UO1G.rO$&SQSO1G0mO$&XQSO'#CfO$&dQSO'#KRO$&lQSO,5=rO$&qQSO'#KRO$&vQSO'#KRO$'RQSO'#IrO$'aQSO,5@lO$'iQbO1G1bOOQ(CY1G1d1G1dO9[QSO1G3]O?oQSO1G3]O$'pQSO1G3]O$'uQSO1G3]OOQQ1G3]1G3]O:sQSO'#JpO:sQSO'#ElO%QQUO'#ElO:sQSO'#IlO$'zQ(C[O,5@iOOQQ1G2t1G2tO!?^QSO1G2zO!#]Q,UO1G2wO$(VQSO1G2wOOQQ1G2x1G2xO!#]Q,UO1G2xO$([QSO1G2xO$(dQWO'#GvOOQQ1G2z1G2zO!0zQWO'#InO!?cQ`O1G2}OOQQ1G2}1G2}OOQQ,5=h,5=hO$(lQ,UO,5=jO9[QSO,5=jO#L_QSO,5=mO8qQSO,5=mO!;xQWO,5=mO!<QQ,UO,5=mO9aQ,UO,5=mO$(zQSO'#KPO$)VQSO,5=nOOQQ1G.h1G.hO$)[Q(C[O1G.hO?oQSO1G.hO$)gQSO1G.hO8{Q(C[O1G.hO$)rQbO,5@nO$*VQSO,5@nO$*bQUO,5=uO$*iQSO,5=uO:sQSO,5@nOOQQ1G3_1G3_O`QUO1G3_OOQQ1G3e1G3eOOQQ1G3g1G3gO=xQSO1G3iO$*nQUO1G3kO$.oQUO'#HjOOQQ1G3n1G3nO$.|QSO'#HpO=}QSO'#HrOOQQ1G3t1G3tO$/UQUO1G3tO8{Q(C[O1G3zOOQQ1G3|1G3|OOQ(CW'#GV'#GVO8{Q(C[O1G4OO8{Q(C[O1G4QO$3YQSO,5@QO!'RQUO,5;WO:sQSO,5;WO=}QSO,5:RO!'RQUO,5:RO!;xQWO,5:RO$3_Q$IUO,5:ROOQO,5;W,5;WO$3iQWO'#IZO$4PQSO,5@POOQ(CY1G/l1G/lO$4XQWO'#IaO$4cQSO,5@^OOQ(CW1G0q1G0qO!IjQWO,5:ROOQO'#I^'#I^O$4kQWO,5:mOOQ(CY,5:m,5:mO!MeQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0l1G0lO=}QSO1G0lO!;xQWO1G0lO!<QQ,UO1G0lOOQ(CW1G5l1G5lO=}QSO1G0YOOQO1G0e1G0eO%QQUO1G0eO$4rQ(C[O1G0eO$4}Q(C[O1G0eO!;xQWO1G0YOBtQWO1G0YO$5]Q(C`O1G0eO$5wQWO1G0YOBtQWO1G0eO$6UQWO1G0eO$6lQWO1G0eO$7VQ(C[O1G0eOOQO1G0Y1G0YO$7kQ(CjO1G0ePOOO-E<Q-E<QPOOO1G.f1G.fOOOO1G/c1G/cO$7uQ`O,5<bO$7}QbO1G4`OOQO1G4f1G4fO%QQUO,5>tO$8XQSO1G5jO$8aQSO1G5vO$8iQbO1G5wO:sQSO,5>zO$8sQSO1G5sO$8sQSO1G5sO:sQSO1G5sO$8{Q(CjO1G5tO%QQUO1G5tO$9]Q(C[O1G5tO$9nQSO,5>|O:sQSO,5>|OOQO,5>|,5>|O$:SQSO,5>|OOQO-E<`-E<`OOQO1G0]1G0]OOQO1G0_1G0_O!)XQSO1G0_OOQQ7+([7+([O!#]Q,UO7+([O%QQUO7+([O$:bQSO7+([O$:mQ,UO7+([O$:{Q(CjO,59nO$=TQ(CjO,5<cO$?`Q(CjO,5<eO$AkQ(CjO,5<sOOQ(CY7+&X7+&XO$C|Q(CjO7+&XO$DpQ,UO'#I[O$DzQSO,5@ROOQ(CY1G/v1G/vO$ESQUO'#I]O$EaQSO,5@SO$EiQbO,5@SOOQ(CY1G/{1G/{O$EsQSO7+&bOOQ(CY7+&b7+&bO$ExQ$IUO,5:bO%QQUO7+&tO$FSQ$IUO,5:YO$FaQ$IUO,5:fO$FkQ$IUO,5:hOOQ(CY7+&z7+&zOOQO1G1l1G1lOOQO1G1m1G1mO$FuQ#tO,5<TO!'RQUO,5<SOOQO-E<a-E<aOOQ(CY7+'S7+'SOOOO7+'_7+'_OOOO1G1v1G1vO$GQQSO1G1vOOQ(CY1G1x1G1xO$GVQ`O,59hOOOO-E<U-E<UOOQ(CY1G/Q1G/QO$G^Q(CjO7+'eOOQ(CY,5?R,5?RO$HQQSO,5?ROOQ(CY1G2^1G2^P$HVQSO'#IgPOQ(CY-E<e-E<eO$HyQ,UO1G2jO$IlQ,UO1G2lO$IvQ`O1G2nOOQ(CY1G2V1G2VO$I}QSO'#IfO$J]QSO,5@eO$J]QSO,5@eO$JeQSO,5@eO$JpQSO,5@eOOQO1G2X1G2XO$KOQ,UO1G2WO!$uQ,UO1G2WO$K`QMhO'#IhO$KpQSO,5@fO!#]Q,UO,5@fO$KxQ`O,5@fOOQ(CY1G2[1G2[OOQ(CW,5<u,5<uOOQ(CW,5<v,5<vO$LSQSO,5<vOBoQSO,5<vO!;xQWO,5<uOOQO'#G^'#G^O$LXQSO,5<wOOQ(CW,5<y,5<yO$LSQSO,5<|OOQO,5?T,5?TOOQO-E<g-E<gOOQ(CY1G2`1G2`O!0zQWO,5<uO$LaQSO,5<vO#LYQSO,5<wO!0zQWO,5<vO$LlQ,UO1G5bO$LvQ,UO1G5bOOQO,5?U,5?UOOQO-E<h-E<hOOQO1G.w1G.wO!=OQWO,59pO%QQUO,59pO$MTQSO1G2RO!$uQ,UO1G2YO$MYQ(CjO7+'fOOQ(CY7+'f7+'fO! YQUO7+'fOOQ(CY7+%`7+%`O$M|Q`O'#J{O!MeQSO7+([O$NWQbO7+([O$:eQSO7+([O$N_Q(ChO'#CfO$NrQ(ChO,5<zO% dQSO,5<zOOQ(CW1G5_1G5_OOQQ7+$^7+$^O=}QSO7+$^O!;xQWO7+$^O! YQUO7+&XO% iQSO'#IqO% }QSO,5@mOOQO1G3^1G3^O9[QSO,5@mO% }QSO,5@mO%!VQSO,5@mOOQO,5?^,5?^OOQO-E<p-E<pOOQ(CY7+&|7+&|O%![QSO7+(wO8{Q(C[O7+(wO9[QSO7+(wO?oQSO7+(wO%!aQSO,5;WOOQ(CW,5?W,5?WOOQ(CW-E<j-E<jOOQQ7+(f7+(fO%!fQ(ChO7+(cO!#]Q,UO7+(cO%!pQ`O7+(dOOQQ7+(d7+(dO!#]Q,UO7+(dO%!wQSO'#KOO%#SQSO,5=bOOQO,5?Y,5?YOOQO-E<l-E<lOOQQ7+(i7+(iO%$`QWO'#HPOOQQ1G3U1G3UO!#]Q,UO1G3UO%QQUO1G3UO%$gQSO1G3UO%$rQ,UO1G3UO8{Q(C[O1G3XO#L_QSO1G3XO8qQSO1G3XO!;xQWO1G3XO!<QQ,UO1G3XO%%QQSO'#IpO%%]QSO,5@kO%%eQWO,5@kOOQ(CW1G3Y1G3YOOQQ7+$S7+$SO?oQSO7+$SO8{Q(C[O7+$SO%%pQSO7+$SO%QQUO1G6YO%QQUO1G6ZO%%uQUO1G3aO%%|QSO1G3aO%&RQUO1G3aO%&YQ(C[O1G6YOOQQ7+(y7+(yO8{Q(C[O7+)TO`QUO7+)VOOQQ'#KU'#KUOOQQ'#Is'#IsO%&dQUO,5>UOOQQ,5>U,5>UO%QQUO'#HkO%&qQSO'#HmOOQQ,5>[,5>[O:sQSO,5>[OOQQ,5>^,5>^OOQQ7+)`7+)`OOQQ7+)f7+)fOOQQ7+)j7+)jOOQQ7+)l7+)lO%&vQWO1G5lO%'[Q$IUO1G0rO%'fQSO1G0rOOQO1G/m1G/mO%'qQ$IUO1G/mO=}QSO1G/mO!'RQUO'#DgOOQO,5>u,5>uOOQO-E<X-E<XOOQO,5>{,5>{OOQO-E<_-E<_O!;xQWO1G/mOOQO-E<[-E<[OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!MeQSO7+%qOOQ(CY7+&W7+&WO=}QSO7+&WO!;xQWO7+&WOOQO7+%t7+%tO$7kQ(CjO7+&POOQO7+&P7+&PO%QQUO7+&PO%'{Q(C[O7+&PO=}QSO7+%tO!;xQWO7+%tO%(WQ(C[O7+&POBtQWO7+%tO%(fQ(C[O7+&PO%(zQ(C`O7+&PO%)UQWO7+%tOBtQWO7+&PO%)cQWO7+&PO%)yQSO7++_O%)yQSO7++_O%*RQ(CjO7++`O%QQUO7++`OOQO1G4h1G4hO:sQSO1G4hO%*cQSO1G4hOOQO7+%y7+%yO!MeQSO<<KvO$NWQbO<<KvO%*qQSO<<KvOOQQ<<Kv<<KvO!#]Q,UO<<KvO%QQUO<<KvO%*yQSO<<KvO%+UQ(CjO1G2jO%-aQ(CjO1G2lO%/lQ(CjO1G2WO%1}Q,UO,5>vOOQO-E<Y-E<YO%2XQbO,5>wO%QQUO,5>wOOQO-E<Z-E<ZO%2cQSO1G5nOOQ(CY<<I|<<I|O%2kQ$IUO1G0mO%4uQ$IUO1G0wO%4|Q$IUO1G0wO%7QQ$IUO1G0wO%7XQ$IUO1G0wO%8|Q$IUO1G0wO%9dQ$IUO1G0wO%;wQ$IUO1G0wO%<OQ$IUO1G0wO%>SQ$IUO1G0wO%>ZQ$IUO1G0wO%@RQ$IUO1G0wO%@fQ(CjO<<J`O%AkQ$IUO1G0wO%CaQ$IUO'#J]O%EdQ$IUO1G1]O%EqQ$IUO1G0QO!'RQUO'#FkOOQO'#Jw'#JwOOQO1G1o1G1oO%E{QSO1G1nO%FQQ$IUO,5?POOOO7+'b7+'bOOOO1G/S1G/SOOQ(CY1G4m1G4mO!$uQ,UO7+(YO%F[QSO,5?QO9[QSO,5?QOOQO-E<d-E<dO%FjQSO1G6PO%FjQSO1G6PO%FrQSO1G6PO%F}Q,UO7+'rO%G_Q`O,5?SO%GiQSO,5?SO!#]Q,UO,5?SOOQO-E<f-E<fO%GnQ`O1G6QO%GxQSO1G6QOOQ(CW1G2b1G2bO$LSQSO1G2bOOQ(CW1G2a1G2aO%HQQSO1G2cO!#]Q,UO1G2cOOQ(CW1G2h1G2hO!;xQWO1G2aOBoQSO1G2bO%HVQSO1G2cO%H_QSO1G2bO!$uQ,UO7+*|OOQ(CY1G/[1G/[O%HjQSO1G/[OOQ(CY7+'m7+'mO%HoQ,UO7+'tO%IPQ(CjO<<KQOOQ(CY<<KQ<<KQO!#]Q,UO'#IkO%IsQSO,5@gO!#]Q,UO1G2fOOQQ<<Gx<<GxO=}QSO<<GxO%I{Q(CjO<<IsOOQ(CY<<Is<<IsOOQO,5?],5?]O%JoQSO,5?]O$&vQSO,5?]OOQO-E<o-E<oO%JtQSO1G6XO%JtQSO1G6XO9[QSO1G6XO?oQSO<<LcOOQQ<<Lc<<LcO%J|QSO<<LcO8{Q(C[O<<LcO%KRQSO1G0rOOQQ<<K}<<K}O%!fQ(ChO<<K}OOQQ<<LO<<LOO%!pQ`O<<LOO%KWQWO'#ImO%KcQSO,5@jO!'RQUO,5@jOOQQ1G2|1G2|O%KkQ(C`O'#JfO%LVQUO'#JfO%L^QWO'#E_O%LwQ(C[O'#E_OBYQ(C`O'#E_O(VQWO'#HQOOQO'#Io'#IoO8{Q(C[O'#IoO%M]QWO,5=kOOQQ,5=k,5=kO%MuQWO'#E_O%LmQWO'#E_O%M|QWO'#E_O%NgQWO'#E_O& WQWO'#HQO& iQSO7+(pO& nQSO7+(pOOQQ7+(p7+(pO!#]Q,UO7+(pO%QQUO7+(pO& vQSO7+(pOOQQ7+(s7+(sO8{Q(C[O7+(sO#L_QSO7+(sO8qQSO7+(sO!;xQWO7+(sO&!RQSO,5?[OOQO-E<n-E<nOOQO'#HT'#HTO&!^QSO1G6VO8{Q(C[O<<GnOOQQ<<Gn<<GnO?oQSO<<GnO&!fQSO7++tO&!kQSO7++uOOQQ7+({7+({O&!pQSO7+({O&!uQUO7+({O&!|QSO7+({O%QQUO7++tO%QQUO7++uOOQQ<<Lo<<LoOOQQ<<Lq<<LqOOQQ-E<q-E<qOOQQ1G3p1G3pO&#RQSO,5>VOOQQ,5>X,5>XO&#WQSO1G3vO:sQSO7+&^O!'RQUO7+&^OOQO7+%X7+%XO&#]Q$IUO1G5wO=}QSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Ir<<IrO=}QSO<<IrOOQO<<Ik<<IkO$7kQ(CjO<<IkO%QQUO<<IkOOQO<<I`<<I`O=}QSO<<I`O&#gQ(C[O<<IkO!;xQWO<<I`O&#rQ(C[O<<IkOBtQWO<<I`O&$QQ(C[O<<IkO&$fQ(C`O<<IkO&$pQWO<<I`OBtQWO<<IkO&$}QSO<<NyO&%VQ(CjO<<NzOOQO7+*S7+*SO:sQSO7+*SOOQQANAbANAbO&%gQSOANAbO!#]Q,UOANAbO!MeQSOANAbO$NWQbOANAbO%QQUOANAbO&%oQ(CjO7+'rO&(QQ(CjO7+'tO&*cQbO1G4cO&*mQ$IUO7+&XO&*zQ$IUO,59nO&,}Q$IUO,5<cO&/QQ$IUO,5<eO&1TQ$IUO,5<sO&2yQ$IUO7+'eO&3WQ$IUO7+'fO&3eQSO,5<VOOQO7+'Y7+'YO&3jQ,UO<<KtOOQO1G4l1G4lO&3qQSO1G4lO&3|QSO1G4lO&4[QSO7++kO&4[QSO7++kO!#]Q,UO1G4nO&4dQ`O1G4nO&4nQSO7++lOOQ(CW7+'|7+'|O$LSQSO7+'}O&4vQ`O7+'}OOQ(CW7+'{7+'{O$LSQSO7+'|O&4}QSO7+'}O!#]Q,UO7+'}OBoQSO7+'|O&5SQ,UO<<NhOOQ(CY7+$v7+$vO&5^Q`O,5?VOOQO-E<i-E<iO&5hQ(ChO7+(QOOQQAN=dAN=dO9[QSO1G4wOOQO1G4w1G4wO&5xQSO1G4wO&5}QSO7++sO&5}QSO7++sO8{Q(C[OANA}O?oQSOANA}OOQQANA}ANA}OOQQANAiANAiOOQQANAjANAjO&6VQSO,5?XOOQO-E<k-E<kO&6bQ$IUO1G6UO#L_QSO,5=lO8qQSO,5=lO&8rQbO'#CfO&8|QWO,5:yO&9WQWO,5:yO&9eQWO,5:yO!;xQWO,5=lOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ1G3V1G3VO%LVQUO,5<wO%KkQ(C`O,5=lO!NrQ(C`O,5:yO(VQWO,5=lO&9xQWO,5=lO&:ZQWO,5:yOOQQ<<L[<<L[O!#]Q,UO<<L[O& iQSO<<L[O&:tQSO<<L[O%QQUO<<L[OOQQ<<L_<<L_O8{Q(C[O<<L_O#L_QSO<<L_O8qQSO<<L_O&:|QWO1G4vO&;XQSO7++qOOQQAN=YAN=YO8{Q(C[OAN=YOOQQ<= `<= `OOQQ<= a<= aOOQQ<<Lg<<LgO&;aQSO<<LgO&;fQUO<<LgO&;mQSO<= `O&;rQSO<= aOOQQ1G3q1G3qO=}QSO7+)bO&;wQSO<<IxO&<SQ$IUO<<IxOOQO<<Hs<<HsOOQ(CYAN?^AN?^OOQOAN?VAN?VO$7kQ(CjOAN?VOOQOAN>zAN>zO%QQUOAN?VO=}QSOAN>zO&<^Q(C[OAN?VO!;xQWOAN>zO&<iQ(C[OAN?VOBtQWOAN>zO&<wQ(C[OAN?VOOQO<<Mn<<MnOOQQG26|G26|O!#]Q,UOG26|O!MeQSOG26|O&=]QSOG26|O$NWQbOG26|O&=eQ$IUO<<J`O&=rQ$IUO1G2WO&?hQ$IUO1G2jO&AkQ$IUO1G2lO&CnQ$IUO<<KQO&C{Q$IUO<<IsOOQO1G1q1G1qO!$uQ,UOANA`OOQO7+*W7+*WO&DYQSO7+*WO&DeQSO<= VO&DmQ`O7+*YOOQ(CW<<Ki<<KiO$LSQSO<<KiOOQ(CW<<Kh<<KhO&DwQ`O<<KiO$LSQSO<<KhOOQO7+*c7+*cO9[QSO7+*cO&EOQSO<= _OOQQG27iG27iO8{Q(C[OG27iO!'RQUO1G4sO&EWQSO7++pO8{Q(C[O1G3WO#L_QSO1G3WO&E`QWO1G0eO&EjQWO1G0eO8qQSO1G3WO!;xQWO1G3WO(VQWO1G3WO%KkQ(C`O1G3WO$5]Q(C`O1G0eO&EwQWO1G3WO& iQSOANAvOOQQANAvANAvO!#]Q,UOANAvO&FYQSOANAvOOQQANAyANAyO8{Q(C[OANAyO#L_QSOANAyOOQO'#HU'#HUOOQO7+*b7+*bOOQQG22tG22tOOQQANBRANBRO&FbQSOANBROOQQANDzANDzOOQQAND{AND{OOQQ<<L|<<L|O!'RQUOAN?dOOQOG24qG24qO$7kQ(CjOG24qOOQOG24fG24fO%QQUOG24qO=}QSOG24fO&FgQ(C[OG24qO!;xQWOG24fO&FrQ(C[OG24qO!MeQSOLD,hOOQQLD,hLD,hO!#]Q,UOLD,hO&GQQSOLD,hO&GYQ$IUO7+'rO&IOQ$IUO7+'tO&JtQ,UOG26zOOQO<<Mr<<MrOOQ(CWANATANATO$LSQSOANATOOQ(CWANASANASOOQO<<M}<<M}OOQQLD-TLD-TO&KUQ$IUO7+*_OOQO7+(r7+(rO8{Q(C[O7+(rO&K`QWO7+&PO#L_QSO7+(rO8qQSO7+(rO!;xQWO7+(rO(VQWO7+(rOOQQG27bG27bO& iQSOG27bO!#]Q,UOG27bOOQQG27eG27eO8{Q(C[OG27eOOQQG27mG27mO&KjQ$IUOG25OOOQOLD*]LD*]O$7kQ(CjOLD*]OOQOLD*QLD*QO%QQUOLD*]O=}QSOLD*QO&KtQ(C[OLD*]OOQQ!$(!S!$(!SO!MeQSO!$(!SO!#]Q,UO!$(!SO&LPQ(CjOG26zOOQ(CWG26oG26oOOQO<<L^<<L^O8{Q(C[O<<L^O#L_QSO<<L^O8qQSO<<L^O!;xQWO<<L^OOQQLD,|LD,|O& iQSOLD,|OOQQLD-PLD-POOQO!$'Mw!$'MwO$7kQ(CjO!$'MwOOQO!$'Ml!$'MlO%QQUO!$'MwOOQQ!)9En!)9EnO!MeQSO!)9EnOOQOANAxANAxO8{Q(C[OANAxO#L_QSOANAxO8qQSOANAxOOQQ!$(!h!$(!hOOQO!)9Cc!)9CcO$7kQ(CjO!)9CcOOQQ!.K;Y!.K;YO&NbQ$IUOG26zOOQOG27dG27dO8{Q(C[OG27dO#L_QSOG27dOOQO!.K8}!.K8}OOQOLD-OLD-OO8{Q(C[OLD-OOOQO!$(!j!$(!jO!'RQUO'#DvO0rQSO'#ETO'!WQbO'#JbO!'RQUO'#DnO'!_QUO'#DzO!'RQUO'#D|O'!fQbO'#CfO'$|QbO'#CfO'%^QUO,5;RO!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO'#IeO''aQSO,5<bO''iQ,UO,5;]O'(|Q,UO,5;]O!'RQUO,5;qO0uQSO'#DSO0uQSO'#DSO!#]Q,UO'#FwO''iQ,UO'#FwO!#]Q,UO'#FyO''iQ,UO'#FyO!#]Q,UO'#GXO''iQ,UO'#GXO!'RQUO,5:fO!'RQUO,5@]O'%^QUO1G0mO')TQ$IUO'#CfO!'RQUO1G1yO!#]Q,UO,5=OO''iQ,UO,5=OO!#]Q,UO,5=QO''iQ,UO,5=QO!#]Q,UO,5<lO''iQ,UO,5<lO'%^QUO1G1zO!'RQUO7+&tO!#]Q,UO1G2WO''iQ,UO1G2WO!#]Q,UO1G2YO''iQ,UO1G2YO'%^QUO7+'fO'%^QUO7+&XO!#]Q,UOANA`O''iQ,UOANA`O')_QSO'#EgO')dQSO'#EgO')lQSO'#FVO')qQSO'#EqO')vQSO'#JqO'*RQSO'#JoO'*^QSO,5;RO'*cQ,UO,5<_O'*jQSO'#GQO'*oQSO'#GQO'*tQSO,5<`O'*|QSO,5;RO'+UQ$IUO1G1YO'+]QSO,5<lO'+bQSO,5<lO'+gQSO,5<nO'+lQSO,5<nO'+qQSO1G1zO'+vQSO1G0mO'+{Q,UO<<KtO',SQ,UO<<KtO7ZQ,UO'#FuO8qQSO'#FtO@jQSO'#EfO!'RQUO,5;nO!/{QSO'#GQO!/{QSO'#GQO!/{QSO'#GSO!/{QSO'#GSO!$uQ,UO7+(YO!$uQ,UO7+(YO$IvQ`O1G2nO$IvQ`O1G2nO!#]Q,UO,5=SO!#]Q,UO,5=S",stateData:"'-[~O'lOS'mOSROS'nRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#o}O$PzO$TfO%_{O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO%|!UO&S!VO&U!WO&W!XO&Y!YO&]!ZO&c![O&i!]O&k!^O&m!_O&o!`O&q!aO'sSO'uTO'xUO(QVO(_[O(liO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x;oO!|!vO!}!tO#O!uO#P!sO#S!wO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O'n!xO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX'jYX(QYX(`YX(gYX(hYX~O!a$yX~P(dO[!zO'u!|O'v!zO'w!|O~O[!}O'w!|O'x!|O'y!}O~Oq#PO!O#QO(R#QO(S#SO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's;tO'uTO'xUO(QVO(_[O(liO~O!U#WO!V#TO!S(WP!S(dP~P+pO!W#`O~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(liO~O!U#fO!x]O#a#iO#b#fO's;uO!g(aP~P.[O!h#kO's#jO~O!t#oO!x]O%_#pO~O#c#qO~O!a#rO#c#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!V$^O!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^(UX'j(UX'h(UX!g(UX!S(UX!X(UX%`(UX!a(UX~P1dO#W$bO#z$bOP(VXX(VXk(VXy(VXz(VX|(VX!V(VX!e(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#n(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!X(VX%`(VX~O^(VX!f(VX'j(VX'h(VX!S(VX!g(VXo(VX!a(VX~P3zO#W$bO~O$V$dO$X$cO$`$iO~O!X$jO$TfO$c$kO$e$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's$oO'uTO'xUO'|%OO(Q$rOd'}P~O!h%ZO~O!a%]O~O^%^O'j%^O~O't!iO~P%QO's%eO~O!h%ZO's%eO't!iO'|%OO~Ob%lO!h%ZO's%eO~O#n$PO~Oy%qO!X%nO!h%pO%a%tO's%eO't!iO'uTO'xUO](tP~O!t#oO~O|%vO!X%wO's%eO~O|%vO!X%wO%i%{O's%eO~O's%|O~O#o}O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO~Oa&VOb&UO!t&SO%_&TO%q&RO~P;cOa&YObwO!X&XO!tvO!x]O#o}O%_{O%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO~O_&]O#W&`O%a&ZO't!iO~P<bO!h&aO!q&eO~O!h#kO~O!XXO~O^%^O'i&mO'j%^O~O^%^O'i&pO'j%^O~O^%^O'i&rO'j%^O~O'hYX!SYXoYX!gYX&QYX!XYX%`YX!aYX~P(dO!['PO!]&xO!^&xO't!iO'uTO'xUO~Ol&vO|&uO!U&yO(T&tO!W(XP!W(fP~P?cOg'SO!X'QO's%eO~Ob'XO!h%ZO's%eO~Oy%qO!h%pO~Ol!kO|!lO!['^O!]']O!^']O!}'`O#O'`O#P'_O#S'bO#T'bO't!iO'uTO'xUO(T!jO(_!nO~O!x;oO!|'aO~P@}O^%^O!a#rO!h%ZO!l'hO#W'fO'j%^O'|%OO(`'dO~Ol!kO|!lO'uTO'xUO(T!jO(_!nO~O!]']O!^']O't!iO~PBtO!['^O!]']O!^']O#S'bO#T'bO't!iO~PBtO!XXO!['^O!]']O!^']O#P'_O#S'bO#T'bO't!iO~PBtO'o'lO'p'lO'q'nO~O[!zO'u'pO'v!zO'w'pO~O[!}O'w'pO'x'pO'y!}O~Oq#PO!O#QO(R#QO(S'tO~O!U'vO!S&|X!S'SX!V&|X!V'SX~P+pO!V'xO!S(WX~OP$YOX$aOk#}Oy#vOz#wO|#xO!V'xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O!S(WX~PF_O!S'}O~O!S(cX!V(cX!a(cX!g(cX(`(cX~O#W(cX#c#[X!W(cX~PHeO#W(OO!S(eX!V(eX~O!V(PO!S(dX~O!S(SO~O#W$bO~PHeO!W(TO~P`Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!jaX!jak!ja!V!ja!e!ja!l!ja#f!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#p!ja#r!ja#t!ja#u!ja(`!ja(g!ja(h!ja~O^!ja'j!ja'h!ja!S!ja!g!jao!ja!X!ja%`!ja!a!ja~PI{O!g(UO~O|%vO!X%wO!x]O#a(XO#b(WO's%eO~O!a#rO#W(YO(`'dO!V(bX^(bX'j(bX~O!g(bX~PMPO!V(]O!g(aX~O!g(_O~O|%vO!X%wO#b(WO's%eO~Oy(`Oz(aO!f#tO!h#uO!x!wa|!wa~O!t!wa%_!wa!X!wa#a!wa#b!wa's!wa~PNXO!t(eO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#c(kO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's(iO'uTO'xUO'|%OO(Q$rO~Od(ZP~P!$uO!U(oO!g([P~P%QO(T(qO(_[O~O|(sO!h#uO(T(qO(_[O~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~Oz)UO!h#uO~O!V$^O^$ja'j$ja'h$ja!g$ja!S$ja!X$ja%`$ja!a$ja~O#o)YO~P!#]Oy)]O!a)[O!X$WX$S$WX$V$WX$X$WX$`$WX~O!a)[O!X(iX$S(iX$V(iX$X(iX$`(iX~Oy)]O~P!*kOy)]O!X(iX$S(iX$V(iX$X(iX$`(iX~O!X)_O$S)cO$V)^O$X)^O$`)dO~O!U)gO~P!'RO$V$dO$X$cO$`)kO~Og$rXy$rX|$rX!f$rX(g$rX(h$rX~OdfXd$rXgfX!VfX#WfX~P!,aOl)mO~Oq)nO(R)oO(S)qO~Og)zOy)sO|)tO(g)vO(h)xO~Od)rO~P!-jOd){O~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO'uTO'xUO'|%OO(Q$rO~O!U*PO's)|O!g(mP~P!.XO#c*RO~O!h*SO~O!U*XO's*UO!S(nP~P!.XOk*eO|*]O![*cO!]*[O!^*[O!h*SO#S*dO%V*_O't!iO(T!jO~O!W*bO~P!0_O!f#tOg(PXy(PX|(PX(g(PX(h(PX!V(PX#W(PX~Od(PX#x(PX~P!1WOg*hO#W*gOd(OX!V(OX~O!V*iOd'}X~O's%|Od'}P~O!h*pO~O's(iO~O|%vO!U#fO!X%wO!x]O#a#iO#b#fO's%eO!g(aP~O!a#rO#c*tO~OP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^!ba!V!ba'j!ba'h!ba!S!ba!g!bao!ba!X!ba%`!ba!a!ba~P!3jOy#vOz#wO|#xO!f#tO!h#uO(QVOP!naX!nak!na!V!na!e!na!l!na#f!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#p!na#r!na#t!na#u!na(`!na(g!na(h!na~O^!na'j!na'h!na!S!na!g!nao!na!X!na%`!na!a!na~P!6TOy#vOz#wO|#xO!f#tO!h#uO(QVOP!paX!pak!pa!V!pa!e!pa!l!pa#f!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#p!pa#r!pa#t!pa#u!pa(`!pa(g!pa(h!pa~O^!pa'j!pa'h!pa!S!pa!g!pao!pa!X!pa%`!pa!a!pa~P!8nOg*|O!X'QO%`*{O'|%OO~O!a+OO!X'{X^'{X!V'{X'j'{X~O!h%ZO'|%OO~O!h%ZO's%eO'|%OO~O!a#rO#c(kO~O%a+[O's+WO'uTO'xUO!W(uP~O!V+]O](tX~O(T(qO~OX+aO~O]+bO~O!X%nO's%eO't!iO](tP~O|%vO!U+fO!V(PO!X%wO's%eO!S(dP~Ol&|O|+hO!U+gO'uTO'xUO(T(qO~O!W(fP~P!>RO!V+iO^(qX'j(qX~O#W+mO'|%OO~Og+pO!X$yO'|%OO~O!X+rO~Oy+tO!XXO~O!t+yO~Ob,OO~O's#jO!W(sP~Ob%lO~O%a!OO's%|O~P<bOX,UO],TO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$TfO%_{O'uTO'xUO(QVO(_[O(liO~O!X!cO$P!hO's!bO~P!@fO],TO^%^O'j%^O~O^,YO#o,[O%c,[O%d,[O~P%QO!h&aO~O&S,aO~O!X,cO~O&e,eO&g,fOP&baQ&baV&ba^&baa&bab&bai&bak&bal&bam&bas&bau&baw&ba|&ba!Q&ba!R&ba!X&ba!c&ba!h&ba!k&ba!l&ba!m&ba!o&ba!q&ba!t&ba!x&ba#o&ba$P&ba$T&ba%_&ba%a&ba%c&ba%d&ba%g&ba%i&ba%l&ba%m&ba%o&ba%|&ba&S&ba&U&ba&W&ba&Y&ba&]&ba&c&ba&i&ba&k&ba&m&ba&o&ba&q&ba'h&ba's&ba'u&ba'x&ba(Q&ba(_&ba(l&ba!W&ba&Z&ba_&ba&`&ba~O's,kO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#W{X'|!_X~O!a,pO#W,oO!V#`X!V(YX!W#`X!W(YX!a(YX!h(YX'|(YX~O!a,rO!h%ZO'|%OO!V!ZX!W!ZX~Ol!kO|!lO'uTO'xUO(T!jO~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(l=]O~O's<dO~P!I{O!V,vO!W(XX~O!W,xO~O!a,pO#W,oO!V#`X!W#`X~O!V,yO!W(fX~O!W,{O~O!],|O!^,|O't!iO~P!IjO!W-PO~P'TOg-SO!X'QO~O!S-XO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#S!wa#T!wa't!wa'u!wa'x!wa(T!wa(_!wa~PNXO^%^O!a#rO!h%ZO!l-^O#W-[O'j%^O'|%OO(`'dO~O!]-`O!^-`O't!iO~PBtO![-bO!]-`O!^-`O#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O#P-dO#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O!}-eO#O-eO#P-dO#S-cO#T-cO't!iO~PBtO^%^O#W-[O'j%^O~O^%^O!a#rO#W-[O'j%^O~O^%^O!a#rO!l-^O#W-[O'j%^O(`'dO~O'o'lO'p'lO'q-jO~Oo-kO~O!S&|a!V&|a~P!3jO!U-oO!S&|X!V&|X~P%QO!V'xO!S(Wa~O!S(Wa~PF_O!V(PO!S(da~O|%vO!U-sO!X%wO's%eO!S'SX!V'SX~O!V(]O!g(aa~O|%vO!X%wO#b-vO's%eO~O#W-xO!V(ba!g(ba^(ba'j(ba~O!a#rO~P#&hO|%vO!U-{O!X%wO!x]O#a-}O#b-{O's%eO!V'UX!g'UX~Oz.RO!h#uO~Og.UO!X'QO%`.TO'|%OO~O^#Zi!V#Zi'j#Zi'h#Zi!S#Zi!g#Zio#Zi!X#Zi%`#Zi!a#Zi~P!3jOg=iOy)sO|)tO(g)vO(h)xO~O#c#Va^#Va#W#Va'j#Va!V#Va!g#Va!X#Va!S#Va~P#(yO#c(PXP(PXX(PX^(PXk(PXz(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX'j(PX(Q(PX(`(PX!g(PX!S(PX'h(PXo(PX!X(PX%`(PX!a(PX~P!1WO!V._Od(ZX~P!-jOd.aO~O!V.bO!g([X~P!3jO!g.eO~O!S.gO~OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#ei^#eik#ei!V#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O#f#ei~P#,uO#f#{O~P#,uOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O(QVOX#ei^#ei!V#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~Ok#ei~P#/gOk#}O~P#/gOP$YOk#}Oy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO(QVO^#ei!V#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P#2XOX$aO!e$PO#k$PO#l$PO#m$`O#n$PO~P#2XOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO(QVO^#ei!V#ei#r#ei#t#ei#u#ei'j#ei(`#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(g#ei~P#5YO(g#yO~P#5YOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO(QVO(g#yO^#ei!V#ei#t#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(h#ei~P#7zO(h#zO~P#7zOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO(QVO(g#yO(h#zO~O^#ei!V#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#:lOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX!VYX!WYX~O#xYX~P#=VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO#u<RO(QVO(`$WO(g#yO(h#zO~O#x.iO~P#?dOP(VXX(VXk(VXy(VXz(VX|(VX!e(VX!f(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!V(VX~O#W<WO#z<WO#n(VX#x(VX!W(VX~P#AbO^'Xa!V'Xa'j'Xa'h'Xa!g'Xa!S'Xao'Xa!X'Xa%`'Xa!a'Xa~P!3jOP#eiX#ei^#eik#eiz#ei!V#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(Q#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#(yO^#yi!V#yi'j#yi'h#yi!S#yi!g#yio#yi!X#yi%`#yi!a#yi~P!3jO$V.nO$X.nO~O$V.oO$X.oO~O!a)[O#W.pO!X$]X$S$]X$V$]X$X$]X$`$]X~O!U.qO~O!X)_O$S.sO$V)^O$X)^O$`.tO~O!V<SO!W(UX~P#?dO!W.uO~O!a)[O$`(iX~O$`.wO~Oq)nO(R)oO(S.zO~Ol.}O!S/OO'uTO'xUO~O!VcX!acX!gcX!g$rX(`cX~P!,aO!g/UO~P#(yO!V/VO!a#rO(`'dO!g(mX~O!g/[O~O!U*PO's%eO!g(mP~O#c/^O~O!S$rX!V$rX!a$yX~P!,aO!V/_O!S(nX~P#(yO!a/aO~O!S/cO~Ok/gO!a#rO!h%ZO'|%OO(`'dO~O's/iO~O!a+OO~O^%^O!V/mO'j%^O~O!W/oO~P!0_O!]/pO!^/pO't!iO(T!jO~O|/rO(T!jO~O#S/sO~O's%|Od'^X!V'^X~O!V*iOd'}a~Od/xO~Oy/yOz/yO|/zOgva(gva(hva!Vva#Wva~Odva#xva~P#M{Oy)sO|)tOg$ka(g$ka(h$ka!V$ka#W$ka~Od$ka#x$ka~P#NqOy)sO|)tOg$ma(g$ma(h$ma!V$ma#W$ma~Od$ma#x$ma~P$ dO#c/|O~Od${a!V${a#W${a#x${a~P!-jO#c0PO~Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!niX!nik!ni!V!ni!e!ni!l!ni#f!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#p!ni#r!ni#t!ni#u!ni(`!ni(g!ni(h!ni~O^!ni'j!ni'h!ni!S!ni!g!nio!ni!X!ni%`!ni!a!ni~P$!qOg.UO!X'QO%`.TO~Oi0WO's0VO~P!.[O!a+OO!X'{a^'{a!V'{a'j'{a~O#c0^O~OXYX!VcX!WcX~O!V0_O!W(uX~O!W0aO~OX0bO~O's+WO'uTO'xUO~O!X%nO's%eO]'fX!V'fX~O!V+]O](ta~O!g0gO~P!3jOX0jO~O]0kO~O!V+iO^(qa'j(qa~O#W0qO~Og0tO!X$yO~O(T(qO!W(rP~Og0}O!X0zO%`0|O'|%OO~OX1XO!V1VO!W(sX~O!W1YO~O]1[O^%^O'j%^O~O's#jO'uTO'xUO~O#W$bO#n1_O#z$bO&Q1`O^(VX~P#AbO#W$bO#n1_O&Q1`O~O^1aO~P%QO^1cO~O&Z1gOP&XiQ&XiV&Xi^&Xia&Xib&Xii&Xik&Xil&Xim&Xis&Xiu&Xiw&Xi|&Xi!Q&Xi!R&Xi!X&Xi!c&Xi!h&Xi!k&Xi!l&Xi!m&Xi!o&Xi!q&Xi!t&Xi!x&Xi#o&Xi$P&Xi$T&Xi%_&Xi%a&Xi%c&Xi%d&Xi%g&Xi%i&Xi%l&Xi%m&Xi%o&Xi%|&Xi&S&Xi&U&Xi&W&Xi&Y&Xi&]&Xi&c&Xi&i&Xi&k&Xi&m&Xi&o&Xi&q&Xi'h&Xi's&Xi'u&Xi'x&Xi(Q&Xi(_&Xi(l&Xi!W&Xi_&Xi&`&Xi~O_1mO!W1kO&`1lO~P`O!XXO!h1oO~O&g,fOP&biQ&biV&bi^&bia&bib&bii&bik&bil&bim&bis&biu&biw&bi|&bi!Q&bi!R&bi!X&bi!c&bi!h&bi!k&bi!l&bi!m&bi!o&bi!q&bi!t&bi!x&bi#o&bi$P&bi$T&bi%_&bi%a&bi%c&bi%d&bi%g&bi%i&bi%l&bi%m&bi%o&bi%|&bi&S&bi&U&bi&W&bi&Y&bi&]&bi&c&bi&i&bi&k&bi&m&bi&o&bi&q&bi'h&bi's&bi'u&bi'x&bi(Q&bi(_&bi(l&bi!W&bi&Z&bi_&bi&`&bi~O!S1uO~O!V!Za!W!Za~P#?dOl!kO|!lO!U1{O(T!jO!V&}X!W&}X~P?cO!V,vO!W(Xa~O!V'TX!W'TX~P!>RO!V,yO!W(fa~O!W2SO~P'TO^%^O#W2]O'j%^O~O^%^O!a#rO#W2]O'j%^O~O^%^O!a#rO!h%ZO!l2aO#W2]O'j%^O'|%OO(`'dO~O!]2bO!^2bO't!iO~PBtO![2eO!]2bO!^2bO#S2fO#T2fO't!iO~PBtO![2eO!]2bO!^2bO#P2gO#S2fO#T2fO't!iO~PBtO^%^O!a#rO!l2aO#W2]O'j%^O(`'dO~O^%^O'j%^O~P!3jO!V$^Oo$ja~O!S&|i!V&|i~P!3jO!V'xO!S(Wi~O!V(PO!S(di~O!S(ei!V(ei~P!3jO!V(]O!g(ai~O!V(bi!g(bi^(bi'j(bi~P!3jO#W2kO!V(bi!g(bi^(bi'j(bi~O|%vO!X%wO!x]O#a2nO#b2mO's%eO~O|%vO!X%wO#b2mO's%eO~Og2uO!X'QO%`2tO~Og2uO!X'QO%`2tO'|%OO~O#cvaPvaXva^vakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva'jva(Qva(`va!gva!Sva'hvaova!Xva%`va!ava~P#M{O#c$kaP$kaX$ka^$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka'j$ka(Q$ka(`$ka!g$ka!S$ka'h$kao$ka!X$ka%`$ka!a$ka~P#NqO#c$maP$maX$ma^$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma'j$ma(Q$ma(`$ma!g$ma!S$ma'h$mao$ma!X$ma%`$ma!a$ma~P$ dO#c${aP${aX${a^${ak${az${a!V${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a'j${a(Q${a(`${a!g${a!S${a'h${a#W${ao${a!X${a%`${a!a${a~P#(yO^#Zq!V#Zq'j#Zq'h#Zq!S#Zq!g#Zqo#Zq!X#Zq%`#Zq!a#Zq~P!3jOd'OX!V'OX~P!$uO!V._Od(Za~O!U2}O!V'PX!g'PX~P%QO!V.bO!g([a~O!V.bO!g([a~P!3jO!S3QO~O#x!ja!W!ja~PI{O#x!ba!V!ba!W!ba~P#?dO#x!na!W!na~P!6TO#x!pa!W!pa~P!8nO!X3dO$TfO$^3eO~O!W3iO~Oo3jO~P#(yO^$gq!V$gq'j$gq'h$gq!S$gq!g$gqo$gq!X$gq%`$gq!a$gq~P!3jO!S3kO~Ol.}O'uTO'xUO~Oy)sO|)tO(h)xOg%Wi(g%Wi!V%Wi#W%Wi~Od%Wi#x%Wi~P$HbOy)sO|)tOg%Yi(g%Yi(h%Yi!V%Yi#W%Yi~Od%Yi#x%Yi~P$ITO(`$WO~P#(yO!U3nO's%eO!V'YX!g'YX~O!V/VO!g(ma~O!V/VO!a#rO!g(ma~O!V/VO!a#rO(`'dO!g(ma~Od$ti!V$ti#W$ti#x$ti~P!-jO!U3vO's*UO!S'[X!V'[X~P!.XO!V/_O!S(na~O!V/_O!S(na~P#(yO!a#rO~O!a#rO#n4OO~Ok4RO!a#rO(`'dO~Od(Oi!V(Oi~P!-jO#W4UOd(Oi!V(Oi~P!-jO!g4XO~O^$hq!V$hq'j$hq'h$hq!S$hq!g$hqo$hq!X$hq%`$hq!a$hq~P!3jO!V4]O!X(oX~P#(yO!f#tO~P3zO!X$rX%TYX^$rX!V$rX'j$rX~P!,aO%T4_OghXyhX|hX!XhX(ghX(hhX^hX!VhX'jhX~O%T4_O~O%a4fO's+WO'uTO'xUO!V'eX!W'eX~O!V0_O!W(ua~OX4jO~O]4kO~O!S4oO~O^%^O'j%^O~P#(yO!X$yO~P#(yO!V4tO#W4vO!W(rX~O!W4wO~Ol!kO|4yO![5WO!]4}O!^4}O!x;oO!|5VO!}5UO#O5UO#P5TO#S5SO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O!W5RO~P%#XOg5]O!X0zO%`5[O~Og5]O!X0zO%`5[O'|%OO~O's#jO!V'dX!W'dX~O!V1VO!W(sa~O'uTO'xUO(T5fO~O]5jO~O!g5mO~P%QO^5oO~O^5oO~P%QO#n5qO&Q5rO~PMPO_1mO!W5vO&`1lO~P`O!a5xO~O!a5zO!V(Yi!W(Yi!a(Yi!h(Yi'|(Yi~O!V#`i!W#`i~P#?dO#W5{O!V#`i!W#`i~O!V!Zi!W!Zi~P#?dO^%^O#W6UO'j%^O~O^%^O!a#rO#W6UO'j%^O~O^%^O!a#rO!l6ZO#W6UO'j%^O(`'dO~O!h%ZO'|%OO~P%(fO!]6[O!^6[O't!iO~PBtO![6_O!]6[O!^6[O#S6`O#T6`O't!iO~PBtO!V(]O!g(aq~O!V(bq!g(bq^(bq'j(bq~P!3jO|%vO!X%wO#b6dO's%eO~O!X'QO%`6gO~Og6jO!X'QO%`6gO~O#c%WiP%WiX%Wi^%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi'j%Wi(Q%Wi(`%Wi!g%Wi!S%Wi'h%Wio%Wi!X%Wi%`%Wi!a%Wi~P$HbO#c%YiP%YiX%Yi^%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi'j%Yi(Q%Yi(`%Yi!g%Yi!S%Yi'h%Yio%Yi!X%Yi%`%Yi!a%Yi~P$ITO#c$tiP$tiX$ti^$tik$tiz$ti!V$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti'j$ti(Q$ti(`$ti!g$ti!S$ti'h$ti#W$tio$ti!X$ti%`$ti!a$ti~P#(yOd'Oa!V'Oa~P!-jO!V'Pa!g'Pa~P!3jO!V.bO!g([i~O#x#Zi!V#Zi!W#Zi~P#?dOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#eik#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~O#f#ei~P%2xO#f;wO~P%2xOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO(QVOX#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~Ok#ei~P%5TOk;yO~P%5TOP$YOk;yOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO(QVO#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P%7`OX<VO!e;{O#k;{O#l;{O#m<UO#n;{O~P%7`OP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O(QVO#r#ei#t#ei#u#ei#x#ei(`#ei(h#ei!V#ei!W#ei~O(g#ei~P%9zO(g#yO~P%9zOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO(QVO(g#yO#t#ei#u#ei#x#ei(`#ei!V#ei!W#ei~O(h#ei~P%<VO(h#zO~P%<VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO(QVO(g#yO(h#zO~O#u#ei#x#ei(`#ei!V#ei!W#ei~P%>bO^#vy!V#vy'j#vy'h#vy!S#vy!g#vyo#vy!X#vy%`#vy!a#vy~P!3jOg=jOy)sO|)tO(g)vO(h)xO~OP#eiX#eik#eiz#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(Q#ei(`#ei!V#ei!W#ei~P%AYO!f#tOP(PXX(PXg(PXk(PXy(PXz(PX|(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX#x(PX(Q(PX(`(PX(g(PX(h(PX!V(PX!W(PX~O#x#yi!V#yi!W#yi~P#?dO#x!ni!W!ni~P$!qO!W6vO~O!V'Xa!W'Xa~P#?dO!a#rO(`'dO!V'Ya!g'Ya~O!V/VO!g(mi~O!V/VO!a#rO!g(mi~Od$tq!V$tq#W$tq#x$tq~P!-jO!S'[a!V'[a~P#(yO!a6}O~O!V/_O!S(ni~P#(yO!V/_O!S(ni~O!S7RO~O!a#rO#n7WO~Ok7XO!a#rO(`'dO~O!S7ZO~Od$vq!V$vq#W$vq#x$vq~P!-jO^$hy!V$hy'j$hy'h$hy!S$hy!g$hyo$hy!X$hy%`$hy!a$hy~P!3jO!V4]O!X(oa~O^#Zy!V#Zy'j#Zy'h#Zy!S#Zy!g#Zyo#Zy!X#Zy%`#Zy!a#Zy~P!3jOX7`O~O!V0_O!W(ui~O]7fO~O!a5zO~O(T(qO!V'aX!W'aX~O!V4tO!W(ra~O!h%ZO'|%OO^(YX!a(YX!l(YX#W(YX'j(YX(`(YX~O's7oO~P.[O!x;oO!|7rO!}7qO#O7qO#P7pO#S'bO#T'bO~PBtO^%^O!a#rO!l'hO#W'fO'j%^O(`'dO~O!W7vO~P%#XOl!kO'uTO'xUO(T!jO(_!nO~O|7wO~P%MdO![7{O!]7zO!^7zO#P7pO#S'bO#T'bO't!iO~PBtO![7{O!]7zO!^7zO!}7|O#O7|O#P7pO#S'bO#T'bO't!iO~PBtO!]7zO!^7zO't!iO(T!jO(_!nO~O!X0zO~O!X0zO%`8OO~Og8RO!X0zO%`8OO~OX8WO!V'da!W'da~O!V1VO!W(si~O!g8[O~O!g8]O~O!g8^O~O!g8^O~P%QO^8`O~O!a8cO~O!g8dO~O!V(ei!W(ei~P#?dO^%^O#W8lO'j%^O~O^%^O!a#rO#W8lO'j%^O~O^%^O!a#rO!l8pO#W8lO'j%^O(`'dO~O!h%ZO'|%OO~P&$QO!]8qO!^8qO't!iO~PBtO!V(]O!g(ay~O!V(by!g(by^(by'j(by~P!3jO!X'QO%`8uO~O#c$tqP$tqX$tq^$tqk$tqz$tq!V$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq'j$tq(Q$tq(`$tq!g$tq!S$tq'h$tq#W$tqo$tq!X$tq%`$tq!a$tq~P#(yO#c$vqP$vqX$vq^$vqk$vqz$vq!V$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq'j$vq(Q$vq(`$vq!g$vq!S$vq'h$vq#W$vqo$vq!X$vq%`$vq!a$vq~P#(yO!V'Pi!g'Pi~P!3jO#x#Zq!V#Zq!W#Zq~P#?dOy/yOz/yO|/zOPvaXvagvakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva#xva(Qva(`va(gva(hva!Vva!Wva~Oy)sO|)tOP$kaX$kag$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka#x$ka(Q$ka(`$ka(g$ka(h$ka!V$ka!W$ka~Oy)sO|)tOP$maX$mag$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma#x$ma(Q$ma(`$ma(g$ma(h$ma!V$ma!W$ma~OP${aX${ak${az${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a#x${a(Q${a(`${a!V${a!W${a~P%AYO#x$gq!V$gq!W$gq~P#?dO#x$hq!V$hq!W$hq~P#?dO!W9PO~O#x9QO~P!-jO!a#rO!V'Yi!g'Yi~O!a#rO(`'dO!V'Yi!g'Yi~O!V/VO!g(mq~O!S'[i!V'[i~P#(yO!V/_O!S(nq~O!S9WO~P#(yO!S9WO~Od(Oy!V(Oy~P!-jO!V'_a!X'_a~P#(yO!X%Sq^%Sq!V%Sq'j%Sq~P#(yOX9]O~O!V0_O!W(uq~O#W9aO!V'aa!W'aa~O!V4tO!W(ri~P#?dOPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!a%QX#n%QX~P&6lO#S-cO#T-cO~PBtO#P9eO#S-cO#T-cO~PBtO!}9fO#O9fO#P9eO#S-cO#T-cO~PBtO!]9iO!^9iO't!iO(T!jO(_!nO~O![9lO!]9iO!^9iO#P9eO#S-cO#T-cO't!iO~PBtO!X0zO%`9oO~O'uTO'xUO(T9tO~O!V1VO!W(sq~O!g9wO~O!g9wO~P%QO!g9yO~O!g9zO~O#W9|O!V#`y!W#`y~O!V#`y!W#`y~P#?dO^%^O#W:QO'j%^O~O^%^O!a#rO#W:QO'j%^O~O^%^O!a#rO!l:UO#W:QO'j%^O(`'dO~O!X'QO%`:XO~O#x#vy!V#vy!W#vy~P#?dOP$tiX$tik$tiz$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti#x$ti(Q$ti(`$ti!V$ti!W$ti~P%AYOy)sO|)tO(h)xOP%WiX%Wig%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi#x%Wi(Q%Wi(`%Wi(g%Wi!V%Wi!W%Wi~Oy)sO|)tOP%YiX%Yig%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi#x%Yi(Q%Yi(`%Yi(g%Yi(h%Yi!V%Yi!W%Yi~O#x$hy!V$hy!W$hy~P#?dO#x#Zy!V#Zy!W#Zy~P#?dO!a#rO!V'Yq!g'Yq~O!V/VO!g(my~O!S'[q!V'[q~P#(yO!S:`O~P#(yO!V0_O!W(uy~O!V4tO!W(rq~O#S2fO#T2fO~PBtO#P:gO#S2fO#T2fO~PBtO!]:kO!^:kO't!iO(T!jO(_!nO~O!X0zO%`:nO~O!g:qO~O^%^O#W:vO'j%^O~O^%^O!a#rO#W:vO'j%^O~O!X'QO%`:{O~OP$tqX$tqk$tqz$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq#x$tq(Q$tq(`$tq!V$tq!W$tq~P%AYOP$vqX$vqk$vqz$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq#x$vq(Q$vq(`$vq!V$vq!W$vq~P%AYOd%[!Z!V%[!Z#W%[!Z#x%[!Z~P!-jO!V'aq!W'aq~P#?dO#S6`O#T6`O~PBtO!V#`!Z!W#`!Z~P#?dO^%^O#W;ZO'j%^O~O#c%[!ZP%[!ZX%[!Z^%[!Zk%[!Zz%[!Z!V%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z'j%[!Z(Q%[!Z(`%[!Z!g%[!Z!S%[!Z'h%[!Z#W%[!Zo%[!Z!X%[!Z%`%[!Z!a%[!Z~P#(yOP%[!ZX%[!Zk%[!Zz%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z#x%[!Z(Q%[!Z(`%[!Z!V%[!Z!W%[!Z~P%AYOo(UX~P1dO't!iO~P!'RO!ScX!VcX#WcX~P&6lOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#WYX#WcX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!acX!gYX!gcX(`cX~P'!sOP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!XXO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~O!V<SO!W$ja~Oi%POk$qOl$pOm$pOs%QOu%ROw<YO|$xO!X$yO!c=dO!h$uO#b<`O$P%VO$l<[O$n<^O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#o)YO~P''iO!WYX!WcX~P'!sO#c;vO~O!a#rO#c;vO~O#W<WO~O#n;{O~O#W<bO!V(eX!W(eX~O#W<WO!V(cX!W(cX~O#c<cO~Od<eO~P!-jO#c<jO~O#c<kO~O!a#rO#c<lO~O!a#rO#c<cO~O#x<mO~P#?dO#c<nO~O#c<oO~O#c<pO~O#c<qO~O#c<rO~O#c<sO~O#x<tO~P!-jO#x<uO~P!-jO$T~!f!|#O#P#S#a#b#m(l$l$n$q%T%_%`%a%g%i%l%m%o%q~'nR$T(l#g!R'l't#hl#f#iky'm(T'm's$V$X$V~",goto:"$/X(yPPPP(zP(}P)_P+a/fPPPP6iPP7OP<|@mPAQPAQPPPAQPBpPAQPAQPAQPBtPPByPCdPH`PPPHdPPPPHdKfPPPKlMlPHdP!!SPPPP!$eHdPPPHdPHdP!&vHdP!*]!+_!+dP!,U!,Y!,UPPPP!/f!1kPP!1t!3OP!+_HdHd!6b!9m!>v!>v!BnPPP!BuHdPPPPPPPPPPP!FTP!GiPPHd!HyPHdPHdHdHdHdPHd!J`PP!MiP#!nP#!r#!|##Q##QP!MfP##U##UP#&ZP#&_HdHd#&e#)iAQPAQPAQAQP#*sAQAQ#,mAQ#.zAQ#0nAQAQ#1[#3W#3W#3[#3d#3W#3lP#3WPAQ#4hAQ#5pAQAQ6iPPP#6{PP#7e#7eP#7eP#7z#7ePP#8QP#7wP#7w#8d!1p#7w#9O#9U6f(}#9X(}P#9`#9`#9`P(}P(}P(}P(}PP(}P#9f#9iP#9i(}P#9mP#9pP(}P(}P(}P(}P(}P(}(}PP#9v#9|#:W#:^#:d#:j#:p#;O#;U#;[#;f#;l#<h#<w#<}#=a#=g#=m#={#>b#?r#@Q#@W#@^#@d#@j#@t#@z#AQ#A[#An#AtPPPPPPPPPP#AzPPPPPPP#Bn#FYP#Gu#G|#HUPPPP#L`$ U$'t$'w$'z$)w$)z$)}$*UPP$*[$*`$+X$,X$,]$,qPP$,u$,{$-PP$-S$-W$-Z$.P$.g$.l$.o$.r$.x$.{$/P$/TR!yRmpOXr!X#a%]&d&f&g&i,^,c1g1jU!pQ'Q-OQ%ctQ%kwQ%rzQ&[!TS&x!c,vQ'W!f[']!m!r!s!t!u!vS*[$y*aQ+U%lQ+c%tQ+}&UQ,|'PQ-W'XW-`'^'_'`'aQ/p*cQ1U,OU2b-b-d-eS4}0z5QS6[2e2gU7z5U5V5WQ8q6_S9i7{7|Q:k9lR<a;r%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;ZS#m];o!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q*l%SQ+Z%nQ,P&XQ,W&aQ.X<XQ0T*|Q0X+OQ0d+[Q1^,UQ2q.UQ4e0_Q5d1VQ6i2uQ6o<YQ7b4fR8x6j'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#S!kQ!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e0z2b2e2f2g4z5Q5S5T5U5V6[6_6`7p7q7r7|8q9e9f:g$Y$pi#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ%uzQ&v!cS&|%w,yQ+Z%nS.})t/PQ/{*pQ0d+[Q0i+bQ1],TQ1^,UQ4e0_Q4n0kQ5g1XQ5h1[Q7b4fQ7e4kQ8Z5jQ9`7fR9u8WpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR,R&]&x`OPXYrstux!X!^!g!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=_=`[#YWZ#T#W&y'vQ%fvQ%jwS%oz%t!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ&Q!RQ'T!eQ'V!fQ(d#oS*O$u*SS+T%k%lQ+X%nQ+x&SQ+|&US-V'W'XQ.W(eQ/Z*PQ0]+UQ0c+[Q0e+]Q0h+aQ1P+yS1T+},OQ2X-WQ3m/VQ4d0_Q4h0bQ4m0jQ5c1UQ6z3nQ7a4fQ7d4jQ9[7`R:b9]v$wi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!`%hw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TQ*}%fQ+n%}Q+q&OQ+{&UQ.V(dQ1O+xU1S+|+},OQ2v.WQ5^1PS5b1T1US7n4x4|Q8V5cU9g7s7x7yU:i9h9j9kQ;R:jQ;a;S!z=a#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg=b<U<V<[<^<`<g<i<k<o<q<uW$|i%O*i=]S%}!O&ZQ&O!PQ&P!QR+l%{$Z${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jT)o$r)pV*m%S<X<YU&|!c%w,yS(r#v#wQ+`%qS.P(`(aQ0u+rQ4V/yR7j4t'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`$o$]c#V#b%a%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.j.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=ST#QV#R'PkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q&z!cR1|,v!z!kQ!c!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e2b2e2f2g4z5S5T6[6_6`7p7q7r8q9e9f:gS*Z$y*aS/h*[*cQ/q*dQ0w+tQ4Q/pQ4T/sS4x0z5QS7s4}5WS7x5U5VS9h7z7{Q9j7|S:j9i9lR;S:klpOXr!X#a%]&d&f&g&i,^,c1g1jQ&k![Q'j!tS(f#q;vQ+R%iQ+v&QQ+w&RQ-T'UQ-g'cS.](k<cS0O*t<lQ0Z+SQ0y+uQ1n,eQ1p,fQ1x,qQ2V-UQ2Y-YS4[0P<rQ4`0[S4c0^<sQ5|1zQ6Q2WQ6V2_Q7_4aQ8g6OQ8h6RQ8k6WQ9{8dQ:P8mQ:u:RR;Y:w$j$[c#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(c#l'ZU*f$z(j3aS*x%a.jQ2r0TQ6f2qQ8w6iR:Y8x$j$Zc#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(b#l'ZS(t#w$[S*w%a.jS.Q(a(cQ.m)UQ0Q*xR2o.R'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S#m];oQ&f!VQ&g!WQ&i!YQ&j!ZR1f,aQ'R!eQ*z%fQ-R'TS.S(d*}Q2T-QW2s.V.W0S0UQ6P2UU6e2p2r2vS8t6f6hS:W8v8wS:y:V:YQ;[:zR;e;]V!qQ'Q-O!_^OQXZ_r!T!X!m#a#d%Z%]&Z&]&d&f&g&i'Q(],^,c-O-z0z1g1j4z5QT#m];o%[yOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS(r#v#wS.P(`(a!s<y$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`U!oQ'Q-OY'[!m!s!t!u!vS'i!p!rW'k!w4z5S5TS-_']'^U-a'_'`'aW-f'b7p7q7rS2`-`-bU2c-c9e9fS2d-d-eS4|0z5QS6Y2b2eS6]2f:gQ6^2gS7s4}5WS7y5U5VS8o6[6_Q8r6`S9h7z7{Q9k7|Q:T8qS:j9i9lR;S:kU!qQ'Q-OT5O0z5QU'h!o4{4|S([#e1dU-^'['k7yQ/Y*OQ/f*ZU2a-a-f9kQ3r/ZS3{/g/qS6Z2c2dQ6y3mS7U4R4TS8p6]6^Q9S6zQ9Z7XR:U8rQ#sbU'g!o4{4|S(Z#e1dQ*u%[Q+P%gQ+V%mW-]'['h'k7yQ-y([Q/X*OQ/e*ZQ/k*^Q0Y+QQ1Q+zW2^-^-a-f9kS3q/Y/ZS3z/f/qQ3}/jQ4P/lQ5`1RU6X2a2c2dQ6x3mQ6|3rS7Q3{4TQ7V4SQ8T5aU8n6Z6]6^S9R6y6zQ9V7RQ9X7UQ9c7mQ9r8US:S8p8rQ:^9SQ:_9WQ:a9ZQ:f9dQ:p9sQ:x:UQ:}:`Q;P:hQ;_;QQ;h;`Q;l;iQ<|<wQ=X=QR=Y=R%[aOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS#sx!g!r<v$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<|=_%[bOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZQ%[j!`%gw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TS%mx!gQ+Q%hQ+z&UW1R+{+|+},OU5a1S1T1US7m4x4|S8U5b5cW9d7n7s7x7yQ9s8VW:h9g9h9j9kS;Q:i:jS;`;R;SQ;i;a!r<w$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q=Q=^R=R=_%OeOPXYrstu!X!^!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZY#_WZ#T#W'v!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ,X&a!p<x$X$j)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<{&yS&}!c%wR2O,y%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;Z!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q,W&aQ0T*|Q2q.UQ6i2uR8x6j!l$Rc#V%a'u'{(g(n(})O)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!T;})S)e,t.j1v1y3R3Z3[3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!h$Tc#V%a'u'{(g(n)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!P<P)S)e,t.j1v1y3R3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!d$Xc#V%a'u'{(g(n)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;pQ3l/Tz=`)S)e,t.j1v1y3R3b3h5}6n6s6t7l8f8y8}9O:d:r=SQ=e=gR=f=h'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S$kh$lR3e.p'VgOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$gf$mQ$efS)^$h)bR)j$mT$ff$mT)`$h)b'VhOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$kh$lQ$nhR)i$l%[jOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;Z!s=^$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#alOPXZr!X!^!l#P#a#k#x$j%]&]&`&a&d&f&g&i&m&u'S(s)g*|+h,Y,^,c-S.U.q/z0}1_1`1a1c1g1j1l2u3d4y5]5o5q5r6j7w8R8`v$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jQ*q%WQ.|)sg3a<U<V<[<^<`<g<i<k<o<q<uv$vi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=fQ*T$wS*^$y*aQ*r%XQ/l*_!z=O#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jf=P<U<V<[<^<`<g<i<k<o<q<uQ=T=aQ=U=bQ=V=cR=W=dv$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg3a<U<V<[<^<`<g<i<k<o<q<ulnOXr!X#a%]&d&f&g&i,^,c1g1jQ*W$xQ,l&pQ,m&rR3u/_$Y${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ+o&OQ0s+qQ4r0rR7i4sT*`$y*aS*`$y*aT5P0z5QS/j*]4yT4S/r7wQ+P%gQ/k*^Q0Y+QQ1Q+zQ5`1RQ8T5aQ9c7mQ9r8UQ:f9dQ:p9sQ;P:hQ;_;QQ;h;`R;l;in)w$s(l*s/]/t/u2z3s4Y6w7Y:]<}=Z=[!W<f(h)X)}*V.[.x/T/b0R0p0r2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h]<g3`6r8z:Z:[;fp)y$s(l*s/R/]/t/u2z3s4Y6w7Y:]<}=Z=[!Y<h(h)X)}*V.[.x/T/b0R0p0r2w2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h_<i3`6r8z8{:Z:[;fpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ&W!SR,Y&apmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR&W!SQ+s&PR0o+lqmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ0{+xS5Z1O1PU7}5X5Y5^S9n8P8QS:l9m9pQ;T:mR;b;UQ&_!TR,S&ZR5g1XS%oz%tR0e+]Q&d!UR,^&eR,d&jT1h,c1jR,h&kQ,g&kR1q,hQ'm!xR-i'mQrOQ#aXT%`r#aQ!{TR'o!{Q#OUR'q#OQ)p$rR.y)pQ#RVR's#RQ#UWU'y#U'z-pQ'z#VR-p'{Q,w&zR1},wQ.`(lR2{.`Q.c(nS3O.c3PR3P.dQ-O'QR2R-Or_OXr!T!X#a%]&Z&]&d&f&g&i,^,c1g1jU!mQ'Q-OS#dZ%ZY#n_!m#d-z4zQ-z(]T4z0z5QS#[W%vU(Q#[(R-qQ(R#]R-q'|Q,z&}R2P,zQ(^#gQ-t(VW.O(^-t2h6aQ2h-uR6a2iQ)b$hR.r)bQ$lhR)h$lQ$_cU)W$_-l<TQ-l;pR<T)eQ/W*OW3o/W3p6{9TU3p/X/Y/ZS6{3q3rR9T6|#m)u$s(h(l)X)}*V*n*o*s.Y.Z.[.x/R/S/T/]/b/t/u0R0p0r2w2x2y2z3`3s3t3x4Y4q4s6k6l6p6q6r6w7O7S7Y7[7^8z8{8|9U9Y:Z:[:]:|;f<}=Z=[=g=hQ/`*VU3w/`3y7PQ3y/bR7P3xQ*a$yR/n*aQ*j$}R/w*jQ4^0RR7]4^Q+j%yR0n+jQ4u0uS7k4u9bR9b7lQ+u&QR0x+uQ5Q0zR7u5QQ1W,PS5e1W8XR8X5gQ0`+XW4g0`4i7c9^Q4i0cQ7c4hR9^7dQ+^%oR0f+^Q1j,cR5u1jWqOXr#aQ&h!XQ*v%]Q,]&dQ,_&fQ,`&gQ,b&iQ1e,^S1h,c1jR5t1gQ%_oQ&l!]Q&o!_Q&q!`Q&s!aU'e!o4{4|Q+e%uQ+k%zQ,R&_Q,j&nY-Z'['g'h'k7yQ/m*`S1Z,S,VQ1r,iQ1s,lQ1t,m[2[-]-^-a-f-h9kQ4l0iQ4p0pQ5_1QQ5i1]Q5s1fY6S2Z2^2a2c2dQ7g4nQ7h4qQ7t5PQ8S5`Q8Y5hY8i6T6X6Z6]6^Q9_7eQ9q8TQ9v8ZW9}8j8n8p8rQ:c9`Q:e9cQ:o9rU:s:O:S:UQ;O:fQ;V:pS;W:t:xQ;^;PQ;c;XQ;g;_Q;j;dQ;k;hR;m;lQ%iwQ'U!fQ'c!oU+S%j%k%lQ,q&wU-U'V'W'XS-Y'['iQ/d*ZS0[+T+UQ1z,sS2W-V-WS2_-_-aQ3|/hQ4a0]Q6O2QQ6R2XS6W2`2dQ7T4QS8m6Y6^Q:R8oR:w:TS$ti=]R*k%OU$}i%O=]R/v*iQ$siS(h#r+OQ(l#tS)X$`$aQ)}$uQ*V$xQ*n%TQ*o%UQ*s%YQ.Y<ZQ.Z<]Q.[<_Q.x)nQ/R)wQ/S)yQ/T)zQ/]*RQ/b*XQ/t*gQ/u*hh0R*{.T0|2t5[6g8O8u9o:X:n:{Q0p+mQ0r+pQ2w<fQ2x<hQ2y<jQ2z._S3`<U<VQ3s/^Q3t/_Q3x/aQ4Y/|Q4q0qQ4s0tQ6k<nQ6l<pQ6p<[Q6q<^Q6r<`Q6w3lQ7O3vQ7S4OQ7Y4UQ7[4]Q7^4_Q8z<kQ8{<gQ8|<iQ9U6}Q9Y7WQ:Z<oQ:[<qQ:]9QQ:|<tQ;f<uQ<}=]Q=Z=eQ=[=fQ=g=iR=h=jloOXr!X#a%]&d&f&g&i,^,c1g1jQ!dPS#cZ#kQ&n!^U'Y!l4y7wQ'r#PQ(u#xQ)f$jS,V&]&`Q,Z&aQ,i&mQ,n&uQ-Q'SQ.f(sQ.v)gQ0U*|Q0l+hQ1b,YQ2U-SQ2r.UQ3g.qQ4W/zQ5Y0}Q5k1_Q5l1`Q5n1aQ5p1cQ5w1lQ6f2uQ6u3dQ8Q5]Q8_5oQ8a5qQ8b5rQ8w6jQ9p8RR9x8`#UcOPXZr!X!^!l#a#k#x%]&]&`&a&d&f&g&i&m&u'S(s*|+h,Y,^,c-S.U/z0}1_1`1a1c1g1j1l2u4y5]5o5q5r6j7w8R8`Q#VWQ#bYQ%asQ%btQ%duS'u#T'xQ'{#WQ(g#qQ(n#uQ(v#{Q(w#|Q(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)S$XQ)V$^Q)Z$bW)e$j)g.q3dQ*y%cQ+_%pS,t&y1{Q-h'fS-m'v-oQ-r(OQ-w(YQ.^(kQ.d(oQ.h;nQ.j;qQ.k;rQ.l;sQ.{)rQ/}*tQ1v,oQ1y,rQ2Z-[Q2j-xQ2|.bQ3R;vQ3S;wQ3T;xQ3U;yQ3V;zQ3W;{Q3X;|Q3Y;}Q3Z<OQ3[<PQ3]<QQ3^<RQ3_.iQ3b<WQ3c<aQ3h<SQ4Z0PQ4b0^Q5}<bQ6T2]Q6b2kQ6m2}Q6n<cQ6s<eQ6t<lQ7l4vQ8f5{Q8j6UQ8y<mQ8}<rQ9O<sQ:O8lQ:d9aQ:r9|Q:t:QQ;X:vQ;d;ZQ;p#PR=S=`R#XWR&{!cU!oQ'Q-OS&w!c,vY'[!m!s!t!u!vS'i!p!r['k!w4z5S5T5U5VS,s&x'PS-_']'^U-a'_'`'aY-f'b7p7q7r7|Q2Q,|S2`-`-bU2c-c9e9fS2d-d-eS4{0z5QS6Y2b2eS6]2f:gQ6^2gS8o6[6_Q8r6`R:T8qR(m#tR(p#uQ!dQT,}'Q-OQ#l]R'Z;oT#hZ%ZS#gZ%ZU%y|},[U(V#d#f#iS-u(W(XQ-|(]Q0m+iQ2i-vU2l-z-{-}S6c2m2nR8s6d`#ZW#T#W%v'v(P+f-st#eZ|}#d#f#i%Z(W(X(]+i-v-z-{-}2m2n6dQ1d,[Q1w,pQ5y1oQ8e5zT<z&y+gT#^W%vS#]W%vS'w#T(PS'|#W+fS,u&y+gT-n'v-sT'O!c%wQ$hfR)l$mT)a$h)bR3f.pT*Q$u*SR*Y$xQ0S*{Q2p.TQ5X0|Q6h2tQ8P5[Q8v6gQ9m8OQ:V8uQ:m9oQ:z:XQ;U:nR;]:{lpOXr!X#a%]&d&f&g&i,^,c1g1jQ&^!TR,R&ZV%z|},[R0v+rR,Q&XQ%szR+d%tR+Y%nT&b!U&eT&c!U&eT1i,c1j",nodeNames:" ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:362,context:_D,nodeProps:[["group",-26,6,14,16,62,198,202,205,206,208,211,214,225,227,233,235,237,239,242,248,254,256,258,260,262,264,265,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,102,103,112,113,130,133,135,136,137,138,140,141,161,162,164,"Expression",-23,24,26,30,34,36,38,165,167,169,170,172,173,174,176,177,178,180,181,182,192,194,196,197,"Type",-3,84,95,101,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",142,"JSXStartTag",154,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",143,"JSXSelfCloseEndTag JSXEndTag",159,"JSXEndTag"]],propSources:[QD],skippedNodes:[0,3,4,268],repeatNodeCount:32,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$c&j'vp'y!b'l(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'w#S$c&j'm(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$c&j'vp'y!b'm(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$c&j!l$Ip'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'u$(n$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$c&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$^#t$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$^#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$^#t$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$^#t'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$c&j(_!L^'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$c&j'vp'y!b(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$c&j'vp'y!b$V#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$c&j'vp'y!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$c&j#z$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(h%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$c&j#t$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'x$)`$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$c&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$^#t$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'vpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$^#t'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$c&j'vp'y!b't#)d#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$c&j'vp'y!b#f$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$c&j'vp'y!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$c&j'vp'y!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$c&j'vp'y!b#g$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$c&j'y!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$c&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$c&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$c&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$c&j'y!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'y!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'y!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'y!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$c&j'y!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$c&j'vp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$c&j'vp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'vp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'vp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'vpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$c&j'vpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$c&j'vp'y!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'vp'y!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'vp'y!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'vp'y!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$c&j'vp'y!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$c&j'vp'y!b'n(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$c&j'vp'y!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$c&j'y!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$c&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'y!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$c&j'vpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'vpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'vp'y!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$c&j#z$Id'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$S#t$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$c&j#x%<f'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'|!*v!e'.r'vp'y!b$T)d(lSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$e&j'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#j$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#z$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#k$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#W%?x$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#c$Ih$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#k$Id$`#|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#k$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(`$Ip$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$c&j#u$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$c&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$c&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$c&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$c&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$c&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#r$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$c&j'vp'y!b(Q&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$c&j'vp'y!b(T!LY's&;d$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$c&j'vp'y!b$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(g%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$c&j'vp'y!b'l(;d(T!LY's&;d$V#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$c&j'vp'y!b'm(;d(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[kD,ED,2,3,4,5,6,7,8,9,10,11,12,13,AD,new kO("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(S~~",141,325),new kO("j~RQYZXz{^~^O'p~~aP!P!Qd~iO'q~~",25,307)],topRules:{Script:[0,5],SingleExpression:[1,266],SingleClassItem:[2,267]},dialects:{jsx:13213,ts:13215},dynamicPrecedences:{76:1,78:1,162:1,190:1},specialized:[{term:311,get:r=>ND[r]||-1},{term:327,get:r=>ID[r]||-1},{term:67,get:r=>RD[r]||-1}],tokenPrec:13238}),BD=[gi("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),gi("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),gi("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),gi("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),gi("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),gi(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),gi("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),gi(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),gi(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),gi('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),gi('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],AS=new rz,T2=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Fl(r){return(e,t)=>{let n=e.node.getChild("VariableDefinition");return n&&t(n,r),!0}}const zD=["FunctionDeclaration"],FD={FunctionDeclaration:Fl("function"),ClassDeclaration:Fl("class"),ClassExpression:()=>!0,EnumDeclaration:Fl("constant"),TypeAliasDeclaration:Fl("type"),NamespaceDeclaration:Fl("namespace"),VariableDefinition(r,e){r.matchContext(zD)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function P2(r,e){let t=AS.get(e);if(t)return t;let n=[],i=!0;function s(o,a){let l=r.sliceString(o.from,o.to);n.push({label:l,type:a})}return e.cursor(Fr.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=FD[o.name];if(a&&a(o,s)||T2.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of P2(r,o.node))n.push(a);return!1}}),AS.set(e,n),n}const kS=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,_2=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function DD(r){let e=Rr(r.state).resolveInner(r.pos,-1);if(_2.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&kS.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let n=[];for(let i=e;i;i=i.parent)T2.has(i.name)&&(n=n.concat(P2(r.state.doc,i)));return{options:n,from:t?e.from:r.pos,validFor:kS}}const Yo=qh.define({name:"javascript",parser:MD.configure({props:[r_.add({IfStatement:nm({except:/^\s*({|else\b)/}),TryStatement:nm({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:wz,SwitchBody:r=>{let e=r.textAfter,t=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return r.baseIndent+(t?0:n?1:2)*r.unit},Block:vz({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":nm({except:/^{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),s_.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Pz,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),A2={test:r=>/^JSX/.test(r.name),facet:e_({commentTokens:{block:{open:"{/*",close:"*/}"}}})},UD=Yo.configure({dialect:"ts"},"typescript"),qD=Yo.configure({dialect:"jsx",props:[ay.add(r=>r.isTop?[A2]:void 0)]}),LD=Yo.configure({dialect:"jsx ts",props:[ay.add(r=>r.isTop?[A2]:void 0)]},"typescript"),jD="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(r=>({label:r,type:"keyword"}));function VD(r={}){let e=r.jsx?r.typescript?LD:qD:r.typescript?UD:Yo;return new pz(e,[Yo.data.of({autocomplete:DF(_2,o2(BD.concat(jD)))}),Yo.data.of({autocomplete:DD}),r.jsx?XD:[]])}function ZD(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(!r.parent)return null;r=r.parent}}function ES(r,e,t=r.length){for(let n=e==null?void 0:e.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return r.sliceString(n.from,Math.min(n.to,t));return""}const WD=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),XD=Be.inputHandler.of((r,e,t,n)=>{if((WD?r.composing:r.compositionStarted)||r.state.readOnly||e!=t||n!=">"&&n!="/"||!Yo.isActiveAt(r.state,e,-1))return!1;let{state:i}=r,s=i.changeByRange(o=>{var a,l;let{head:c}=o,u=Rr(i).resolveInner(c,-1),f;if(u.name=="JSXStartTag"&&(u=u.parent),n==">"&&u.name=="JSXFragmentTag")return{range:oe.cursor(c+1),changes:{from:c,insert:"></>"}};if(n=="/"&&u.name=="JSXFragmentTag"){let d=u.parent,g=d==null?void 0:d.parent;if(d.from==c-1&&((a=g.lastChild)===null||a===void 0?void 0:a.name)!="JSXEndTag"&&(f=ES(i.doc,g==null?void 0:g.firstChild,c))){let y=`/${f}>`;return{range:oe.cursor(c+y.length),changes:{from:c,insert:y}}}}else if(n==">"){let d=ZD(u);if(d&&((l=d.lastChild)===null||l===void 0?void 0:l.name)!="JSXEndTag"&&i.sliceDoc(c,c+2)!="</"&&(f=ES(i.doc,d,c)))return{range:oe.cursor(c+1),changes:{from:c,insert:`></${f}>`}}}return{range:o}});return s.changes.empty?!1:(r.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)});var YD=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mm=Math.ceil,Fi=Math.floor,_n="[BigNumber Error] ",QS=_n+"Number primitive has more than 15 significant digits: ",yi=1e14,lt=14,gm=9007199254740991,Om=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Rs=1e7,Br=1e9;function k2(r){var e,t,n,i=_.prototype={constructor:_,toString:null,valueOf:null},s=new _(1),o=20,a=4,l=-7,c=21,u=-1e7,f=1e7,d=!1,g=1,y=0,T={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz",U=!0;function _(S,b){var $,M,Q,L,W,N,I,z,B=this;if(!(B instanceof _))return new _(S,b);if(b==null){if(S&&S._isBigNumber===!0){B.s=S.s,!S.c||S.e>f?B.c=B.e=null:S.e<u?B.c=[B.e=0]:(B.e=S.e,B.c=S.c.slice());return}if((N=typeof S=="number")&&S*0==0){if(B.s=1/S<0?(S=-S,-1):1,S===~~S){for(L=0,W=S;W>=10;W/=10,L++);L>f?B.c=B.e=null:(B.e=L,B.c=[S]);return}z=String(S)}else{if(!YD.test(z=String(S)))return n(B,z,N);B.s=z.charCodeAt(0)==45?(z=z.slice(1),-1):1}(L=z.indexOf("."))>-1&&(z=z.replace(".","")),(W=z.search(/e/i))>0?(L<0&&(L=W),L+=+z.slice(W+1),z=z.substring(0,W)):L<0&&(L=z.length)}else{if(tr(b,2,k.length,"Base"),b==10&&U)return B=new _(S),ee(B,o+B.e+1,a);if(z=String(S),N=typeof S=="number"){if(S*0!=0)return n(B,z,N,b);if(B.s=1/S<0?(z=z.slice(1),-1):1,_.DEBUG&&z.replace(/^0\.0*|\./,"").length>15)throw Error(QS+S)}else B.s=z.charCodeAt(0)===45?(z=z.slice(1),-1):1;for($=k.slice(0,b),L=W=0,I=z.length;W<I;W++)if($.indexOf(M=z.charAt(W))<0){if(M=="."){if(W>L){L=I;continue}}else if(!Q&&(z==z.toUpperCase()&&(z=z.toLowerCase())||z==z.toLowerCase()&&(z=z.toUpperCase()))){Q=!0,W=-1,L=0;continue}return n(B,String(S),N,b)}N=!1,z=t(z,b,10,B.s),(L=z.indexOf("."))>-1?z=z.replace(".",""):L=z.length}for(W=0;z.charCodeAt(W)===48;W++);for(I=z.length;z.charCodeAt(--I)===48;);if(z=z.slice(W,++I)){if(I-=W,N&&_.DEBUG&&I>15&&(S>gm||S!==Fi(S)))throw Error(QS+B.s*S);if((L=L-W-1)>f)B.c=B.e=null;else if(L<u)B.c=[B.e=0];else{if(B.e=L,B.c=[],W=(L+1)%lt,L<0&&(W+=lt),W<I){for(W&&B.c.push(+z.slice(0,W)),I-=lt;W<I;)B.c.push(+z.slice(W,W+=lt));W=lt-(z=z.slice(W)).length}else W-=I;for(;W--;z+="0");B.c.push(+z)}}else B.c=[B.e=0]}_.clone=k2,_.ROUND_UP=0,_.ROUND_DOWN=1,_.ROUND_CEIL=2,_.ROUND_FLOOR=3,_.ROUND_HALF_UP=4,_.ROUND_HALF_DOWN=5,_.ROUND_HALF_EVEN=6,_.ROUND_HALF_CEIL=7,_.ROUND_HALF_FLOOR=8,_.EUCLID=9,_.config=_.set=function(S){var b,$;if(S!=null)if(typeof S=="object"){if(S.hasOwnProperty(b="DECIMAL_PLACES")&&($=S[b],tr($,0,Br,b),o=$),S.hasOwnProperty(b="ROUNDING_MODE")&&($=S[b],tr($,0,8,b),a=$),S.hasOwnProperty(b="EXPONENTIAL_AT")&&($=S[b],$&&$.pop?(tr($[0],-Br,0,b),tr($[1],0,Br,b),l=$[0],c=$[1]):(tr($,-Br,Br,b),l=-(c=$<0?-$:$))),S.hasOwnProperty(b="RANGE"))if($=S[b],$&&$.pop)tr($[0],-Br,-1,b),tr($[1],1,Br,b),u=$[0],f=$[1];else if(tr($,-Br,Br,b),$)u=-(f=$<0?-$:$);else throw Error(_n+b+" cannot be zero: "+$);if(S.hasOwnProperty(b="CRYPTO"))if($=S[b],$===!!$)if($)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))d=$;else throw d=!$,Error(_n+"crypto unavailable");else d=$;else throw Error(_n+b+" not true or false: "+$);if(S.hasOwnProperty(b="MODULO_MODE")&&($=S[b],tr($,0,9,b),g=$),S.hasOwnProperty(b="POW_PRECISION")&&($=S[b],tr($,0,Br,b),y=$),S.hasOwnProperty(b="FORMAT"))if($=S[b],typeof $=="object")T=$;else throw Error(_n+b+" not an object: "+$);if(S.hasOwnProperty(b="ALPHABET"))if($=S[b],typeof $=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test($))U=$.slice(0,10)=="0123456789",k=$;else throw Error(_n+b+" invalid: "+$)}else throw Error(_n+"Object expected: "+S);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[l,c],RANGE:[u,f],CRYPTO:d,MODULO_MODE:g,POW_PRECISION:y,FORMAT:T,ALPHABET:k}},_.isBigNumber=function(S){if(!S||S._isBigNumber!==!0)return!1;if(!_.DEBUG)return!0;var b,$,M=S.c,Q=S.e,L=S.s;e:if({}.toString.call(M)=="[object Array]"){if((L===1||L===-1)&&Q>=-Br&&Q<=Br&&Q===Fi(Q)){if(M[0]===0){if(Q===0&&M.length===1)return!0;break e}if(b=(Q+1)%lt,b<1&&(b+=lt),String(M[0]).length==b){for(b=0;b<M.length;b++)if($=M[b],$<0||$>=yi||$!==Fi($))break e;if($!==0)return!0}}}else if(M===null&&Q===null&&(L===null||L===1||L===-1))return!0;throw Error(_n+"Invalid BigNumber: "+S)},_.maximum=_.max=function(){return D(arguments,i.lt)},_.minimum=_.min=function(){return D(arguments,i.gt)},_.random=function(){var S=9007199254740992,b=Math.random()*S&2097151?function(){return Fi(Math.random()*S)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function($){var M,Q,L,W,N,I=0,z=[],B=new _(s);if($==null?$=o:tr($,0,Br),W=mm($/lt),d)if(crypto.getRandomValues){for(M=crypto.getRandomValues(new Uint32Array(W*=2));I<W;)N=M[I]*131072+(M[I+1]>>>11),N>=9e15?(Q=crypto.getRandomValues(new Uint32Array(2)),M[I]=Q[0],M[I+1]=Q[1]):(z.push(N%1e14),I+=2);I=W/2}else if(crypto.randomBytes){for(M=crypto.randomBytes(W*=7);I<W;)N=(M[I]&31)*281474976710656+M[I+1]*1099511627776+M[I+2]*4294967296+M[I+3]*16777216+(M[I+4]<<16)+(M[I+5]<<8)+M[I+6],N>=9e15?crypto.randomBytes(7).copy(M,I):(z.push(N%1e14),I+=7);I=W/7}else throw d=!1,Error(_n+"crypto unavailable");if(!d)for(;I<W;)N=b(),N<9e15&&(z[I++]=N%1e14);for(W=z[--I],$%=lt,W&&$&&(N=Om[lt-$],z[I]=Fi(W/N)*N);z[I]===0;z.pop(),I--);if(I<0)z=[L=0];else{for(L=-1;z[0]===0;z.splice(0,1),L-=lt);for(I=1,N=z[0];N>=10;N/=10,I++);I<lt&&(L-=lt-I)}return B.e=L,B.c=z,B}}(),_.sum=function(){for(var S=1,b=arguments,$=new _(b[0]);S<b.length;)$=$.plus(b[S++]);return $},t=function(){var S="0123456789";function b($,M,Q,L){for(var W,N=[0],I,z=0,B=$.length;z<B;){for(I=N.length;I--;N[I]*=M);for(N[0]+=L.indexOf($.charAt(z++)),W=0;W<N.length;W++)N[W]>Q-1&&(N[W+1]==null&&(N[W+1]=0),N[W+1]+=N[W]/Q|0,N[W]%=Q)}return N.reverse()}return function($,M,Q,L,W){var N,I,z,B,J,$e,Se,Ie,We=$.indexOf("."),dt=o,Te=a;for(We>=0&&(B=y,y=0,$=$.replace(".",""),Ie=new _(M),$e=Ie.pow($.length-We),y=B,Ie.c=b(hs(ti($e.c),$e.e,"0"),10,Q,S),Ie.e=Ie.c.length),Se=b($,M,Q,W?(N=k,S):(N=S,k)),z=B=Se.length;Se[--B]==0;Se.pop());if(!Se[0])return N.charAt(0);if(We<0?--z:($e.c=Se,$e.e=z,$e.s=L,$e=e($e,Ie,dt,Te,Q),Se=$e.c,J=$e.r,z=$e.e),I=z+dt+1,We=Se[I],B=Q/2,J=J||I<0||Se[I+1]!=null,J=Te<4?(We!=null||J)&&(Te==0||Te==($e.s<0?3:2)):We>B||We==B&&(Te==4||J||Te==6&&Se[I-1]&1||Te==($e.s<0?8:7)),I<1||!Se[0])$=J?hs(N.charAt(1),-dt,N.charAt(0)):N.charAt(0);else{if(Se.length=I,J)for(--Q;++Se[--I]>Q;)Se[I]=0,I||(++z,Se=[1].concat(Se));for(B=Se.length;!Se[--B];);for(We=0,$="";We<=B;$+=N.charAt(Se[We++]));$=hs($,z,N.charAt(0))}return $}}(),e=function(){function S(M,Q,L){var W,N,I,z,B=0,J=M.length,$e=Q%Rs,Se=Q/Rs|0;for(M=M.slice();J--;)I=M[J]%Rs,z=M[J]/Rs|0,W=Se*I+z*$e,N=$e*I+W%Rs*Rs+B,B=(N/L|0)+(W/Rs|0)+Se*z,M[J]=N%L;return B&&(M=[B].concat(M)),M}function b(M,Q,L,W){var N,I;if(L!=W)I=L>W?1:-1;else for(N=I=0;N<L;N++)if(M[N]!=Q[N]){I=M[N]>Q[N]?1:-1;break}return I}function $(M,Q,L,W){for(var N=0;L--;)M[L]-=N,N=M[L]<Q[L]?1:0,M[L]=N*W+M[L]-Q[L];for(;!M[0]&&M.length>1;M.splice(0,1));}return function(M,Q,L,W,N){var I,z,B,J,$e,Se,Ie,We,dt,Te,Je,Nt,Pr,dn,Mr,_r,qr,A=M.s==Q.s?1:-1,R=M.c,H=Q.c;if(!R||!R[0]||!H||!H[0])return new _(!M.s||!Q.s||(R?H&&R[0]==H[0]:!H)?NaN:R&&R[0]==0||!H?A*0:A/0);for(We=new _(A),dt=We.c=[],z=M.e-Q.e,A=L+z+1,N||(N=yi,z=ri(M.e/lt)-ri(Q.e/lt),A=A/lt|0),B=0;H[B]==(R[B]||0);B++);if(H[B]>(R[B]||0)&&z--,A<0)dt.push(1),J=!0;else{for(dn=R.length,_r=H.length,B=0,A+=2,$e=Fi(N/(H[0]+1)),$e>1&&(H=S(H,$e,N),R=S(R,$e,N),_r=H.length,dn=R.length),Pr=_r,Te=R.slice(0,_r),Je=Te.length;Je<_r;Te[Je++]=0);qr=H.slice(),qr=[0].concat(qr),Mr=H[0],H[1]>=N/2&&Mr++;do{if($e=0,I=b(H,Te,_r,Je),I<0){if(Nt=Te[0],_r!=Je&&(Nt=Nt*N+(Te[1]||0)),$e=Fi(Nt/Mr),$e>1)for($e>=N&&($e=N-1),Se=S(H,$e,N),Ie=Se.length,Je=Te.length;b(Se,Te,Ie,Je)==1;)$e--,$(Se,_r<Ie?qr:H,Ie,N),Ie=Se.length,I=1;else $e==0&&(I=$e=1),Se=H.slice(),Ie=Se.length;if(Ie<Je&&(Se=[0].concat(Se)),$(Te,Se,Je,N),Je=Te.length,I==-1)for(;b(H,Te,_r,Je)<1;)$e++,$(Te,_r<Je?qr:H,Je,N),Je=Te.length}else I===0&&($e++,Te=[0]);dt[B++]=$e,Te[0]?Te[Je++]=R[Pr]||0:(Te=[R[Pr]],Je=1)}while((Pr++<dn||Te[0]!=null)&&A--);J=Te[0]!=null,dt[0]||dt.splice(0,1)}if(N==yi){for(B=1,A=dt[0];A>=10;A/=10,B++);ee(We,L+(We.e=B+z*lt-1)+1,W,J)}else We.e=z,We.r=+J;return We}}();function G(S,b,$,M){var Q,L,W,N,I;if($==null?$=a:tr($,0,8),!S.c)return S.toString();if(Q=S.c[0],W=S.e,b==null)I=ti(S.c),I=M==1||M==2&&(W<=l||W>=c)?cf(I,W):hs(I,W,"0");else if(S=ee(new _(S),b,$),L=S.e,I=ti(S.c),N=I.length,M==1||M==2&&(b<=L||L<=l)){for(;N<b;I+="0",N++);I=cf(I,L)}else if(b-=W,I=hs(I,L,"0"),L+1>N){if(--b>0)for(I+=".";b--;I+="0");}else if(b+=L-N,b>0)for(L+1==N&&(I+=".");b--;I+="0");return S.s<0&&Q?"-"+I:I}function D(S,b){for(var $,M=1,Q=new _(S[0]);M<S.length;M++)if($=new _(S[M]),$.s)b.call(Q,$)&&(Q=$);else{Q=$;break}return Q}function Y(S,b,$){for(var M=1,Q=b.length;!b[--Q];b.pop());for(Q=b[0];Q>=10;Q/=10,M++);return($=M+$*lt-1)>f?S.c=S.e=null:$<u?S.c=[S.e=0]:(S.e=$,S.c=b),S}n=function(){var S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,$=/^\.([^.]+)$/,M=/^-?(Infinity|NaN)$/,Q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(L,W,N,I){var z,B=N?W:W.replace(Q,"");if(M.test(B))L.s=isNaN(B)?null:B<0?-1:1;else{if(!N&&(B=B.replace(S,function(J,$e,Se){return z=(Se=Se.toLowerCase())=="x"?16:Se=="b"?2:8,!I||I==z?$e:J}),I&&(z=I,B=B.replace(b,"$1").replace($,"0.$1")),W!=B))return new _(B,z);if(_.DEBUG)throw Error(_n+"Not a"+(I?" base "+I:"")+" number: "+W);L.s=null}L.c=L.e=null}}();function ee(S,b,$,M){var Q,L,W,N,I,z,B,J=S.c,$e=Om;if(J){e:{for(Q=1,N=J[0];N>=10;N/=10,Q++);if(L=b-Q,L<0)L+=lt,W=b,I=J[z=0],B=I/$e[Q-W-1]%10|0;else if(z=mm((L+1)/lt),z>=J.length)if(M){for(;J.length<=z;J.push(0));I=B=0,Q=1,L%=lt,W=L-lt+1}else break e;else{for(I=N=J[z],Q=1;N>=10;N/=10,Q++);L%=lt,W=L-lt+Q,B=W<0?0:I/$e[Q-W-1]%10|0}if(M=M||b<0||J[z+1]!=null||(W<0?I:I%$e[Q-W-1]),M=$<4?(B||M)&&($==0||$==(S.s<0?3:2)):B>5||B==5&&($==4||M||$==6&&(L>0?W>0?I/$e[Q-W]:0:J[z-1])%10&1||$==(S.s<0?8:7)),b<1||!J[0])return J.length=0,M?(b-=S.e+1,J[0]=$e[(lt-b%lt)%lt],S.e=-b||0):J[0]=S.e=0,S;if(L==0?(J.length=z,N=1,z--):(J.length=z+1,N=$e[lt-L],J[z]=W>0?Fi(I/$e[Q-W]%$e[W])*N:0),M)for(;;)if(z==0){for(L=1,W=J[0];W>=10;W/=10,L++);for(W=J[0]+=N,N=1;W>=10;W/=10,N++);L!=N&&(S.e++,J[0]==yi&&(J[0]=1));break}else{if(J[z]+=N,J[z]!=yi)break;J[z--]=0,N=1}for(L=J.length;J[--L]===0;J.pop());}S.e>f?S.c=S.e=null:S.e<u&&(S.c=[S.e=0])}return S}function re(S){var b,$=S.e;return $===null?S.toString():(b=ti(S.c),b=$<=l||$>=c?cf(b,$):hs(b,$,"0"),S.s<0?"-"+b:b)}return i.absoluteValue=i.abs=function(){var S=new _(this);return S.s<0&&(S.s=1),S},i.comparedTo=function(S,b){return ba(this,new _(S,b))},i.decimalPlaces=i.dp=function(S,b){var $,M,Q,L=this;if(S!=null)return tr(S,0,Br),b==null?b=a:tr(b,0,8),ee(new _(L),S+L.e+1,b);if(!($=L.c))return null;if(M=((Q=$.length-1)-ri(this.e/lt))*lt,Q=$[Q])for(;Q%10==0;Q/=10,M--);return M<0&&(M=0),M},i.dividedBy=i.div=function(S,b){return e(this,new _(S,b),o,a)},i.dividedToIntegerBy=i.idiv=function(S,b){return e(this,new _(S,b),0,1)},i.exponentiatedBy=i.pow=function(S,b){var $,M,Q,L,W,N,I,z,B,J=this;if(S=new _(S),S.c&&!S.isInteger())throw Error(_n+"Exponent not an integer: "+re(S));if(b!=null&&(b=new _(b)),N=S.e>14,!J.c||!J.c[0]||J.c[0]==1&&!J.e&&J.c.length==1||!S.c||!S.c[0])return B=new _(Math.pow(+re(J),N?S.s*(2-lf(S)):+re(S))),b?B.mod(b):B;if(I=S.s<0,b){if(b.c?!b.c[0]:!b.s)return new _(NaN);M=!I&&J.isInteger()&&b.isInteger(),M&&(J=J.mod(b))}else{if(S.e>9&&(J.e>0||J.e<-1||(J.e==0?J.c[0]>1||N&&J.c[1]>=24e7:J.c[0]<8e13||N&&J.c[0]<=9999975e7)))return L=J.s<0&&lf(S)?-0:0,J.e>-1&&(L=1/L),new _(I?1/L:L);y&&(L=mm(y/lt+2))}for(N?($=new _(.5),I&&(S.s=1),z=lf(S)):(Q=Math.abs(+re(S)),z=Q%2),B=new _(s);;){if(z){if(B=B.times(J),!B.c)break;L?B.c.length>L&&(B.c.length=L):M&&(B=B.mod(b))}if(Q){if(Q=Fi(Q/2),Q===0)break;z=Q%2}else if(S=S.times($),ee(S,S.e+1,1),S.e>14)z=lf(S);else{if(Q=+re(S),Q===0)break;z=Q%2}J=J.times(J),L?J.c&&J.c.length>L&&(J.c.length=L):M&&(J=J.mod(b))}return M?B:(I&&(B=s.div(B)),b?B.mod(b):L?ee(B,y,a,W):B)},i.integerValue=function(S){var b=new _(this);return S==null?S=a:tr(S,0,8),ee(b,b.e+1,S)},i.isEqualTo=i.eq=function(S,b){return ba(this,new _(S,b))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(S,b){return ba(this,new _(S,b))>0},i.isGreaterThanOrEqualTo=i.gte=function(S,b){return(b=ba(this,new _(S,b)))===1||b===0},i.isInteger=function(){return!!this.c&&ri(this.e/lt)>this.c.length-2},i.isLessThan=i.lt=function(S,b){return ba(this,new _(S,b))<0},i.isLessThanOrEqualTo=i.lte=function(S,b){return(b=ba(this,new _(S,b)))===-1||b===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(S,b){var $,M,Q,L,W=this,N=W.s;if(S=new _(S,b),b=S.s,!N||!b)return new _(NaN);if(N!=b)return S.s=-b,W.plus(S);var I=W.e/lt,z=S.e/lt,B=W.c,J=S.c;if(!I||!z){if(!B||!J)return B?(S.s=-b,S):new _(J?W:NaN);if(!B[0]||!J[0])return J[0]?(S.s=-b,S):new _(B[0]?W:a==3?-0:0)}if(I=ri(I),z=ri(z),B=B.slice(),N=I-z){for((L=N<0)?(N=-N,Q=B):(z=I,Q=J),Q.reverse(),b=N;b--;Q.push(0));Q.reverse()}else for(M=(L=(N=B.length)<(b=J.length))?N:b,N=b=0;b<M;b++)if(B[b]!=J[b]){L=B[b]<J[b];break}if(L&&(Q=B,B=J,J=Q,S.s=-S.s),b=(M=J.length)-($=B.length),b>0)for(;b--;B[$++]=0);for(b=yi-1;M>N;){if(B[--M]<J[M]){for($=M;$&&!B[--$];B[$]=b);--B[$],B[M]+=yi}B[M]-=J[M]}for(;B[0]==0;B.splice(0,1),--z);return B[0]?Y(S,B,z):(S.s=a==3?-1:1,S.c=[S.e=0],S)},i.modulo=i.mod=function(S,b){var $,M,Q=this;return S=new _(S,b),!Q.c||!S.s||S.c&&!S.c[0]?new _(NaN):!S.c||Q.c&&!Q.c[0]?new _(Q):(g==9?(M=S.s,S.s=1,$=e(Q,S,0,3),S.s=M,$.s*=M):$=e(Q,S,0,g),S=Q.minus($.times(S)),!S.c[0]&&g==1&&(S.s=Q.s),S)},i.multipliedBy=i.times=function(S,b){var $,M,Q,L,W,N,I,z,B,J,$e,Se,Ie,We,dt,Te=this,Je=Te.c,Nt=(S=new _(S,b)).c;if(!Je||!Nt||!Je[0]||!Nt[0])return!Te.s||!S.s||Je&&!Je[0]&&!Nt||Nt&&!Nt[0]&&!Je?S.c=S.e=S.s=null:(S.s*=Te.s,!Je||!Nt?S.c=S.e=null:(S.c=[0],S.e=0)),S;for(M=ri(Te.e/lt)+ri(S.e/lt),S.s*=Te.s,I=Je.length,J=Nt.length,I<J&&(Ie=Je,Je=Nt,Nt=Ie,Q=I,I=J,J=Q),Q=I+J,Ie=[];Q--;Ie.push(0));for(We=yi,dt=Rs,Q=J;--Q>=0;){for($=0,$e=Nt[Q]%dt,Se=Nt[Q]/dt|0,W=I,L=Q+W;L>Q;)z=Je[--W]%dt,B=Je[W]/dt|0,N=Se*z+B*$e,z=$e*z+N%dt*dt+Ie[L]+$,$=(z/We|0)+(N/dt|0)+Se*B,Ie[L--]=z%We;Ie[L]=$}return $?++M:Ie.splice(0,1),Y(S,Ie,M)},i.negated=function(){var S=new _(this);return S.s=-S.s||null,S},i.plus=function(S,b){var $,M=this,Q=M.s;if(S=new _(S,b),b=S.s,!Q||!b)return new _(NaN);if(Q!=b)return S.s=-b,M.minus(S);var L=M.e/lt,W=S.e/lt,N=M.c,I=S.c;if(!L||!W){if(!N||!I)return new _(Q/0);if(!N[0]||!I[0])return I[0]?S:new _(N[0]?M:Q*0)}if(L=ri(L),W=ri(W),N=N.slice(),Q=L-W){for(Q>0?(W=L,$=I):(Q=-Q,$=N),$.reverse();Q--;$.push(0));$.reverse()}for(Q=N.length,b=I.length,Q-b<0&&($=I,I=N,N=$,b=Q),Q=0;b;)Q=(N[--b]=N[b]+I[b]+Q)/yi|0,N[b]=yi===N[b]?0:N[b]%yi;return Q&&(N=[Q].concat(N),++W),Y(S,N,W)},i.precision=i.sd=function(S,b){var $,M,Q,L=this;if(S!=null&&S!==!!S)return tr(S,1,Br),b==null?b=a:tr(b,0,8),ee(new _(L),S,b);if(!($=L.c))return null;if(Q=$.length-1,M=Q*lt+1,Q=$[Q]){for(;Q%10==0;Q/=10,M--);for(Q=$[0];Q>=10;Q/=10,M++);}return S&&L.e+1>M&&(M=L.e+1),M},i.shiftedBy=function(S){return tr(S,-gm,gm),this.times("1e"+S)},i.squareRoot=i.sqrt=function(){var S,b,$,M,Q,L=this,W=L.c,N=L.s,I=L.e,z=o+4,B=new _("0.5");if(N!==1||!W||!W[0])return new _(!N||N<0&&(!W||W[0])?NaN:W?L:1/0);if(N=Math.sqrt(+re(L)),N==0||N==1/0?(b=ti(W),(b.length+I)%2==0&&(b+="0"),N=Math.sqrt(+b),I=ri((I+1)/2)-(I<0||I%2),N==1/0?b="5e"+I:(b=N.toExponential(),b=b.slice(0,b.indexOf("e")+1)+I),$=new _(b)):$=new _(N+""),$.c[0]){for(I=$.e,N=I+z,N<3&&(N=0);;)if(Q=$,$=B.times(Q.plus(e(L,Q,z,1))),ti(Q.c).slice(0,N)===(b=ti($.c)).slice(0,N))if($.e<I&&--N,b=b.slice(N-3,N+1),b=="9999"||!M&&b=="4999"){if(!M&&(ee(Q,Q.e+o+2,0),Q.times(Q).eq(L))){$=Q;break}z+=4,N+=4,M=1}else{(!+b||!+b.slice(1)&&b.charAt(0)=="5")&&(ee($,$.e+o+2,1),S=!$.times($).eq(L));break}}return ee($,$.e+o+1,a,S)},i.toExponential=function(S,b){return S!=null&&(tr(S,0,Br),S++),G(this,S,b,1)},i.toFixed=function(S,b){return S!=null&&(tr(S,0,Br),S=S+this.e+1),G(this,S,b)},i.toFormat=function(S,b,$){var M,Q=this;if($==null)S!=null&&b&&typeof b=="object"?($=b,b=null):S&&typeof S=="object"?($=S,S=b=null):$=T;else if(typeof $!="object")throw Error(_n+"Argument not an object: "+$);if(M=Q.toFixed(S,b),Q.c){var L,W=M.split("."),N=+$.groupSize,I=+$.secondaryGroupSize,z=$.groupSeparator||"",B=W[0],J=W[1],$e=Q.s<0,Se=$e?B.slice(1):B,Ie=Se.length;if(I&&(L=N,N=I,I=L,Ie-=L),N>0&&Ie>0){for(L=Ie%N||N,B=Se.substr(0,L);L<Ie;L+=N)B+=z+Se.substr(L,N);I>0&&(B+=z+Se.slice(L)),$e&&(B="-"+B)}M=J?B+($.decimalSeparator||"")+((I=+$.fractionGroupSize)?J.replace(new RegExp("\\d{"+I+"}\\B","g"),"$&"+($.fractionGroupSeparator||"")):J):B}return($.prefix||"")+M+($.suffix||"")},i.toFraction=function(S){var b,$,M,Q,L,W,N,I,z,B,J,$e,Se=this,Ie=Se.c;if(S!=null&&(N=new _(S),!N.isInteger()&&(N.c||N.s!==1)||N.lt(s)))throw Error(_n+"Argument "+(N.isInteger()?"out of range: ":"not an integer: ")+re(N));if(!Ie)return new _(Se);for(b=new _(s),z=$=new _(s),M=I=new _(s),$e=ti(Ie),L=b.e=$e.length-Se.e-1,b.c[0]=Om[(W=L%lt)<0?lt+W:W],S=!S||N.comparedTo(b)>0?L>0?b:z:N,W=f,f=1/0,N=new _($e),I.c[0]=0;B=e(N,b,0,1),Q=$.plus(B.times(M)),Q.comparedTo(S)!=1;)$=M,M=Q,z=I.plus(B.times(Q=z)),I=Q,b=N.minus(B.times(Q=b)),N=Q;return Q=e(S.minus($),M,0,1),I=I.plus(Q.times(z)),$=$.plus(Q.times(M)),I.s=z.s=Se.s,L=L*2,J=e(z,M,L,a).minus(Se).abs().comparedTo(e(I,$,L,a).minus(Se).abs())<1?[z,M]:[I,$],f=W,J},i.toNumber=function(){return+re(this)},i.toPrecision=function(S,b){return S!=null&&tr(S,1,Br),G(this,S,b,2)},i.toString=function(S){var b,$=this,M=$.s,Q=$.e;return Q===null?M?(b="Infinity",M<0&&(b="-"+b)):b="NaN":(S==null?b=Q<=l||Q>=c?cf(ti($.c),Q):hs(ti($.c),Q,"0"):S===10&&U?($=ee(new _($),o+Q+1,a),b=hs(ti($.c),$.e,"0")):(tr(S,2,k.length,"Base"),b=t(hs(ti($.c),Q,"0"),10,S,M,!0)),M<0&&$.c[0]&&(b="-"+b)),b},i.valueOf=i.toJSON=function(){return re(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,r!=null&&_.set(r),_}function ri(r){var e=r|0;return r>0||r===e?e:e-1}function ti(r){for(var e,t,n=1,i=r.length,s=r[0]+"";n<i;){for(e=r[n++]+"",t=lt-e.length;t--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function ba(r,e){var t,n,i=r.c,s=e.c,o=r.s,a=e.s,l=r.e,c=e.e;if(!o||!a)return null;if(t=i&&!i[0],n=s&&!s[0],t||n)return t?n?0:-a:o;if(o!=a)return o;if(t=o<0,n=l==c,!i||!s)return n?0:!i^t?1:-1;if(!n)return l>c^t?1:-1;for(a=(l=i.length)<(c=s.length)?l:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^t?1:-1;return l==c?0:l>c^t?1:-1}function tr(r,e,t,n){if(r<e||r>t||r!==Fi(r))throw Error(_n+(n||"Argument")+(typeof r=="number"?r<e||r>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function lf(r){var e=r.c.length-1;return ri(r.e/lt)==e&&r.c[e]%2!=0}function cf(r,e){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(e<0?"e":"e+")+e}function hs(r,e,t){var n,i;if(e<0){for(i=t+".";++e;i+=t);r=i+r}else if(n=r.length,++e>n){for(i=t,e-=n;--e;i+=t);r+=i}else e<n&&(r=r.slice(0,e)+"."+r.slice(e));return r}var Ir=k2();const GD=r=>typeof r=="bigint"?!0:["number","object","string"].includes(typeof r)&&(!isNaN(r)||Number.isInteger(r)||Ir.isBigNumber(r));class Tr extends Error{constructor(e){super(e),this.name="BaseError"}}class HD extends Tr{constructor(e){super(e),this.name="AccountError"}}class Py extends Tr{constructor(e){super(e),this.name="AensError"}}class tp extends Tr{constructor(e){super(e),this.name="AeppError"}}let E2=class extends Tr{constructor(e){super(e),this.name="CompilerError"}};class Gn extends Tr{constructor(e){super(e),this.name="ContractError"}}class vl extends Tr{constructor(e){super(e),this.name="CryptographyError"}}class Q2 extends Tr{constructor(e){super(e),this.name="NodeError"}}class is extends Tr{constructor(e){super(e),this.name="TransactionError"}}class _y extends Tr{constructor(e){super(e),this.name="WalletError"}}class Dt extends Tr{constructor(e,t,n){super(`${e} should be ${t}, got ${n} instead`),this.name="ArgumentError"}}class Vr extends vl{constructor(e){super(e),this.name="IllegalArgumentError"}}class KD extends Tr{constructor(){super("Byte serialization not supported"),this.name="NoSerializerFoundError"}}class JD extends Tr{constructor(e){super(`Giving up at height ${e}`),this.name="RequestTimedOutError"}}class e4 extends Tr{constructor(e,t){super([`Giving up after ${e} blocks mined`,`transaction hash: ${t}`].join(", ")),this.name="TxTimedOutError"}}let sd=class extends Tr{constructor(e){super(e),this.name="TypeError"}};class t4 extends Tr{constructor(e){super(e),this.name="UnsupportedPlatformError"}}class r4 extends Tr{constructor(e){super(e),this.name="UnsupportedProtocolError"}}class pl extends Tr{constructor(e){super(e),this.name="NotImplementedError"}}class n4 extends Tr{constructor(e,t,n,i){super(`Unsupported ${e} version ${t}. Supported: >= ${n} < ${i}`),this.name="UnsupportedVersionError"}}let Xn=class extends Tr{constructor(e){super(e),this.name="InternalError"}};class fu extends Xn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Expected to not happen, required for TS";super(e),this.name="UnexpectedTsError"}}class ym extends HD{constructor(e){super(`Account for ${e} not available`),this.name="UnavailableAccountError"}}class i4 extends Py{constructor(e,t){super(`Name ${e} don't have pointers for ${t}`),this.name="AensPointerContextError"}}class s4 extends Py{constructor(e,t){super(`the provided fee ${e.toString()} is not enough to execute the claim, required: ${t.toString()}`),this.name="InsufficientNameFeeError"}}class o4 extends Py{constructor(e){super(e),this.name="InvalidAensNameError"}}class a4 extends tp{constructor(e){super(`Received invalid message: ${e}`),this.name="InvalidRpcMessageError"}}class l4 extends tp{constructor(e){super(`Can't find callback for this messageId ${e}`),this.name="MissingCallbackError"}}class c4 extends tp{constructor(e){super(`You do not have access to account ${e}`),this.name="UnAuthorizedAccountError"}}class u4 extends tp{constructor(){super("You are not subscribed for an account."),this.name="UnsubscribedAccountError"}}class f4 extends Gn{constructor(e){super(`Contract ${e} do not correspond to the bytecode deployed on the chain`),this.name="BytecodeMismatchError"}}class h4 extends Gn{constructor(){super("Contract already deployed"),this.name="DuplicateContractError"}}class d4 extends Gn{constructor(e){super(`Contract with address ${e} not active`),this.name="InactiveContractError"}}class p4 extends Gn{constructor(e){super(e),this.name="InvalidMethodInvocationError"}}class uf extends Gn{constructor(e){super(e),this.name="MissingContractAddressError"}}class m4 extends Gn{constructor(){super("Either ACI or sourceCode or sourceCodePath is required"),this.name="MissingContractDefError"}}class g4 extends Gn{constructor(){super("Function name is required"),this.name="MissingFunctionNameError"}}class O4 extends Gn{constructor(e,t){super(`Invocation failed${e==null?"":`: "${e}"`}`),this.name="NodeInvocationError",this.transaction=t}}class y4 extends Gn{constructor(e){super(`Function ${e} doesn't exist in contract`),this.name="NoSuchContractFunctionError"}}class x4 extends Gn{constructor(e,t){super(`You try to pay "${e}" to function "${t}" which is not payable. Only payable function can accept coins`),this.name="NotPayableFunctionError"}}class N2 extends Gn{constructor(e,t){super(`Can't find definition of ${e} event emitted by ${t} (use omitUnknown option to ignore events like this)`),this.name="MissingEventDefinitionError"}}class b4 extends Gn{constructor(e,t){super(`Found multiple definitions of "${t[0][1]}" event with different types emitted by ${e} in ${t.map(n=>{let[i]=n;return`"${i}"`}).join(", ")} contracts (use contractAddressToName option to specify contract name corresponding to address)`),this.name="AmbiguousEventDefinitionError"}}class S4 extends vl{constructor(){super("Invalid checksum"),this.name="InvalidChecksumError"}}class v4 extends vl{constructor(){super("Node hash is not equal to provided one"),this.name="MerkleTreeHashMismatchError"}}class NS extends vl{constructor(e){super(e),this.name="MissingNodeInTreeError"}}class w4 extends vl{constructor(e){super(`Unknown node length: ${e}`),this.name="UnknownNodeLengthError"}}class $4 extends vl{constructor(e){super(`Unknown path nibble: ${e}`),this.name="UnknownPathNibbleError"}}class C4 extends Q2{constructor(e){super(`Node with name ${e} already exist`),this.name="DuplicateNodeError"}}class IS extends Q2{constructor(e){super(e),this.name="NodeNotFoundError"}}class EO extends is{constructor(e){super(e),this.name="DecodeError"}}class T4 extends is{constructor(e){super(e),this.name="PayloadLengthError"}}class P4 extends is{constructor(e){super(e),this.name="DryRunError"}}class _4 extends is{constructor(e){super(`Prefix for id-tag ${e} not found.`),this.name="PrefixNotFoundError"}}class RS extends is{constructor(e,t){super(`Transaction schema not implemented for tag ${e} version ${t}`),this.name="SchemaNotFoundError"}}class A4 extends is{constructor(e){super(`Id tag for prefix ${e} not found.`),this.name="DecodeError"}}class k4 extends is{constructor(e){super(`Transaction ${e} is removed from chain`),this.name="TxNotInChainError"}}class I2 extends _y{constructor(e){super(e),this.name="AlreadyConnectedError"}}class Ay extends _y{constructor(e){super(e),this.name="NoWalletConnectedError"}}class R2 extends _y{constructor(e){super(e),this.name="RpcConnectionError"}}let mn;(function(r){r.AE="ae",r.MILI_AE="miliAE",r.MICRO_AE="microAE",r.NANO_AE="nanoAE",r.PICO_AE="picoAE",r.FEMTO_AE="femtoAE",r.AETTOS="aettos"})(mn||(mn={}));const MS={[mn.AE]:0,[mn.MILI_AE]:-3,[mn.MICRO_AE]:-6,[mn.NANO_AE]:-9,[mn.PICO_AE]:-12,[mn.FEMTO_AE]:-15,[mn.AETTOS]:-18},ky=(r,e)=>{let{denomination:t=mn.AETTOS,targetDenomination:n=mn.AETTOS}=e;if(!GD(r))throw new Dt("value","a number",r);return new Ir(typeof r=="bigint"?r.toString():r).shiftedBy(MS[t]-MS[n]).toFixed()},BS=function(r){let{denomination:e=mn.AETTOS}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ky(r,{denomination:e,targetDenomination:mn.AE})};var zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function E4(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var ur={},np={};np.byteLength=I4;np.toByteArray=M4;np.fromByteArray=F4;var Vi=[],ii=[],Q4=typeof Uint8Array<"u"?Uint8Array:Array,xm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Sa=0,N4=xm.length;Sa<N4;++Sa)Vi[Sa]=xm[Sa],ii[xm.charCodeAt(Sa)]=Sa;ii["-".charCodeAt(0)]=62;ii["_".charCodeAt(0)]=63;function M2(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function I4(r){var e=M2(r),t=e[0],n=e[1];return(t+n)*3/4-n}function R4(r,e,t){return(e+t)*3/4-t}function M4(r){var e,t=M2(r),n=t[0],i=t[1],s=new Q4(R4(r,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)e=ii[r.charCodeAt(l)]<<18|ii[r.charCodeAt(l+1)]<<12|ii[r.charCodeAt(l+2)]<<6|ii[r.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ii[r.charCodeAt(l)]<<2|ii[r.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=ii[r.charCodeAt(l)]<<10|ii[r.charCodeAt(l+1)]<<4|ii[r.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function B4(r){return Vi[r>>18&63]+Vi[r>>12&63]+Vi[r>>6&63]+Vi[r&63]}function z4(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(B4(n));return i.join("")}function F4(r){for(var e,t=r.length,n=t%3,i=[],s=16383,o=0,a=t-n;o<a;o+=s)i.push(z4(r,o,o+s>a?a:o+s));return n===1?(e=r[t-1],i.push(Vi[e>>2]+Vi[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Vi[e>>10]+Vi[e>>4&63]+Vi[e<<2&63]+"=")),i.join("")}var Ey={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ey.read=function(r,e,t,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,f=t?i-1:0,d=t?-1:1,g=r[e+f];for(f+=d,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+r[e+f],f+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+r[e+f],f+=d,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(g?-1:1)*o*Math.pow(2,s-n)};Ey.write=function(r,e,t,n,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:s-1,y=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=d/l:e+=d*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;r[t+g]=a&255,g+=y,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;r[t+g]=o&255,g+=y,o/=256,c-=8);r[t+g-y]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=np,t=Ey,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const x=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(x,p),x.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(x){if(x>i)throw new RangeError('The value "'+x+'" is invalid for option "size"');const p=new Uint8Array(x);return Object.setPrototypeOf(p,a.prototype),p}function a(x,p,m){if(typeof x=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(x)}return l(x,p,m)}a.poolSize=8192;function l(x,p,m){if(typeof x=="string")return d(x,p);if(ArrayBuffer.isView(x))return y(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(ae(x,ArrayBuffer)||x&&ae(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(x,SharedArrayBuffer)||x&&ae(x.buffer,SharedArrayBuffer)))return T(x,p,m);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=x.valueOf&&x.valueOf();if(P!=null&&P!==x)return a.from(P,p,m);const F=k(x);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return a.from(x[Symbol.toPrimitive]("string"),p,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}a.from=function(x,p,m){return l(x,p,m)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function u(x,p,m){return c(x),x<=0?o(x):p!==void 0?typeof m=="string"?o(x).fill(p,m):o(x).fill(p):o(x)}a.alloc=function(x,p,m){return u(x,p,m)};function f(x){return c(x),o(x<0?0:U(x)|0)}a.allocUnsafe=function(x){return f(x)},a.allocUnsafeSlow=function(x){return f(x)};function d(x,p){if((typeof p!="string"||p==="")&&(p="utf8"),!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const m=G(x,p)|0;let P=o(m);const F=P.write(x,p);return F!==m&&(P=P.slice(0,F)),P}function g(x){const p=x.length<0?0:U(x.length)|0,m=o(p);for(let P=0;P<p;P+=1)m[P]=x[P]&255;return m}function y(x){if(ae(x,Uint8Array)){const p=new Uint8Array(x);return T(p.buffer,p.byteOffset,p.byteLength)}return g(x)}function T(x,p,m){if(p<0||x.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<p+(m||0))throw new RangeError('"length" is outside of buffer bounds');let P;return p===void 0&&m===void 0?P=new Uint8Array(x):m===void 0?P=new Uint8Array(x,p):P=new Uint8Array(x,p,m),Object.setPrototypeOf(P,a.prototype),P}function k(x){if(a.isBuffer(x)){const p=U(x.length)|0,m=o(p);return m.length===0||x.copy(m,0,0,p),m}if(x.length!==void 0)return typeof x.length!="number"||Ne(x.length)?o(0):g(x);if(x.type==="Buffer"&&Array.isArray(x.data))return g(x.data)}function U(x){if(x>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return x|0}function _(x){return+x!=x&&(x=0),a.alloc(+x)}a.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype},a.compare=function(p,m){if(ae(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),ae(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(p)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===m)return 0;let P=p.length,F=m.length;for(let K=0,ie=Math.min(P,F);K<ie;++K)if(p[K]!==m[K]){P=p[K],F=m[K];break}return P<F?-1:F<P?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,m){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);let P;if(m===void 0)for(m=0,P=0;P<p.length;++P)m+=p[P].length;const F=a.allocUnsafe(m);let K=0;for(P=0;P<p.length;++P){let ie=p[P];if(ae(ie,Uint8Array))K+ie.length>F.length?(a.isBuffer(ie)||(ie=a.from(ie)),ie.copy(F,K)):Uint8Array.prototype.set.call(F,ie,K);else if(a.isBuffer(ie))ie.copy(F,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=ie.length}return F};function G(x,p){if(a.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||ae(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const m=x.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&m===0)return 0;let F=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return se(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return me(x).length;default:if(F)return P?-1:se(x).length;p=(""+p).toLowerCase(),F=!0}}a.byteLength=G;function D(x,p,m){let P=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,p>>>=0,m<=p))return"";for(x||(x="utf8");;)switch(x){case"hex":return J(this,p,m);case"utf8":case"utf-8":return W(this,p,m);case"ascii":return z(this,p,m);case"latin1":case"binary":return B(this,p,m);case"base64":return L(this,p,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,p,m);default:if(P)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),P=!0}}a.prototype._isBuffer=!0;function Y(x,p,m){const P=x[p];x[p]=x[m],x[m]=P}a.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<p;m+=2)Y(this,m,m+1);return this},a.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<p;m+=4)Y(this,m,m+3),Y(this,m+1,m+2);return this},a.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<p;m+=8)Y(this,m,m+7),Y(this,m+1,m+6),Y(this,m+2,m+5),Y(this,m+3,m+4);return this},a.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?W(this,0,p):D.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){let p="";const m=r.INSPECT_MAX_BYTES;return p=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(p+=" ... "),"<Buffer "+p+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(p,m,P,F,K){if(ae(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(m===void 0&&(m=0),P===void 0&&(P=p?p.length:0),F===void 0&&(F=0),K===void 0&&(K=this.length),m<0||P>p.length||F<0||K>this.length)throw new RangeError("out of range index");if(F>=K&&m>=P)return 0;if(F>=K)return-1;if(m>=P)return 1;if(m>>>=0,P>>>=0,F>>>=0,K>>>=0,this===p)return 0;let ie=K-F,Ye=P-m;const It=Math.min(ie,Ye),et=this.slice(F,K),yt=p.slice(m,P);for(let vt=0;vt<It;++vt)if(et[vt]!==yt[vt]){ie=et[vt],Ye=yt[vt];break}return ie<Ye?-1:Ye<ie?1:0};function ee(x,p,m,P,F){if(x.length===0)return-1;if(typeof m=="string"?(P=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Ne(m)&&(m=F?0:x.length-1),m<0&&(m=x.length+m),m>=x.length){if(F)return-1;m=x.length-1}else if(m<0)if(F)m=0;else return-1;if(typeof p=="string"&&(p=a.from(p,P)),a.isBuffer(p))return p.length===0?-1:re(x,p,m,P,F);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(x,p,m):Uint8Array.prototype.lastIndexOf.call(x,p,m):re(x,[p],m,P,F);throw new TypeError("val must be string, number or Buffer")}function re(x,p,m,P,F){let K=1,ie=x.length,Ye=p.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(x.length<2||p.length<2)return-1;K=2,ie/=2,Ye/=2,m/=2}function It(yt,vt){return K===1?yt[vt]:yt.readUInt16BE(vt*K)}let et;if(F){let yt=-1;for(et=m;et<ie;et++)if(It(x,et)===It(p,yt===-1?0:et-yt)){if(yt===-1&&(yt=et),et-yt+1===Ye)return yt*K}else yt!==-1&&(et-=et-yt),yt=-1}else for(m+Ye>ie&&(m=ie-Ye),et=m;et>=0;et--){let yt=!0;for(let vt=0;vt<Ye;vt++)if(It(x,et+vt)!==It(p,vt)){yt=!1;break}if(yt)return et}return-1}a.prototype.includes=function(p,m,P){return this.indexOf(p,m,P)!==-1},a.prototype.indexOf=function(p,m,P){return ee(this,p,m,P,!0)},a.prototype.lastIndexOf=function(p,m,P){return ee(this,p,m,P,!1)};function S(x,p,m,P){m=Number(m)||0;const F=x.length-m;P?(P=Number(P),P>F&&(P=F)):P=F;const K=p.length;P>K/2&&(P=K/2);let ie;for(ie=0;ie<P;++ie){const Ye=parseInt(p.substr(ie*2,2),16);if(Ne(Ye))return ie;x[m+ie]=Ye}return ie}function b(x,p,m,P){return xe(se(p,x.length-m),x,m,P)}function $(x,p,m,P){return xe(ye(p),x,m,P)}function M(x,p,m,P){return xe(me(p),x,m,P)}function Q(x,p,m,P){return xe(ve(p,x.length-m),x,m,P)}a.prototype.write=function(p,m,P,F){if(m===void 0)F="utf8",P=this.length,m=0;else if(P===void 0&&typeof m=="string")F=m,P=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(P)?(P=P>>>0,F===void 0&&(F="utf8")):(F=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const K=this.length-m;if((P===void 0||P>K)&&(P=K),p.length>0&&(P<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let ie=!1;for(;;)switch(F){case"hex":return S(this,p,m,P);case"utf8":case"utf-8":return b(this,p,m,P);case"ascii":case"latin1":case"binary":return $(this,p,m,P);case"base64":return M(this,p,m,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,p,m,P);default:if(ie)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),ie=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(x,p,m){return p===0&&m===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(p,m))}function W(x,p,m){m=Math.min(x.length,m);const P=[];let F=p;for(;F<m;){const K=x[F];let ie=null,Ye=K>239?4:K>223?3:K>191?2:1;if(F+Ye<=m){let It,et,yt,vt;switch(Ye){case 1:K<128&&(ie=K);break;case 2:It=x[F+1],(It&192)===128&&(vt=(K&31)<<6|It&63,vt>127&&(ie=vt));break;case 3:It=x[F+1],et=x[F+2],(It&192)===128&&(et&192)===128&&(vt=(K&15)<<12|(It&63)<<6|et&63,vt>2047&&(vt<55296||vt>57343)&&(ie=vt));break;case 4:It=x[F+1],et=x[F+2],yt=x[F+3],(It&192)===128&&(et&192)===128&&(yt&192)===128&&(vt=(K&15)<<18|(It&63)<<12|(et&63)<<6|yt&63,vt>65535&&vt<1114112&&(ie=vt))}}ie===null?(ie=65533,Ye=1):ie>65535&&(ie-=65536,P.push(ie>>>10&1023|55296),ie=56320|ie&1023),P.push(ie),F+=Ye}return I(P)}const N=4096;function I(x){const p=x.length;if(p<=N)return String.fromCharCode.apply(String,x);let m="",P=0;for(;P<p;)m+=String.fromCharCode.apply(String,x.slice(P,P+=N));return m}function z(x,p,m){let P="";m=Math.min(x.length,m);for(let F=p;F<m;++F)P+=String.fromCharCode(x[F]&127);return P}function B(x,p,m){let P="";m=Math.min(x.length,m);for(let F=p;F<m;++F)P+=String.fromCharCode(x[F]);return P}function J(x,p,m){const P=x.length;(!p||p<0)&&(p=0),(!m||m<0||m>P)&&(m=P);let F="";for(let K=p;K<m;++K)F+=ke[x[K]];return F}function $e(x,p,m){const P=x.slice(p,m);let F="";for(let K=0;K<P.length-1;K+=2)F+=String.fromCharCode(P[K]+P[K+1]*256);return F}a.prototype.slice=function(p,m){const P=this.length;p=~~p,m=m===void 0?P:~~m,p<0?(p+=P,p<0&&(p=0)):p>P&&(p=P),m<0?(m+=P,m<0&&(m=0)):m>P&&(m=P),m<p&&(m=p);const F=this.subarray(p,m);return Object.setPrototypeOf(F,a.prototype),F};function Se(x,p,m){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+p>m)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(p,m,P){p=p>>>0,m=m>>>0,P||Se(p,m,this.length);let F=this[p],K=1,ie=0;for(;++ie<m&&(K*=256);)F+=this[p+ie]*K;return F},a.prototype.readUintBE=a.prototype.readUIntBE=function(p,m,P){p=p>>>0,m=m>>>0,P||Se(p,m,this.length);let F=this[p+--m],K=1;for(;m>0&&(K*=256);)F+=this[p+--m]*K;return F},a.prototype.readUint8=a.prototype.readUInt8=function(p,m){return p=p>>>0,m||Se(p,1,this.length),this[p]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(p,m){return p=p>>>0,m||Se(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(p,m){return p=p>>>0,m||Se(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(p,m){return p=p>>>0,m||Se(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(p,m){return p=p>>>0,m||Se(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readBigUInt64LE=Ee(function(p){p=p>>>0,A(p,"offset");const m=this[p],P=this[p+7];(m===void 0||P===void 0)&&R(p,this.length-8);const F=m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,K=this[++p]+this[++p]*2**8+this[++p]*2**16+P*2**24;return BigInt(F)+(BigInt(K)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ee(function(p){p=p>>>0,A(p,"offset");const m=this[p],P=this[p+7];(m===void 0||P===void 0)&&R(p,this.length-8);const F=m*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],K=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+P;return(BigInt(F)<<BigInt(32))+BigInt(K)}),a.prototype.readIntLE=function(p,m,P){p=p>>>0,m=m>>>0,P||Se(p,m,this.length);let F=this[p],K=1,ie=0;for(;++ie<m&&(K*=256);)F+=this[p+ie]*K;return K*=128,F>=K&&(F-=Math.pow(2,8*m)),F},a.prototype.readIntBE=function(p,m,P){p=p>>>0,m=m>>>0,P||Se(p,m,this.length);let F=m,K=1,ie=this[p+--F];for(;F>0&&(K*=256);)ie+=this[p+--F]*K;return K*=128,ie>=K&&(ie-=Math.pow(2,8*m)),ie},a.prototype.readInt8=function(p,m){return p=p>>>0,m||Se(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,m){p=p>>>0,m||Se(p,2,this.length);const P=this[p]|this[p+1]<<8;return P&32768?P|4294901760:P},a.prototype.readInt16BE=function(p,m){p=p>>>0,m||Se(p,2,this.length);const P=this[p+1]|this[p]<<8;return P&32768?P|4294901760:P},a.prototype.readInt32LE=function(p,m){return p=p>>>0,m||Se(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,m){return p=p>>>0,m||Se(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readBigInt64LE=Ee(function(p){p=p>>>0,A(p,"offset");const m=this[p],P=this[p+7];(m===void 0||P===void 0)&&R(p,this.length-8);const F=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(P<<24);return(BigInt(F)<<BigInt(32))+BigInt(m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),a.prototype.readBigInt64BE=Ee(function(p){p=p>>>0,A(p,"offset");const m=this[p],P=this[p+7];(m===void 0||P===void 0)&&R(p,this.length-8);const F=(m<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(F)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+P)}),a.prototype.readFloatLE=function(p,m){return p=p>>>0,m||Se(p,4,this.length),t.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,m){return p=p>>>0,m||Se(p,4,this.length),t.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,m){return p=p>>>0,m||Se(p,8,this.length),t.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,m){return p=p>>>0,m||Se(p,8,this.length),t.read(this,p,!1,52,8)};function Ie(x,p,m,P,F,K){if(!a.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>F||p<K)throw new RangeError('"value" argument is out of bounds');if(m+P>x.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(p,m,P,F){if(p=+p,m=m>>>0,P=P>>>0,!F){const Ye=Math.pow(2,8*P)-1;Ie(this,p,m,P,Ye,0)}let K=1,ie=0;for(this[m]=p&255;++ie<P&&(K*=256);)this[m+ie]=p/K&255;return m+P},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(p,m,P,F){if(p=+p,m=m>>>0,P=P>>>0,!F){const Ye=Math.pow(2,8*P)-1;Ie(this,p,m,P,Ye,0)}let K=P-1,ie=1;for(this[m+K]=p&255;--K>=0&&(ie*=256);)this[m+K]=p/ie&255;return m+P},a.prototype.writeUint8=a.prototype.writeUInt8=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,1,255,0),this[m]=p&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,2,65535,0),this[m]=p&255,this[m+1]=p>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,2,65535,0),this[m]=p>>>8,this[m+1]=p&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,4,4294967295,0),this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,4,4294967295,0),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4};function We(x,p,m,P,F){qr(p,P,F,x,m,7);let K=Number(p&BigInt(4294967295));x[m++]=K,K=K>>8,x[m++]=K,K=K>>8,x[m++]=K,K=K>>8,x[m++]=K;let ie=Number(p>>BigInt(32)&BigInt(4294967295));return x[m++]=ie,ie=ie>>8,x[m++]=ie,ie=ie>>8,x[m++]=ie,ie=ie>>8,x[m++]=ie,m}function dt(x,p,m,P,F){qr(p,P,F,x,m,7);let K=Number(p&BigInt(4294967295));x[m+7]=K,K=K>>8,x[m+6]=K,K=K>>8,x[m+5]=K,K=K>>8,x[m+4]=K;let ie=Number(p>>BigInt(32)&BigInt(4294967295));return x[m+3]=ie,ie=ie>>8,x[m+2]=ie,ie=ie>>8,x[m+1]=ie,ie=ie>>8,x[m]=ie,m+8}a.prototype.writeBigUInt64LE=Ee(function(p,m=0){return We(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ee(function(p,m=0){return dt(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(p,m,P,F){if(p=+p,m=m>>>0,!F){const It=Math.pow(2,8*P-1);Ie(this,p,m,P,It-1,-It)}let K=0,ie=1,Ye=0;for(this[m]=p&255;++K<P&&(ie*=256);)p<0&&Ye===0&&this[m+K-1]!==0&&(Ye=1),this[m+K]=(p/ie>>0)-Ye&255;return m+P},a.prototype.writeIntBE=function(p,m,P,F){if(p=+p,m=m>>>0,!F){const It=Math.pow(2,8*P-1);Ie(this,p,m,P,It-1,-It)}let K=P-1,ie=1,Ye=0;for(this[m+K]=p&255;--K>=0&&(ie*=256);)p<0&&Ye===0&&this[m+K+1]!==0&&(Ye=1),this[m+K]=(p/ie>>0)-Ye&255;return m+P},a.prototype.writeInt8=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,1,127,-128),p<0&&(p=255+p+1),this[m]=p&255,m+1},a.prototype.writeInt16LE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,2,32767,-32768),this[m]=p&255,this[m+1]=p>>>8,m+2},a.prototype.writeInt16BE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,2,32767,-32768),this[m]=p>>>8,this[m+1]=p&255,m+2},a.prototype.writeInt32LE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,4,2147483647,-2147483648),this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24,m+4},a.prototype.writeInt32BE=function(p,m,P){return p=+p,m=m>>>0,P||Ie(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4},a.prototype.writeBigInt64LE=Ee(function(p,m=0){return We(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ee(function(p,m=0){return dt(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(x,p,m,P,F,K){if(m+P>x.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Je(x,p,m,P,F){return p=+p,m=m>>>0,F||Te(x,p,m,4),t.write(x,p,m,P,23,4),m+4}a.prototype.writeFloatLE=function(p,m,P){return Je(this,p,m,!0,P)},a.prototype.writeFloatBE=function(p,m,P){return Je(this,p,m,!1,P)};function Nt(x,p,m,P,F){return p=+p,m=m>>>0,F||Te(x,p,m,8),t.write(x,p,m,P,52,8),m+8}a.prototype.writeDoubleLE=function(p,m,P){return Nt(this,p,m,!0,P)},a.prototype.writeDoubleBE=function(p,m,P){return Nt(this,p,m,!1,P)},a.prototype.copy=function(p,m,P,F){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(P||(P=0),!F&&F!==0&&(F=this.length),m>=p.length&&(m=p.length),m||(m=0),F>0&&F<P&&(F=P),F===P||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),p.length-m<F-P&&(F=p.length-m+P);const K=F-P;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,P,F):Uint8Array.prototype.set.call(p,this.subarray(P,F),m),K},a.prototype.fill=function(p,m,P,F){if(typeof p=="string"){if(typeof m=="string"?(F=m,m=0,P=this.length):typeof P=="string"&&(F=P,P=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(p.length===1){const ie=p.charCodeAt(0);(F==="utf8"&&ie<128||F==="latin1")&&(p=ie)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(m<0||this.length<m||this.length<P)throw new RangeError("Out of range index");if(P<=m)return this;m=m>>>0,P=P===void 0?this.length:P>>>0,p||(p=0);let K;if(typeof p=="number")for(K=m;K<P;++K)this[K]=p;else{const ie=a.isBuffer(p)?p:a.from(p,F),Ye=ie.length;if(Ye===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(K=0;K<P-m;++K)this[K+m]=ie[K%Ye]}return this};const Pr={};function dn(x,p,m){Pr[x]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}dn("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),dn("ERR_INVALID_ARG_TYPE",function(x,p){return`The "${x}" argument must be of type number. Received type ${typeof p}`},TypeError),dn("ERR_OUT_OF_RANGE",function(x,p,m){let P=`The value of "${x}" is out of range.`,F=m;return Number.isInteger(m)&&Math.abs(m)>2**32?F=Mr(String(m)):typeof m=="bigint"&&(F=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(F=Mr(F)),F+="n"),P+=` It must be ${p}. Received ${F}`,P},RangeError);function Mr(x){let p="",m=x.length;const P=x[0]==="-"?1:0;for(;m>=P+4;m-=3)p=`_${x.slice(m-3,m)}${p}`;return`${x.slice(0,m)}${p}`}function _r(x,p,m){A(p,"offset"),(x[p]===void 0||x[p+m]===void 0)&&R(p,x.length-(m+1))}function qr(x,p,m,P,F,K){if(x>m||x<p){const ie=typeof p=="bigint"?"n":"";let Ye;throw K>3?p===0||p===BigInt(0)?Ye=`>= 0${ie} and < 2${ie} ** ${(K+1)*8}${ie}`:Ye=`>= -(2${ie} ** ${(K+1)*8-1}${ie}) and < 2 ** ${(K+1)*8-1}${ie}`:Ye=`>= ${p}${ie} and <= ${m}${ie}`,new Pr.ERR_OUT_OF_RANGE("value",Ye,x)}_r(P,F,K)}function A(x,p){if(typeof x!="number")throw new Pr.ERR_INVALID_ARG_TYPE(p,"number",x)}function R(x,p,m){throw Math.floor(x)!==x?(A(x,m),new Pr.ERR_OUT_OF_RANGE(m||"offset","an integer",x)):p<0?new Pr.ERR_BUFFER_OUT_OF_BOUNDS:new Pr.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${p}`,x)}const H=/[^+/0-9A-Za-z-_]/g;function fe(x){if(x=x.split("=")[0],x=x.trim().replace(H,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function se(x,p){p=p||1/0;let m;const P=x.length;let F=null;const K=[];for(let ie=0;ie<P;++ie){if(m=x.charCodeAt(ie),m>55295&&m<57344){if(!F){if(m>56319){(p-=3)>-1&&K.push(239,191,189);continue}else if(ie+1===P){(p-=3)>-1&&K.push(239,191,189);continue}F=m;continue}if(m<56320){(p-=3)>-1&&K.push(239,191,189),F=m;continue}m=(F-55296<<10|m-56320)+65536}else F&&(p-=3)>-1&&K.push(239,191,189);if(F=null,m<128){if((p-=1)<0)break;K.push(m)}else if(m<2048){if((p-=2)<0)break;K.push(m>>6|192,m&63|128)}else if(m<65536){if((p-=3)<0)break;K.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((p-=4)<0)break;K.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return K}function ye(x){const p=[];for(let m=0;m<x.length;++m)p.push(x.charCodeAt(m)&255);return p}function ve(x,p){let m,P,F;const K=[];for(let ie=0;ie<x.length&&!((p-=2)<0);++ie)m=x.charCodeAt(ie),P=m>>8,F=m%256,K.push(F),K.push(P);return K}function me(x){return e.toByteArray(fe(x))}function xe(x,p,m,P){let F;for(F=0;F<P&&!(F+m>=p.length||F>=x.length);++F)p[F+m]=x[F];return F}function ae(x,p){return x instanceof p||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===p.name}function Ne(x){return x!==x}const ke=function(){const x="0123456789abcdef",p=new Array(256);for(let m=0;m<16;++m){const P=m*16;for(let F=0;F<16;++F)p[P+F]=x[m]+x[F]}return p}();function Ee(x){return typeof BigInt>"u"?Xe:x}function Xe(){throw new Error("BigInt not supported")}})(ur);function D4(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var QO={},U4={get exports(){return QO},set exports(r){QO=r}};const q4=new Proxy({},{get(r,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),L4=Object.freeze(Object.defineProperty({__proto__:null,default:q4},Symbol.toStringTag,{value:"Module"})),j4=E4(L4);(function(r){(function(e){var t=function(O){var w,v=new Float64Array(16);if(O)for(w=0;w<O.length;w++)v[w]=O[w];return v},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=t(),a=t([1]),l=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(O,w,v,h){O[w]=v>>24&255,O[w+1]=v>>16&255,O[w+2]=v>>8&255,O[w+3]=v&255,O[w+4]=h>>24&255,O[w+5]=h>>16&255,O[w+6]=h>>8&255,O[w+7]=h&255}function T(O,w,v,h,C){var Z,X=0;for(Z=0;Z<C;Z++)X|=O[w+Z]^v[h+Z];return(1&X-1>>>8)-1}function k(O,w,v,h){return T(O,w,v,h,16)}function U(O,w,v,h){return T(O,w,v,h,32)}function _(O,w,v,h){for(var C=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,Z=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,X=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,ce=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,be=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,De=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,_e=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,kt=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,Qe=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Ke=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,tt=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,ct=v[16]&255|(v[17]&255)<<8|(v[18]&255)<<16|(v[19]&255)<<24,at=v[20]&255|(v[21]&255)<<8|(v[22]&255)<<16|(v[23]&255)<<24,rt=v[24]&255|(v[25]&255)<<8|(v[26]&255)<<16|(v[27]&255)<<24,st=v[28]&255|(v[29]&255)<<8|(v[30]&255)<<16|(v[31]&255)<<24,nt=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,Re=C,je=Z,Ae=X,Me=ce,ze=be,Pe=De,te=_e,ne=kt,de=Qe,le=Ke,ue=tt,Oe=ct,Ze=at,ut=rt,pt=st,ft=nt,E,Ot=0;Ot<20;Ot+=2)E=Re+Ze|0,ze^=E<<7|E>>>32-7,E=ze+Re|0,de^=E<<9|E>>>32-9,E=de+ze|0,Ze^=E<<13|E>>>32-13,E=Ze+de|0,Re^=E<<18|E>>>32-18,E=Pe+je|0,le^=E<<7|E>>>32-7,E=le+Pe|0,ut^=E<<9|E>>>32-9,E=ut+le|0,je^=E<<13|E>>>32-13,E=je+ut|0,Pe^=E<<18|E>>>32-18,E=ue+te|0,pt^=E<<7|E>>>32-7,E=pt+ue|0,Ae^=E<<9|E>>>32-9,E=Ae+pt|0,te^=E<<13|E>>>32-13,E=te+Ae|0,ue^=E<<18|E>>>32-18,E=ft+Oe|0,Me^=E<<7|E>>>32-7,E=Me+ft|0,ne^=E<<9|E>>>32-9,E=ne+Me|0,Oe^=E<<13|E>>>32-13,E=Oe+ne|0,ft^=E<<18|E>>>32-18,E=Re+Me|0,je^=E<<7|E>>>32-7,E=je+Re|0,Ae^=E<<9|E>>>32-9,E=Ae+je|0,Me^=E<<13|E>>>32-13,E=Me+Ae|0,Re^=E<<18|E>>>32-18,E=Pe+ze|0,te^=E<<7|E>>>32-7,E=te+Pe|0,ne^=E<<9|E>>>32-9,E=ne+te|0,ze^=E<<13|E>>>32-13,E=ze+ne|0,Pe^=E<<18|E>>>32-18,E=ue+le|0,Oe^=E<<7|E>>>32-7,E=Oe+ue|0,de^=E<<9|E>>>32-9,E=de+Oe|0,le^=E<<13|E>>>32-13,E=le+de|0,ue^=E<<18|E>>>32-18,E=ft+pt|0,Ze^=E<<7|E>>>32-7,E=Ze+ft|0,ut^=E<<9|E>>>32-9,E=ut+Ze|0,pt^=E<<13|E>>>32-13,E=pt+ut|0,ft^=E<<18|E>>>32-18;Re=Re+C|0,je=je+Z|0,Ae=Ae+X|0,Me=Me+ce|0,ze=ze+be|0,Pe=Pe+De|0,te=te+_e|0,ne=ne+kt|0,de=de+Qe|0,le=le+Ke|0,ue=ue+tt|0,Oe=Oe+ct|0,Ze=Ze+at|0,ut=ut+rt|0,pt=pt+st|0,ft=ft+nt|0,O[0]=Re>>>0&255,O[1]=Re>>>8&255,O[2]=Re>>>16&255,O[3]=Re>>>24&255,O[4]=je>>>0&255,O[5]=je>>>8&255,O[6]=je>>>16&255,O[7]=je>>>24&255,O[8]=Ae>>>0&255,O[9]=Ae>>>8&255,O[10]=Ae>>>16&255,O[11]=Ae>>>24&255,O[12]=Me>>>0&255,O[13]=Me>>>8&255,O[14]=Me>>>16&255,O[15]=Me>>>24&255,O[16]=ze>>>0&255,O[17]=ze>>>8&255,O[18]=ze>>>16&255,O[19]=ze>>>24&255,O[20]=Pe>>>0&255,O[21]=Pe>>>8&255,O[22]=Pe>>>16&255,O[23]=Pe>>>24&255,O[24]=te>>>0&255,O[25]=te>>>8&255,O[26]=te>>>16&255,O[27]=te>>>24&255,O[28]=ne>>>0&255,O[29]=ne>>>8&255,O[30]=ne>>>16&255,O[31]=ne>>>24&255,O[32]=de>>>0&255,O[33]=de>>>8&255,O[34]=de>>>16&255,O[35]=de>>>24&255,O[36]=le>>>0&255,O[37]=le>>>8&255,O[38]=le>>>16&255,O[39]=le>>>24&255,O[40]=ue>>>0&255,O[41]=ue>>>8&255,O[42]=ue>>>16&255,O[43]=ue>>>24&255,O[44]=Oe>>>0&255,O[45]=Oe>>>8&255,O[46]=Oe>>>16&255,O[47]=Oe>>>24&255,O[48]=Ze>>>0&255,O[49]=Ze>>>8&255,O[50]=Ze>>>16&255,O[51]=Ze>>>24&255,O[52]=ut>>>0&255,O[53]=ut>>>8&255,O[54]=ut>>>16&255,O[55]=ut>>>24&255,O[56]=pt>>>0&255,O[57]=pt>>>8&255,O[58]=pt>>>16&255,O[59]=pt>>>24&255,O[60]=ft>>>0&255,O[61]=ft>>>8&255,O[62]=ft>>>16&255,O[63]=ft>>>24&255}function G(O,w,v,h){for(var C=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,Z=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,X=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,ce=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,be=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,De=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,_e=w[0]&255|(w[1]&255)<<8|(w[2]&255)<<16|(w[3]&255)<<24,kt=w[4]&255|(w[5]&255)<<8|(w[6]&255)<<16|(w[7]&255)<<24,Qe=w[8]&255|(w[9]&255)<<8|(w[10]&255)<<16|(w[11]&255)<<24,Ke=w[12]&255|(w[13]&255)<<8|(w[14]&255)<<16|(w[15]&255)<<24,tt=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,ct=v[16]&255|(v[17]&255)<<8|(v[18]&255)<<16|(v[19]&255)<<24,at=v[20]&255|(v[21]&255)<<8|(v[22]&255)<<16|(v[23]&255)<<24,rt=v[24]&255|(v[25]&255)<<8|(v[26]&255)<<16|(v[27]&255)<<24,st=v[28]&255|(v[29]&255)<<8|(v[30]&255)<<16|(v[31]&255)<<24,nt=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,Re=C,je=Z,Ae=X,Me=ce,ze=be,Pe=De,te=_e,ne=kt,de=Qe,le=Ke,ue=tt,Oe=ct,Ze=at,ut=rt,pt=st,ft=nt,E,Ot=0;Ot<20;Ot+=2)E=Re+Ze|0,ze^=E<<7|E>>>32-7,E=ze+Re|0,de^=E<<9|E>>>32-9,E=de+ze|0,Ze^=E<<13|E>>>32-13,E=Ze+de|0,Re^=E<<18|E>>>32-18,E=Pe+je|0,le^=E<<7|E>>>32-7,E=le+Pe|0,ut^=E<<9|E>>>32-9,E=ut+le|0,je^=E<<13|E>>>32-13,E=je+ut|0,Pe^=E<<18|E>>>32-18,E=ue+te|0,pt^=E<<7|E>>>32-7,E=pt+ue|0,Ae^=E<<9|E>>>32-9,E=Ae+pt|0,te^=E<<13|E>>>32-13,E=te+Ae|0,ue^=E<<18|E>>>32-18,E=ft+Oe|0,Me^=E<<7|E>>>32-7,E=Me+ft|0,ne^=E<<9|E>>>32-9,E=ne+Me|0,Oe^=E<<13|E>>>32-13,E=Oe+ne|0,ft^=E<<18|E>>>32-18,E=Re+Me|0,je^=E<<7|E>>>32-7,E=je+Re|0,Ae^=E<<9|E>>>32-9,E=Ae+je|0,Me^=E<<13|E>>>32-13,E=Me+Ae|0,Re^=E<<18|E>>>32-18,E=Pe+ze|0,te^=E<<7|E>>>32-7,E=te+Pe|0,ne^=E<<9|E>>>32-9,E=ne+te|0,ze^=E<<13|E>>>32-13,E=ze+ne|0,Pe^=E<<18|E>>>32-18,E=ue+le|0,Oe^=E<<7|E>>>32-7,E=Oe+ue|0,de^=E<<9|E>>>32-9,E=de+Oe|0,le^=E<<13|E>>>32-13,E=le+de|0,ue^=E<<18|E>>>32-18,E=ft+pt|0,Ze^=E<<7|E>>>32-7,E=Ze+ft|0,ut^=E<<9|E>>>32-9,E=ut+Ze|0,pt^=E<<13|E>>>32-13,E=pt+ut|0,ft^=E<<18|E>>>32-18;O[0]=Re>>>0&255,O[1]=Re>>>8&255,O[2]=Re>>>16&255,O[3]=Re>>>24&255,O[4]=Pe>>>0&255,O[5]=Pe>>>8&255,O[6]=Pe>>>16&255,O[7]=Pe>>>24&255,O[8]=ue>>>0&255,O[9]=ue>>>8&255,O[10]=ue>>>16&255,O[11]=ue>>>24&255,O[12]=ft>>>0&255,O[13]=ft>>>8&255,O[14]=ft>>>16&255,O[15]=ft>>>24&255,O[16]=te>>>0&255,O[17]=te>>>8&255,O[18]=te>>>16&255,O[19]=te>>>24&255,O[20]=ne>>>0&255,O[21]=ne>>>8&255,O[22]=ne>>>16&255,O[23]=ne>>>24&255,O[24]=de>>>0&255,O[25]=de>>>8&255,O[26]=de>>>16&255,O[27]=de>>>24&255,O[28]=le>>>0&255,O[29]=le>>>8&255,O[30]=le>>>16&255,O[31]=le>>>24&255}function D(O,w,v,h){_(O,w,v,h)}function Y(O,w,v,h){G(O,w,v,h)}var ee=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function re(O,w,v,h,C,Z,X){var ce=new Uint8Array(16),be=new Uint8Array(64),De,_e;for(_e=0;_e<16;_e++)ce[_e]=0;for(_e=0;_e<8;_e++)ce[_e]=Z[_e];for(;C>=64;){for(D(be,ce,X,ee),_e=0;_e<64;_e++)O[w+_e]=v[h+_e]^be[_e];for(De=1,_e=8;_e<16;_e++)De=De+(ce[_e]&255)|0,ce[_e]=De&255,De>>>=8;C-=64,w+=64,h+=64}if(C>0)for(D(be,ce,X,ee),_e=0;_e<C;_e++)O[w+_e]=v[h+_e]^be[_e];return 0}function S(O,w,v,h,C){var Z=new Uint8Array(16),X=new Uint8Array(64),ce,be;for(be=0;be<16;be++)Z[be]=0;for(be=0;be<8;be++)Z[be]=h[be];for(;v>=64;){for(D(X,Z,C,ee),be=0;be<64;be++)O[w+be]=X[be];for(ce=1,be=8;be<16;be++)ce=ce+(Z[be]&255)|0,Z[be]=ce&255,ce>>>=8;v-=64,w+=64}if(v>0)for(D(X,Z,C,ee),be=0;be<v;be++)O[w+be]=X[be];return 0}function b(O,w,v,h,C){var Z=new Uint8Array(32);Y(Z,h,C,ee);for(var X=new Uint8Array(8),ce=0;ce<8;ce++)X[ce]=h[ce+16];return S(O,w,v,X,Z)}function $(O,w,v,h,C,Z,X){var ce=new Uint8Array(32);Y(ce,Z,X,ee);for(var be=new Uint8Array(8),De=0;De<8;De++)be[De]=Z[De+16];return re(O,w,v,h,C,be,ce)}var M=function(O){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var w,v,h,C,Z,X,ce,be;w=O[0]&255|(O[1]&255)<<8,this.r[0]=w&8191,v=O[2]&255|(O[3]&255)<<8,this.r[1]=(w>>>13|v<<3)&8191,h=O[4]&255|(O[5]&255)<<8,this.r[2]=(v>>>10|h<<6)&7939,C=O[6]&255|(O[7]&255)<<8,this.r[3]=(h>>>7|C<<9)&8191,Z=O[8]&255|(O[9]&255)<<8,this.r[4]=(C>>>4|Z<<12)&255,this.r[5]=Z>>>1&8190,X=O[10]&255|(O[11]&255)<<8,this.r[6]=(Z>>>14|X<<2)&8191,ce=O[12]&255|(O[13]&255)<<8,this.r[7]=(X>>>11|ce<<5)&8065,be=O[14]&255|(O[15]&255)<<8,this.r[8]=(ce>>>8|be<<8)&8191,this.r[9]=be>>>5&127,this.pad[0]=O[16]&255|(O[17]&255)<<8,this.pad[1]=O[18]&255|(O[19]&255)<<8,this.pad[2]=O[20]&255|(O[21]&255)<<8,this.pad[3]=O[22]&255|(O[23]&255)<<8,this.pad[4]=O[24]&255|(O[25]&255)<<8,this.pad[5]=O[26]&255|(O[27]&255)<<8,this.pad[6]=O[28]&255|(O[29]&255)<<8,this.pad[7]=O[30]&255|(O[31]&255)<<8};M.prototype.blocks=function(O,w,v){for(var h=this.fin?0:2048,C,Z,X,ce,be,De,_e,kt,Qe,Ke,tt,ct,at,rt,st,nt,Re,je,Ae,Me=this.h[0],ze=this.h[1],Pe=this.h[2],te=this.h[3],ne=this.h[4],de=this.h[5],le=this.h[6],ue=this.h[7],Oe=this.h[8],Ze=this.h[9],ut=this.r[0],pt=this.r[1],ft=this.r[2],E=this.r[3],Ot=this.r[4],Et=this.r[5],Qt=this.r[6],gt=this.r[7],$t=this.r[8],Ct=this.r[9];v>=16;)C=O[w+0]&255|(O[w+1]&255)<<8,Me+=C&8191,Z=O[w+2]&255|(O[w+3]&255)<<8,ze+=(C>>>13|Z<<3)&8191,X=O[w+4]&255|(O[w+5]&255)<<8,Pe+=(Z>>>10|X<<6)&8191,ce=O[w+6]&255|(O[w+7]&255)<<8,te+=(X>>>7|ce<<9)&8191,be=O[w+8]&255|(O[w+9]&255)<<8,ne+=(ce>>>4|be<<12)&8191,de+=be>>>1&8191,De=O[w+10]&255|(O[w+11]&255)<<8,le+=(be>>>14|De<<2)&8191,_e=O[w+12]&255|(O[w+13]&255)<<8,ue+=(De>>>11|_e<<5)&8191,kt=O[w+14]&255|(O[w+15]&255)<<8,Oe+=(_e>>>8|kt<<8)&8191,Ze+=kt>>>5|h,Qe=0,Ke=Qe,Ke+=Me*ut,Ke+=ze*(5*Ct),Ke+=Pe*(5*$t),Ke+=te*(5*gt),Ke+=ne*(5*Qt),Qe=Ke>>>13,Ke&=8191,Ke+=de*(5*Et),Ke+=le*(5*Ot),Ke+=ue*(5*E),Ke+=Oe*(5*ft),Ke+=Ze*(5*pt),Qe+=Ke>>>13,Ke&=8191,tt=Qe,tt+=Me*pt,tt+=ze*ut,tt+=Pe*(5*Ct),tt+=te*(5*$t),tt+=ne*(5*gt),Qe=tt>>>13,tt&=8191,tt+=de*(5*Qt),tt+=le*(5*Et),tt+=ue*(5*Ot),tt+=Oe*(5*E),tt+=Ze*(5*ft),Qe+=tt>>>13,tt&=8191,ct=Qe,ct+=Me*ft,ct+=ze*pt,ct+=Pe*ut,ct+=te*(5*Ct),ct+=ne*(5*$t),Qe=ct>>>13,ct&=8191,ct+=de*(5*gt),ct+=le*(5*Qt),ct+=ue*(5*Et),ct+=Oe*(5*Ot),ct+=Ze*(5*E),Qe+=ct>>>13,ct&=8191,at=Qe,at+=Me*E,at+=ze*ft,at+=Pe*pt,at+=te*ut,at+=ne*(5*Ct),Qe=at>>>13,at&=8191,at+=de*(5*$t),at+=le*(5*gt),at+=ue*(5*Qt),at+=Oe*(5*Et),at+=Ze*(5*Ot),Qe+=at>>>13,at&=8191,rt=Qe,rt+=Me*Ot,rt+=ze*E,rt+=Pe*ft,rt+=te*pt,rt+=ne*ut,Qe=rt>>>13,rt&=8191,rt+=de*(5*Ct),rt+=le*(5*$t),rt+=ue*(5*gt),rt+=Oe*(5*Qt),rt+=Ze*(5*Et),Qe+=rt>>>13,rt&=8191,st=Qe,st+=Me*Et,st+=ze*Ot,st+=Pe*E,st+=te*ft,st+=ne*pt,Qe=st>>>13,st&=8191,st+=de*ut,st+=le*(5*Ct),st+=ue*(5*$t),st+=Oe*(5*gt),st+=Ze*(5*Qt),Qe+=st>>>13,st&=8191,nt=Qe,nt+=Me*Qt,nt+=ze*Et,nt+=Pe*Ot,nt+=te*E,nt+=ne*ft,Qe=nt>>>13,nt&=8191,nt+=de*pt,nt+=le*ut,nt+=ue*(5*Ct),nt+=Oe*(5*$t),nt+=Ze*(5*gt),Qe+=nt>>>13,nt&=8191,Re=Qe,Re+=Me*gt,Re+=ze*Qt,Re+=Pe*Et,Re+=te*Ot,Re+=ne*E,Qe=Re>>>13,Re&=8191,Re+=de*ft,Re+=le*pt,Re+=ue*ut,Re+=Oe*(5*Ct),Re+=Ze*(5*$t),Qe+=Re>>>13,Re&=8191,je=Qe,je+=Me*$t,je+=ze*gt,je+=Pe*Qt,je+=te*Et,je+=ne*Ot,Qe=je>>>13,je&=8191,je+=de*E,je+=le*ft,je+=ue*pt,je+=Oe*ut,je+=Ze*(5*Ct),Qe+=je>>>13,je&=8191,Ae=Qe,Ae+=Me*Ct,Ae+=ze*$t,Ae+=Pe*gt,Ae+=te*Qt,Ae+=ne*Et,Qe=Ae>>>13,Ae&=8191,Ae+=de*Ot,Ae+=le*E,Ae+=ue*ft,Ae+=Oe*pt,Ae+=Ze*ut,Qe+=Ae>>>13,Ae&=8191,Qe=(Qe<<2)+Qe|0,Qe=Qe+Ke|0,Ke=Qe&8191,Qe=Qe>>>13,tt+=Qe,Me=Ke,ze=tt,Pe=ct,te=at,ne=rt,de=st,le=nt,ue=Re,Oe=je,Ze=Ae,w+=16,v-=16;this.h[0]=Me,this.h[1]=ze,this.h[2]=Pe,this.h[3]=te,this.h[4]=ne,this.h[5]=de,this.h[6]=le,this.h[7]=ue,this.h[8]=Oe,this.h[9]=Ze},M.prototype.finish=function(O,w){var v=new Uint16Array(10),h,C,Z,X;if(this.leftover){for(X=this.leftover,this.buffer[X++]=1;X<16;X++)this.buffer[X]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(h=this.h[1]>>>13,this.h[1]&=8191,X=2;X<10;X++)this.h[X]+=h,h=this.h[X]>>>13,this.h[X]&=8191;for(this.h[0]+=h*5,h=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=h,h=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=h,v[0]=this.h[0]+5,h=v[0]>>>13,v[0]&=8191,X=1;X<10;X++)v[X]=this.h[X]+h,h=v[X]>>>13,v[X]&=8191;for(v[9]-=1<<13,C=(h^1)-1,X=0;X<10;X++)v[X]&=C;for(C=~C,X=0;X<10;X++)this.h[X]=this.h[X]&C|v[X];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Z=this.h[0]+this.pad[0],this.h[0]=Z&65535,X=1;X<8;X++)Z=(this.h[X]+this.pad[X]|0)+(Z>>>16)|0,this.h[X]=Z&65535;O[w+0]=this.h[0]>>>0&255,O[w+1]=this.h[0]>>>8&255,O[w+2]=this.h[1]>>>0&255,O[w+3]=this.h[1]>>>8&255,O[w+4]=this.h[2]>>>0&255,O[w+5]=this.h[2]>>>8&255,O[w+6]=this.h[3]>>>0&255,O[w+7]=this.h[3]>>>8&255,O[w+8]=this.h[4]>>>0&255,O[w+9]=this.h[4]>>>8&255,O[w+10]=this.h[5]>>>0&255,O[w+11]=this.h[5]>>>8&255,O[w+12]=this.h[6]>>>0&255,O[w+13]=this.h[6]>>>8&255,O[w+14]=this.h[7]>>>0&255,O[w+15]=this.h[7]>>>8&255},M.prototype.update=function(O,w,v){var h,C;if(this.leftover){for(C=16-this.leftover,C>v&&(C=v),h=0;h<C;h++)this.buffer[this.leftover+h]=O[w+h];if(v-=C,w+=C,this.leftover+=C,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(v>=16&&(C=v-v%16,this.blocks(O,w,C),w+=C,v-=C),v){for(h=0;h<v;h++)this.buffer[this.leftover+h]=O[w+h];this.leftover+=v}};function Q(O,w,v,h,C,Z){var X=new M(Z);return X.update(v,h,C),X.finish(O,w),0}function L(O,w,v,h,C,Z){var X=new Uint8Array(16);return Q(X,0,v,h,C,Z),k(O,w,X,0)}function W(O,w,v,h,C){var Z;if(v<32)return-1;for($(O,0,w,0,v,h,C),Q(O,16,O,32,v-32,O),Z=0;Z<16;Z++)O[Z]=0;return 0}function N(O,w,v,h,C){var Z,X=new Uint8Array(32);if(v<32||(b(X,0,32,h,C),L(w,16,w,32,v-32,X)!==0))return-1;for($(O,0,w,0,v,h,C),Z=0;Z<32;Z++)O[Z]=0;return 0}function I(O,w){var v;for(v=0;v<16;v++)O[v]=w[v]|0}function z(O){var w,v,h=1;for(w=0;w<16;w++)v=O[w]+h+65535,h=Math.floor(v/65536),O[w]=v-h*65536;O[0]+=h-1+37*(h-1)}function B(O,w,v){for(var h,C=~(v-1),Z=0;Z<16;Z++)h=C&(O[Z]^w[Z]),O[Z]^=h,w[Z]^=h}function J(O,w){var v,h,C,Z=t(),X=t();for(v=0;v<16;v++)X[v]=w[v];for(z(X),z(X),z(X),h=0;h<2;h++){for(Z[0]=X[0]-65517,v=1;v<15;v++)Z[v]=X[v]-65535-(Z[v-1]>>16&1),Z[v-1]&=65535;Z[15]=X[15]-32767-(Z[14]>>16&1),C=Z[15]>>16&1,Z[14]&=65535,B(X,Z,1-C)}for(v=0;v<16;v++)O[2*v]=X[v]&255,O[2*v+1]=X[v]>>8}function $e(O,w){var v=new Uint8Array(32),h=new Uint8Array(32);return J(v,O),J(h,w),U(v,0,h,0)}function Se(O){var w=new Uint8Array(32);return J(w,O),w[0]&1}function Ie(O,w){var v;for(v=0;v<16;v++)O[v]=w[2*v]+(w[2*v+1]<<8);O[15]&=32767}function We(O,w,v){for(var h=0;h<16;h++)O[h]=w[h]+v[h]}function dt(O,w,v){for(var h=0;h<16;h++)O[h]=w[h]-v[h]}function Te(O,w,v){var h,C,Z=0,X=0,ce=0,be=0,De=0,_e=0,kt=0,Qe=0,Ke=0,tt=0,ct=0,at=0,rt=0,st=0,nt=0,Re=0,je=0,Ae=0,Me=0,ze=0,Pe=0,te=0,ne=0,de=0,le=0,ue=0,Oe=0,Ze=0,ut=0,pt=0,ft=0,E=v[0],Ot=v[1],Et=v[2],Qt=v[3],gt=v[4],$t=v[5],Ct=v[6],dr=v[7],Bt=v[8],or=v[9],ar=v[10],lr=v[11],Ar=v[12],en=v[13],tn=v[14],rn=v[15];h=w[0],Z+=h*E,X+=h*Ot,ce+=h*Et,be+=h*Qt,De+=h*gt,_e+=h*$t,kt+=h*Ct,Qe+=h*dr,Ke+=h*Bt,tt+=h*or,ct+=h*ar,at+=h*lr,rt+=h*Ar,st+=h*en,nt+=h*tn,Re+=h*rn,h=w[1],X+=h*E,ce+=h*Ot,be+=h*Et,De+=h*Qt,_e+=h*gt,kt+=h*$t,Qe+=h*Ct,Ke+=h*dr,tt+=h*Bt,ct+=h*or,at+=h*ar,rt+=h*lr,st+=h*Ar,nt+=h*en,Re+=h*tn,je+=h*rn,h=w[2],ce+=h*E,be+=h*Ot,De+=h*Et,_e+=h*Qt,kt+=h*gt,Qe+=h*$t,Ke+=h*Ct,tt+=h*dr,ct+=h*Bt,at+=h*or,rt+=h*ar,st+=h*lr,nt+=h*Ar,Re+=h*en,je+=h*tn,Ae+=h*rn,h=w[3],be+=h*E,De+=h*Ot,_e+=h*Et,kt+=h*Qt,Qe+=h*gt,Ke+=h*$t,tt+=h*Ct,ct+=h*dr,at+=h*Bt,rt+=h*or,st+=h*ar,nt+=h*lr,Re+=h*Ar,je+=h*en,Ae+=h*tn,Me+=h*rn,h=w[4],De+=h*E,_e+=h*Ot,kt+=h*Et,Qe+=h*Qt,Ke+=h*gt,tt+=h*$t,ct+=h*Ct,at+=h*dr,rt+=h*Bt,st+=h*or,nt+=h*ar,Re+=h*lr,je+=h*Ar,Ae+=h*en,Me+=h*tn,ze+=h*rn,h=w[5],_e+=h*E,kt+=h*Ot,Qe+=h*Et,Ke+=h*Qt,tt+=h*gt,ct+=h*$t,at+=h*Ct,rt+=h*dr,st+=h*Bt,nt+=h*or,Re+=h*ar,je+=h*lr,Ae+=h*Ar,Me+=h*en,ze+=h*tn,Pe+=h*rn,h=w[6],kt+=h*E,Qe+=h*Ot,Ke+=h*Et,tt+=h*Qt,ct+=h*gt,at+=h*$t,rt+=h*Ct,st+=h*dr,nt+=h*Bt,Re+=h*or,je+=h*ar,Ae+=h*lr,Me+=h*Ar,ze+=h*en,Pe+=h*tn,te+=h*rn,h=w[7],Qe+=h*E,Ke+=h*Ot,tt+=h*Et,ct+=h*Qt,at+=h*gt,rt+=h*$t,st+=h*Ct,nt+=h*dr,Re+=h*Bt,je+=h*or,Ae+=h*ar,Me+=h*lr,ze+=h*Ar,Pe+=h*en,te+=h*tn,ne+=h*rn,h=w[8],Ke+=h*E,tt+=h*Ot,ct+=h*Et,at+=h*Qt,rt+=h*gt,st+=h*$t,nt+=h*Ct,Re+=h*dr,je+=h*Bt,Ae+=h*or,Me+=h*ar,ze+=h*lr,Pe+=h*Ar,te+=h*en,ne+=h*tn,de+=h*rn,h=w[9],tt+=h*E,ct+=h*Ot,at+=h*Et,rt+=h*Qt,st+=h*gt,nt+=h*$t,Re+=h*Ct,je+=h*dr,Ae+=h*Bt,Me+=h*or,ze+=h*ar,Pe+=h*lr,te+=h*Ar,ne+=h*en,de+=h*tn,le+=h*rn,h=w[10],ct+=h*E,at+=h*Ot,rt+=h*Et,st+=h*Qt,nt+=h*gt,Re+=h*$t,je+=h*Ct,Ae+=h*dr,Me+=h*Bt,ze+=h*or,Pe+=h*ar,te+=h*lr,ne+=h*Ar,de+=h*en,le+=h*tn,ue+=h*rn,h=w[11],at+=h*E,rt+=h*Ot,st+=h*Et,nt+=h*Qt,Re+=h*gt,je+=h*$t,Ae+=h*Ct,Me+=h*dr,ze+=h*Bt,Pe+=h*or,te+=h*ar,ne+=h*lr,de+=h*Ar,le+=h*en,ue+=h*tn,Oe+=h*rn,h=w[12],rt+=h*E,st+=h*Ot,nt+=h*Et,Re+=h*Qt,je+=h*gt,Ae+=h*$t,Me+=h*Ct,ze+=h*dr,Pe+=h*Bt,te+=h*or,ne+=h*ar,de+=h*lr,le+=h*Ar,ue+=h*en,Oe+=h*tn,Ze+=h*rn,h=w[13],st+=h*E,nt+=h*Ot,Re+=h*Et,je+=h*Qt,Ae+=h*gt,Me+=h*$t,ze+=h*Ct,Pe+=h*dr,te+=h*Bt,ne+=h*or,de+=h*ar,le+=h*lr,ue+=h*Ar,Oe+=h*en,Ze+=h*tn,ut+=h*rn,h=w[14],nt+=h*E,Re+=h*Ot,je+=h*Et,Ae+=h*Qt,Me+=h*gt,ze+=h*$t,Pe+=h*Ct,te+=h*dr,ne+=h*Bt,de+=h*or,le+=h*ar,ue+=h*lr,Oe+=h*Ar,Ze+=h*en,ut+=h*tn,pt+=h*rn,h=w[15],Re+=h*E,je+=h*Ot,Ae+=h*Et,Me+=h*Qt,ze+=h*gt,Pe+=h*$t,te+=h*Ct,ne+=h*dr,de+=h*Bt,le+=h*or,ue+=h*ar,Oe+=h*lr,Ze+=h*Ar,ut+=h*en,pt+=h*tn,ft+=h*rn,Z+=38*je,X+=38*Ae,ce+=38*Me,be+=38*ze,De+=38*Pe,_e+=38*te,kt+=38*ne,Qe+=38*de,Ke+=38*le,tt+=38*ue,ct+=38*Oe,at+=38*Ze,rt+=38*ut,st+=38*pt,nt+=38*ft,C=1,h=Z+C+65535,C=Math.floor(h/65536),Z=h-C*65536,h=X+C+65535,C=Math.floor(h/65536),X=h-C*65536,h=ce+C+65535,C=Math.floor(h/65536),ce=h-C*65536,h=be+C+65535,C=Math.floor(h/65536),be=h-C*65536,h=De+C+65535,C=Math.floor(h/65536),De=h-C*65536,h=_e+C+65535,C=Math.floor(h/65536),_e=h-C*65536,h=kt+C+65535,C=Math.floor(h/65536),kt=h-C*65536,h=Qe+C+65535,C=Math.floor(h/65536),Qe=h-C*65536,h=Ke+C+65535,C=Math.floor(h/65536),Ke=h-C*65536,h=tt+C+65535,C=Math.floor(h/65536),tt=h-C*65536,h=ct+C+65535,C=Math.floor(h/65536),ct=h-C*65536,h=at+C+65535,C=Math.floor(h/65536),at=h-C*65536,h=rt+C+65535,C=Math.floor(h/65536),rt=h-C*65536,h=st+C+65535,C=Math.floor(h/65536),st=h-C*65536,h=nt+C+65535,C=Math.floor(h/65536),nt=h-C*65536,h=Re+C+65535,C=Math.floor(h/65536),Re=h-C*65536,Z+=C-1+37*(C-1),C=1,h=Z+C+65535,C=Math.floor(h/65536),Z=h-C*65536,h=X+C+65535,C=Math.floor(h/65536),X=h-C*65536,h=ce+C+65535,C=Math.floor(h/65536),ce=h-C*65536,h=be+C+65535,C=Math.floor(h/65536),be=h-C*65536,h=De+C+65535,C=Math.floor(h/65536),De=h-C*65536,h=_e+C+65535,C=Math.floor(h/65536),_e=h-C*65536,h=kt+C+65535,C=Math.floor(h/65536),kt=h-C*65536,h=Qe+C+65535,C=Math.floor(h/65536),Qe=h-C*65536,h=Ke+C+65535,C=Math.floor(h/65536),Ke=h-C*65536,h=tt+C+65535,C=Math.floor(h/65536),tt=h-C*65536,h=ct+C+65535,C=Math.floor(h/65536),ct=h-C*65536,h=at+C+65535,C=Math.floor(h/65536),at=h-C*65536,h=rt+C+65535,C=Math.floor(h/65536),rt=h-C*65536,h=st+C+65535,C=Math.floor(h/65536),st=h-C*65536,h=nt+C+65535,C=Math.floor(h/65536),nt=h-C*65536,h=Re+C+65535,C=Math.floor(h/65536),Re=h-C*65536,Z+=C-1+37*(C-1),O[0]=Z,O[1]=X,O[2]=ce,O[3]=be,O[4]=De,O[5]=_e,O[6]=kt,O[7]=Qe,O[8]=Ke,O[9]=tt,O[10]=ct,O[11]=at,O[12]=rt,O[13]=st,O[14]=nt,O[15]=Re}function Je(O,w){Te(O,w,w)}function Nt(O,w){var v=t(),h;for(h=0;h<16;h++)v[h]=w[h];for(h=253;h>=0;h--)Je(v,v),h!==2&&h!==4&&Te(v,v,w);for(h=0;h<16;h++)O[h]=v[h]}function Pr(O,w){var v=t(),h;for(h=0;h<16;h++)v[h]=w[h];for(h=250;h>=0;h--)Je(v,v),h!==1&&Te(v,v,w);for(h=0;h<16;h++)O[h]=v[h]}function dn(O,w,v){var h=new Uint8Array(32),C=new Float64Array(80),Z,X,ce=t(),be=t(),De=t(),_e=t(),kt=t(),Qe=t();for(X=0;X<31;X++)h[X]=w[X];for(h[31]=w[31]&127|64,h[0]&=248,Ie(C,v),X=0;X<16;X++)be[X]=C[X],_e[X]=ce[X]=De[X]=0;for(ce[0]=_e[0]=1,X=254;X>=0;--X)Z=h[X>>>3]>>>(X&7)&1,B(ce,be,Z),B(De,_e,Z),We(kt,ce,De),dt(ce,ce,De),We(De,be,_e),dt(be,be,_e),Je(_e,kt),Je(Qe,ce),Te(ce,De,ce),Te(De,be,kt),We(kt,ce,De),dt(ce,ce,De),Je(be,ce),dt(De,_e,Qe),Te(ce,De,l),We(ce,ce,_e),Te(De,De,ce),Te(ce,_e,Qe),Te(_e,be,C),Je(be,kt),B(ce,be,Z),B(De,_e,Z);for(X=0;X<16;X++)C[X+16]=ce[X],C[X+32]=De[X],C[X+48]=be[X],C[X+64]=_e[X];var Ke=C.subarray(32),tt=C.subarray(16);return Nt(Ke,Ke),Te(tt,tt,Ke),J(O,tt),0}function Mr(O,w){return dn(O,w,s)}function _r(O,w){return n(w,32),Mr(O,w)}function qr(O,w,v){var h=new Uint8Array(32);return dn(h,v,w),Y(O,i,h,ee)}var A=W,R=N;function H(O,w,v,h,C,Z){var X=new Uint8Array(32);return qr(X,C,Z),A(O,w,v,h,X)}function fe(O,w,v,h,C,Z){var X=new Uint8Array(32);return qr(X,C,Z),R(O,w,v,h,X)}var se=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ye(O,w,v,h){for(var C=new Int32Array(16),Z=new Int32Array(16),X,ce,be,De,_e,kt,Qe,Ke,tt,ct,at,rt,st,nt,Re,je,Ae,Me,ze,Pe,te,ne,de,le,ue,Oe,Ze=O[0],ut=O[1],pt=O[2],ft=O[3],E=O[4],Ot=O[5],Et=O[6],Qt=O[7],gt=w[0],$t=w[1],Ct=w[2],dr=w[3],Bt=w[4],or=w[5],ar=w[6],lr=w[7],Ar=0;h>=128;){for(ze=0;ze<16;ze++)Pe=8*ze+Ar,C[ze]=v[Pe+0]<<24|v[Pe+1]<<16|v[Pe+2]<<8|v[Pe+3],Z[ze]=v[Pe+4]<<24|v[Pe+5]<<16|v[Pe+6]<<8|v[Pe+7];for(ze=0;ze<80;ze++)if(X=Ze,ce=ut,be=pt,De=ft,_e=E,kt=Ot,Qe=Et,Ke=Qt,tt=gt,ct=$t,at=Ct,rt=dr,st=Bt,nt=or,Re=ar,je=lr,te=Qt,ne=lr,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=(E>>>14|Bt<<32-14)^(E>>>18|Bt<<32-18)^(Bt>>>41-32|E<<32-(41-32)),ne=(Bt>>>14|E<<32-14)^(Bt>>>18|E<<32-18)^(E>>>41-32|Bt<<32-(41-32)),de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,te=E&Ot^~E&Et,ne=Bt&or^~Bt&ar,de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,te=se[ze*2],ne=se[ze*2+1],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,te=C[ze%16],ne=Z[ze%16],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,Ae=ue&65535|Oe<<16,Me=de&65535|le<<16,te=Ae,ne=Me,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=(Ze>>>28|gt<<32-28)^(gt>>>34-32|Ze<<32-(34-32))^(gt>>>39-32|Ze<<32-(39-32)),ne=(gt>>>28|Ze<<32-28)^(Ze>>>34-32|gt<<32-(34-32))^(Ze>>>39-32|gt<<32-(39-32)),de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,te=Ze&ut^Ze&pt^ut&pt,ne=gt&$t^gt&Ct^$t&Ct,de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,Ke=ue&65535|Oe<<16,je=de&65535|le<<16,te=De,ne=rt,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=Ae,ne=Me,de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,De=ue&65535|Oe<<16,rt=de&65535|le<<16,ut=X,pt=ce,ft=be,E=De,Ot=_e,Et=kt,Qt=Qe,Ze=Ke,$t=tt,Ct=ct,dr=at,Bt=rt,or=st,ar=nt,lr=Re,gt=je,ze%16===15)for(Pe=0;Pe<16;Pe++)te=C[Pe],ne=Z[Pe],de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=C[(Pe+9)%16],ne=Z[(Pe+9)%16],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,Ae=C[(Pe+1)%16],Me=Z[(Pe+1)%16],te=(Ae>>>1|Me<<32-1)^(Ae>>>8|Me<<32-8)^Ae>>>7,ne=(Me>>>1|Ae<<32-1)^(Me>>>8|Ae<<32-8)^(Me>>>7|Ae<<32-7),de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,Ae=C[(Pe+14)%16],Me=Z[(Pe+14)%16],te=(Ae>>>19|Me<<32-19)^(Me>>>61-32|Ae<<32-(61-32))^Ae>>>6,ne=(Me>>>19|Ae<<32-19)^(Ae>>>61-32|Me<<32-(61-32))^(Me>>>6|Ae<<32-6),de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,C[Pe]=ue&65535|Oe<<16,Z[Pe]=de&65535|le<<16;te=Ze,ne=gt,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[0],ne=w[0],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[0]=Ze=ue&65535|Oe<<16,w[0]=gt=de&65535|le<<16,te=ut,ne=$t,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[1],ne=w[1],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[1]=ut=ue&65535|Oe<<16,w[1]=$t=de&65535|le<<16,te=pt,ne=Ct,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[2],ne=w[2],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[2]=pt=ue&65535|Oe<<16,w[2]=Ct=de&65535|le<<16,te=ft,ne=dr,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[3],ne=w[3],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[3]=ft=ue&65535|Oe<<16,w[3]=dr=de&65535|le<<16,te=E,ne=Bt,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[4],ne=w[4],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[4]=E=ue&65535|Oe<<16,w[4]=Bt=de&65535|le<<16,te=Ot,ne=or,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[5],ne=w[5],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[5]=Ot=ue&65535|Oe<<16,w[5]=or=de&65535|le<<16,te=Et,ne=ar,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[6],ne=w[6],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[6]=Et=ue&65535|Oe<<16,w[6]=ar=de&65535|le<<16,te=Qt,ne=lr,de=ne&65535,le=ne>>>16,ue=te&65535,Oe=te>>>16,te=O[7],ne=w[7],de+=ne&65535,le+=ne>>>16,ue+=te&65535,Oe+=te>>>16,le+=de>>>16,ue+=le>>>16,Oe+=ue>>>16,O[7]=Qt=ue&65535|Oe<<16,w[7]=lr=de&65535|le<<16,Ar+=128,h-=128}return h}function ve(O,w,v){var h=new Int32Array(8),C=new Int32Array(8),Z=new Uint8Array(256),X,ce=v;for(h[0]=1779033703,h[1]=3144134277,h[2]=1013904242,h[3]=2773480762,h[4]=1359893119,h[5]=2600822924,h[6]=528734635,h[7]=1541459225,C[0]=4089235720,C[1]=2227873595,C[2]=4271175723,C[3]=1595750129,C[4]=2917565137,C[5]=725511199,C[6]=4215389547,C[7]=327033209,ye(h,C,w,v),v%=128,X=0;X<v;X++)Z[X]=w[ce-v+X];for(Z[v]=128,v=256-128*(v<112?1:0),Z[v-9]=0,y(Z,v-8,ce/536870912|0,ce<<3),ye(h,C,Z,v),X=0;X<8;X++)y(O,8*X,h[X],C[X]);return 0}function me(O,w){var v=t(),h=t(),C=t(),Z=t(),X=t(),ce=t(),be=t(),De=t(),_e=t();dt(v,O[1],O[0]),dt(_e,w[1],w[0]),Te(v,v,_e),We(h,O[0],O[1]),We(_e,w[0],w[1]),Te(h,h,_e),Te(C,O[3],w[3]),Te(C,C,u),Te(Z,O[2],w[2]),We(Z,Z,Z),dt(X,h,v),dt(ce,Z,C),We(be,Z,C),We(De,h,v),Te(O[0],X,ce),Te(O[1],De,be),Te(O[2],be,ce),Te(O[3],X,De)}function xe(O,w,v){var h;for(h=0;h<4;h++)B(O[h],w[h],v)}function ae(O,w){var v=t(),h=t(),C=t();Nt(C,w[2]),Te(v,w[0],C),Te(h,w[1],C),J(O,h),O[31]^=Se(v)<<7}function Ne(O,w,v){var h,C;for(I(O[0],o),I(O[1],a),I(O[2],a),I(O[3],o),C=255;C>=0;--C)h=v[C/8|0]>>(C&7)&1,xe(O,w,h),me(w,O),me(O,O),xe(O,w,h)}function ke(O,w){var v=[t(),t(),t(),t()];I(v[0],f),I(v[1],d),I(v[2],a),Te(v[3],f,d),Ne(O,v,w)}function Ee(O,w,v){var h=new Uint8Array(64),C=[t(),t(),t(),t()],Z;for(v||n(w,32),ve(h,w,32),h[0]&=248,h[31]&=127,h[31]|=64,ke(C,h),ae(O,C),Z=0;Z<32;Z++)w[Z+32]=O[Z];return 0}var Xe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function x(O,w){var v,h,C,Z;for(h=63;h>=32;--h){for(v=0,C=h-32,Z=h-12;C<Z;++C)w[C]+=v-16*w[h]*Xe[C-(h-32)],v=Math.floor((w[C]+128)/256),w[C]-=v*256;w[C]+=v,w[h]=0}for(v=0,C=0;C<32;C++)w[C]+=v-(w[31]>>4)*Xe[C],v=w[C]>>8,w[C]&=255;for(C=0;C<32;C++)w[C]-=v*Xe[C];for(h=0;h<32;h++)w[h+1]+=w[h]>>8,O[h]=w[h]&255}function p(O){var w=new Float64Array(64),v;for(v=0;v<64;v++)w[v]=O[v];for(v=0;v<64;v++)O[v]=0;x(O,w)}function m(O,w,v,h){var C=new Uint8Array(64),Z=new Uint8Array(64),X=new Uint8Array(64),ce,be,De=new Float64Array(64),_e=[t(),t(),t(),t()];ve(C,h,32),C[0]&=248,C[31]&=127,C[31]|=64;var kt=v+64;for(ce=0;ce<v;ce++)O[64+ce]=w[ce];for(ce=0;ce<32;ce++)O[32+ce]=C[32+ce];for(ve(X,O.subarray(32),v+32),p(X),ke(_e,X),ae(O,_e),ce=32;ce<64;ce++)O[ce]=h[ce];for(ve(Z,O,v+64),p(Z),ce=0;ce<64;ce++)De[ce]=0;for(ce=0;ce<32;ce++)De[ce]=X[ce];for(ce=0;ce<32;ce++)for(be=0;be<32;be++)De[ce+be]+=Z[ce]*C[be];return x(O.subarray(32),De),kt}function P(O,w){var v=t(),h=t(),C=t(),Z=t(),X=t(),ce=t(),be=t();return I(O[2],a),Ie(O[1],w),Je(C,O[1]),Te(Z,C,c),dt(C,C,O[2]),We(Z,O[2],Z),Je(X,Z),Je(ce,X),Te(be,ce,X),Te(v,be,C),Te(v,v,Z),Pr(v,v),Te(v,v,C),Te(v,v,Z),Te(v,v,Z),Te(O[0],v,Z),Je(h,O[0]),Te(h,h,Z),$e(h,C)&&Te(O[0],O[0],g),Je(h,O[0]),Te(h,h,Z),$e(h,C)?-1:(Se(O[0])===w[31]>>7&&dt(O[0],o,O[0]),Te(O[3],O[0],O[1]),0)}function F(O,w,v,h){var C,Z=new Uint8Array(32),X=new Uint8Array(64),ce=[t(),t(),t(),t()],be=[t(),t(),t(),t()];if(v<64||P(be,h))return-1;for(C=0;C<v;C++)O[C]=w[C];for(C=0;C<32;C++)O[C+32]=h[C];if(ve(X,O,v),p(X),Ne(ce,be,X),ke(be,w.subarray(32)),me(ce,be),ae(Z,ce),v-=64,U(w,0,Z,0)){for(C=0;C<v;C++)O[C]=0;return-1}for(C=0;C<v;C++)O[C]=w[C+64];return v}var K=32,ie=24,Ye=32,It=16,et=32,yt=32,vt=32,kl=32,kp=32,U1=ie,PN=Ye,_N=It,us=64,xo=32,ga=64,Ep=32,Qp=64;e.lowlevel={crypto_core_hsalsa20:Y,crypto_stream_xor:$,crypto_stream:b,crypto_stream_salsa20_xor:re,crypto_stream_salsa20:S,crypto_onetimeauth:Q,crypto_onetimeauth_verify:L,crypto_verify_16:k,crypto_verify_32:U,crypto_secretbox:W,crypto_secretbox_open:N,crypto_scalarmult:dn,crypto_scalarmult_base:Mr,crypto_box_beforenm:qr,crypto_box_afternm:A,crypto_box:H,crypto_box_open:fe,crypto_box_keypair:_r,crypto_hash:ve,crypto_sign:m,crypto_sign_keypair:Ee,crypto_sign_open:F,crypto_secretbox_KEYBYTES:K,crypto_secretbox_NONCEBYTES:ie,crypto_secretbox_ZEROBYTES:Ye,crypto_secretbox_BOXZEROBYTES:It,crypto_scalarmult_BYTES:et,crypto_scalarmult_SCALARBYTES:yt,crypto_box_PUBLICKEYBYTES:vt,crypto_box_SECRETKEYBYTES:kl,crypto_box_BEFORENMBYTES:kp,crypto_box_NONCEBYTES:U1,crypto_box_ZEROBYTES:PN,crypto_box_BOXZEROBYTES:_N,crypto_sign_BYTES:us,crypto_sign_PUBLICKEYBYTES:xo,crypto_sign_SECRETKEYBYTES:ga,crypto_sign_SEEDBYTES:Ep,crypto_hash_BYTES:Qp,gf:t,D:c,L:Xe,pack25519:J,unpack25519:Ie,M:Te,A:We,S:Je,Z:dt,pow2523:Pr,add:me,set25519:I,modL:x,scalarmult:Ne,scalarbase:ke};function q1(O,w){if(O.length!==K)throw new Error("bad key size");if(w.length!==ie)throw new Error("bad nonce size")}function AN(O,w){if(O.length!==vt)throw new Error("bad public key size");if(w.length!==kl)throw new Error("bad secret key size")}function Fn(){for(var O=0;O<arguments.length;O++)if(!(arguments[O]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function L1(O){for(var w=0;w<O.length;w++)O[w]=0}e.randomBytes=function(O){var w=new Uint8Array(O);return n(w,O),w},e.secretbox=function(O,w,v){Fn(O,w,v),q1(v,w);for(var h=new Uint8Array(Ye+O.length),C=new Uint8Array(h.length),Z=0;Z<O.length;Z++)h[Z+Ye]=O[Z];return W(C,h,h.length,w,v),C.subarray(It)},e.secretbox.open=function(O,w,v){Fn(O,w,v),q1(v,w);for(var h=new Uint8Array(It+O.length),C=new Uint8Array(h.length),Z=0;Z<O.length;Z++)h[Z+It]=O[Z];return h.length<32||N(C,h,h.length,w,v)!==0?null:C.subarray(Ye)},e.secretbox.keyLength=K,e.secretbox.nonceLength=ie,e.secretbox.overheadLength=It,e.scalarMult=function(O,w){if(Fn(O,w),O.length!==yt)throw new Error("bad n size");if(w.length!==et)throw new Error("bad p size");var v=new Uint8Array(et);return dn(v,O,w),v},e.scalarMult.base=function(O){if(Fn(O),O.length!==yt)throw new Error("bad n size");var w=new Uint8Array(et);return Mr(w,O),w},e.scalarMult.scalarLength=yt,e.scalarMult.groupElementLength=et,e.box=function(O,w,v,h){var C=e.box.before(v,h);return e.secretbox(O,w,C)},e.box.before=function(O,w){Fn(O,w),AN(O,w);var v=new Uint8Array(kp);return qr(v,O,w),v},e.box.after=e.secretbox,e.box.open=function(O,w,v,h){var C=e.box.before(v,h);return e.secretbox.open(O,w,C)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var O=new Uint8Array(vt),w=new Uint8Array(kl);return _r(O,w),{publicKey:O,secretKey:w}},e.box.keyPair.fromSecretKey=function(O){if(Fn(O),O.length!==kl)throw new Error("bad secret key size");var w=new Uint8Array(vt);return Mr(w,O),{publicKey:w,secretKey:new Uint8Array(O)}},e.box.publicKeyLength=vt,e.box.secretKeyLength=kl,e.box.sharedKeyLength=kp,e.box.nonceLength=U1,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(O,w){if(Fn(O,w),w.length!==ga)throw new Error("bad secret key size");var v=new Uint8Array(us+O.length);return m(v,O,O.length,w),v},e.sign.open=function(O,w){if(Fn(O,w),w.length!==xo)throw new Error("bad public key size");var v=new Uint8Array(O.length),h=F(v,O,O.length,w);if(h<0)return null;for(var C=new Uint8Array(h),Z=0;Z<C.length;Z++)C[Z]=v[Z];return C},e.sign.detached=function(O,w){for(var v=e.sign(O,w),h=new Uint8Array(us),C=0;C<h.length;C++)h[C]=v[C];return h},e.sign.detached.verify=function(O,w,v){if(Fn(O,w,v),w.length!==us)throw new Error("bad signature size");if(v.length!==xo)throw new Error("bad public key size");var h=new Uint8Array(us+O.length),C=new Uint8Array(us+O.length),Z;for(Z=0;Z<us;Z++)h[Z]=w[Z];for(Z=0;Z<O.length;Z++)h[Z+us]=O[Z];return F(C,h,h.length,v)>=0},e.sign.keyPair=function(){var O=new Uint8Array(xo),w=new Uint8Array(ga);return Ee(O,w),{publicKey:O,secretKey:w}},e.sign.keyPair.fromSecretKey=function(O){if(Fn(O),O.length!==ga)throw new Error("bad secret key size");for(var w=new Uint8Array(xo),v=0;v<w.length;v++)w[v]=O[32+v];return{publicKey:w,secretKey:new Uint8Array(O)}},e.sign.keyPair.fromSeed=function(O){if(Fn(O),O.length!==Ep)throw new Error("bad seed size");for(var w=new Uint8Array(xo),v=new Uint8Array(ga),h=0;h<32;h++)v[h]=O[h];return Ee(w,v,!0),{publicKey:w,secretKey:v}},e.sign.publicKeyLength=xo,e.sign.secretKeyLength=ga,e.sign.seedLength=Ep,e.sign.signatureLength=us,e.hash=function(O){Fn(O);var w=new Uint8Array(Qp);return ve(w,O,O.length),w},e.hash.hashLength=Qp,e.verify=function(O,w){return Fn(O,w),O.length===0||w.length===0||O.length!==w.length?!1:T(O,0,w,0,O.length)===0},e.setPRNG=function(O){n=O},function(){var O=typeof self<"u"?self.crypto||self.msCrypto:null;if(O&&O.getRandomValues){var w=65536;e.setPRNG(function(v,h){var C,Z=new Uint8Array(h);for(C=0;C<h;C+=w)O.getRandomValues(Z.subarray(C,C+Math.min(h-C,w)));for(C=0;C<h;C++)v[C]=Z[C];L1(Z)})}else typeof D4<"u"&&(O=j4,O&&O.randomBytes&&e.setPRNG(function(v,h){var C,Z=O.randomBytes(h);for(C=0;C<h;C++)v[C]=Z[C];L1(Z)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(U4);const hu=QO,V4="Input must be an string, Buffer or Uint8Array";function Z4(r){let e;if(r instanceof Uint8Array)e=r;else if(typeof r=="string")e=new TextEncoder().encode(r);else throw new Error(V4);return e}function W4(r){return Array.prototype.map.call(r,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function ff(r){return(4294967296+r).toString(16).substring(1)}function X4(r,e,t){let n=`
`+r+" = ";for(let i=0;i<e.length;i+=2){if(t===32)n+=ff(e[i]).toUpperCase(),n+=" ",n+=ff(e[i+1]).toUpperCase();else if(t===64)n+=ff(e[i+1]).toUpperCase(),n+=ff(e[i]).toUpperCase();else throw new Error("Invalid size "+t);i%6===4?n+=`
`+new Array(r.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function Y4(r,e,t){let n=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let o=0;o<t;o++){const a=r(i),l=new Date().getTime(),c=l-n;n=l,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var G4={normalizeInput:Z4,toHex:W4,debugPrint:X4,testSpeed:Y4};const lh=G4;function hf(r,e,t){const n=r[e]+r[t];let i=r[e+1]+r[t+1];n>=4294967296&&i++,r[e]=n,r[e+1]=i}function FS(r,e,t,n){let i=r[e]+t;t<0&&(i+=4294967296);let s=r[e+1]+n;i>=4294967296&&s++,r[e]=i,r[e+1]=s}function B2(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function Ms(r,e,t,n,i,s){const o=tc[i],a=tc[i+1],l=tc[s],c=tc[s+1];hf(ht,r,e),FS(ht,r,o,a);let u=ht[n]^ht[r],f=ht[n+1]^ht[r+1];ht[n]=f,ht[n+1]=u,hf(ht,t,n),u=ht[e]^ht[t],f=ht[e+1]^ht[t+1],ht[e]=u>>>24^f<<8,ht[e+1]=f>>>24^u<<8,hf(ht,r,e),FS(ht,r,l,c),u=ht[n]^ht[r],f=ht[n+1]^ht[r+1],ht[n]=u>>>16^f<<16,ht[n+1]=f>>>16^u<<16,hf(ht,t,n),u=ht[e]^ht[t],f=ht[e+1]^ht[t+1],ht[e]=f>>>31^u<<1,ht[e+1]=u>>>31^f<<1}const z2=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),H4=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],nn=new Uint8Array(H4.map(function(r){return r*2})),ht=new Uint32Array(32),tc=new Uint32Array(32);function F2(r,e){let t=0;for(t=0;t<16;t++)ht[t]=r.h[t],ht[t+16]=z2[t];for(ht[24]=ht[24]^r.t,ht[25]=ht[25]^r.t/4294967296,e&&(ht[28]=~ht[28],ht[29]=~ht[29]),t=0;t<32;t++)tc[t]=B2(r.b,4*t);for(t=0;t<12;t++)Ms(0,8,16,24,nn[t*16+0],nn[t*16+1]),Ms(2,10,18,26,nn[t*16+2],nn[t*16+3]),Ms(4,12,20,28,nn[t*16+4],nn[t*16+5]),Ms(6,14,22,30,nn[t*16+6],nn[t*16+7]),Ms(0,10,20,30,nn[t*16+8],nn[t*16+9]),Ms(2,12,22,24,nn[t*16+10],nn[t*16+11]),Ms(4,14,16,26,nn[t*16+12],nn[t*16+13]),Ms(6,8,18,28,nn[t*16+14],nn[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^ht[t]^ht[t+16]}const Bs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function D2(r,e,t,n){if(r===0||r>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(t&&t.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:r};Bs.fill(0),Bs[0]=r,e&&(Bs[1]=e.length),Bs[2]=1,Bs[3]=1,t&&Bs.set(t,32),n&&Bs.set(n,48);for(let s=0;s<16;s++)i.h[s]=z2[s]^B2(Bs,s*4);return e&&(Qy(i,e),i.c=128),i}function Qy(r,e){for(let t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,F2(r,!1),r.c=0),r.b[r.c++]=e[t]}function U2(r){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;F2(r,!0);const e=new Uint8Array(r.outlen);for(let t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function q2(r,e,t,n,i){t=t||64,r=lh.normalizeInput(r),n&&(n=lh.normalizeInput(n)),i&&(i=lh.normalizeInput(i));const s=D2(t,e,n,i);return Qy(s,r),U2(s)}function K4(r,e,t,n,i){const s=q2(r,e,t,n,i);return lh.toHex(s)}var L2={blake2b:q2,blake2bHex:K4,blake2bInit:D2,blake2bUpdate:Qy,blake2bFinal:U2},ra={},J4={get exports(){return ra},set exports(r){ra=r}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,e){var t=ur,n=t.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=s);function s(o,a,l){return n(o,a,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=n(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(J4,ra);var NO=ra.Buffer,eU=9007199254740991;function Ny(r){if(r<0||r>eU||r%1!==0)throw new RangeError("value out of range")}function rc(r,e,t){if(Ny(r),e||(e=NO.allocUnsafe(j2(r))),!NO.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return t||(t=0),r<253?(e.writeUInt8(r,t),rc.bytes=1):r<=65535?(e.writeUInt8(253,t),e.writeUInt16LE(r,t+1),rc.bytes=3):r<=4294967295?(e.writeUInt8(254,t),e.writeUInt32LE(r,t+1),rc.bytes=5):(e.writeUInt8(255,t),e.writeUInt32LE(r>>>0,t+1),e.writeUInt32LE(r/4294967296|0,t+5),rc.bytes=9),e}function nc(r,e){if(!NO.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var t=r.readUInt8(e);if(t<253)return nc.bytes=1,t;if(t===253)return nc.bytes=3,r.readUInt16LE(e+1);if(t===254)return nc.bytes=5,r.readUInt32LE(e+1);nc.bytes=9;var n=r.readUInt32LE(e+1),i=r.readUInt32LE(e+5),s=i*4294967296+n;return Ny(s),s}function j2(r){return Ny(r),r<253?1:r<=65535?3:r<=4294967295?5:9}var tU={encode:rc,decode:nc,encodingLength:j2};const DS=new Set(["Deserialize","Serialize","Retry","Sign"]);class od{constructor(e){var t;this._policies=[],this._policies=(t=e==null?void 0:e.slice(0))!==null&&t!==void 0?t:[],this._orderedPolicies=void 0}addPolicy(e,t={}){if(t.phase&&t.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!DS.has(t.phase))throw new Error(`Invalid phase name: ${t.phase}`);if(t.afterPhase&&!DS.has(t.afterPhase))throw new Error(`Invalid afterPhase name: ${t.afterPhase}`);this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}removePolicy(e){const t=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(t.push(n.policy),!1):!0),this._orderedPolicies=void 0,t}sendRequest(e,t){return this.getOrderedPolicies().reduceRight((s,o)=>a=>o.sendRequest(a,s),s=>e.sendRequest(s))(t)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new od(this._policies)}static create(){return new od}orderPolicies(){const e=[],t=new Map;function n(y){return{name:y,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}const i=n("Serialize"),s=n("None"),o=n("Deserialize"),a=n("Retry"),l=n("Sign"),c=[i,s,o,a,l];function u(y){return y==="Retry"?a:y==="Serialize"?i:y==="Deserialize"?o:y==="Sign"?l:s}for(const y of this._policies){const T=y.policy,k=y.options,U=T.name;if(t.has(U))throw new Error("Duplicate policy names not allowed in pipeline");const _={policy:T,dependsOn:new Set,dependants:new Set};k.afterPhase&&(_.afterPhase=u(k.afterPhase),_.afterPhase.hasAfterPolicies=!0),t.set(U,_),u(k.phase).policies.add(_)}for(const y of this._policies){const{policy:T,options:k}=y,U=T.name,_=t.get(U);if(!_)throw new Error(`Missing node for policy ${U}`);if(k.afterPolicies)for(const G of k.afterPolicies){const D=t.get(G);D&&(_.dependsOn.add(D),D.dependants.add(_))}if(k.beforePolicies)for(const G of k.beforePolicies){const D=t.get(G);D&&(D.dependsOn.add(_),_.dependants.add(D))}}function f(y){y.hasRun=!0;for(const T of y.policies)if(!(T.afterPhase&&(!T.afterPhase.hasRun||T.afterPhase.policies.size))&&T.dependsOn.size===0){e.push(T.policy);for(const k of T.dependants)k.dependsOn.delete(T);t.delete(T.policy.name),y.policies.delete(T)}}function d(){for(const y of c){if(f(y),y.policies.size>0&&y!==s){s.hasRun||f(s);return}y.hasAfterPolicies&&f(s)}}let g=0;for(;t.size>0;){g++;const y=e.length;if(d(),e.length<=y&&g>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}function rU(){return od.create()}function nU(...r){if(r.length>0){const e=String(r[0]);e.includes(":error")?console.error(...r):e.includes(":warning")?console.warn(...r):e.includes(":info")?console.info(...r):e.includes(":verbose")?console.debug(...r):console.debug(...r)}}const US=typeof process<"u"&&process.env&&{}.DEBUG||void 0;let V2,IO=[],RO=[];const ad=[];US&&Iy(US);const Z2=Object.assign(r=>W2(r),{enable:Iy,enabled:Ry,disable:iU,log:nU});function Iy(r){V2=r,IO=[],RO=[];const e=/\*/g,t=r.split(",").map(n=>n.trim().replace(e,".*?"));for(const n of t)n.startsWith("-")?RO.push(new RegExp(`^${n.substr(1)}$`)):IO.push(new RegExp(`^${n}$`));for(const n of ad)n.enabled=Ry(n.namespace)}function Ry(r){if(r.endsWith("*"))return!0;for(const e of RO)if(e.test(r))return!1;for(const e of IO)if(e.test(r))return!0;return!1}function iU(){const r=V2||"";return Iy(""),r}function W2(r){const e=Object.assign(t,{enabled:Ry(r),destroy:sU,log:Z2.log,namespace:r,extend:oU});function t(...n){e.enabled&&(n.length>0&&(n[0]=`${r} ${n[0]}`),e.log(...n))}return ad.push(e),e}function sU(){const r=ad.indexOf(this);return r>=0?(ad.splice(r,1),!0):!1}function oU(r){const e=W2(`${this.namespace}:${r}`);return e.log=this.log,e}const Uc=Z2,X2=new Set,df=typeof process<"u"&&process.env&&{}.AZURE_LOG_LEVEL||void 0;let MO;const BO=Uc("azure");BO.log=(...r)=>{Uc.log(...r)};const My=["verbose","info","warning","error"];df&&(H2(df)?aU(df):console.error(`AZURE_LOG_LEVEL set to unknown log level '${df}'; logging is not enabled. Acceptable values: ${My.join(", ")}.`));function aU(r){if(r&&!H2(r))throw new Error(`Unknown log level '${r}'. Acceptable values: ${My.join(",")}`);MO=r;const e=[];for(const t of X2)G2(t)&&e.push(t.namespace);Uc.enable(e.join(","))}const qS={verbose:400,info:300,warning:200,error:100};function By(r){const e=BO.extend(r);return Y2(BO,e),{error:pf(e,"error"),warning:pf(e,"warning"),info:pf(e,"info"),verbose:pf(e,"verbose")}}function Y2(r,e){e.log=(...t)=>{r.log(...t)}}function pf(r,e){const t=Object.assign(r.extend(e),{level:e});if(Y2(r,t),G2(t)){const n=Uc.disable();Uc.enable(n+","+t.namespace)}return X2.add(t),t}function G2(r){return!!(MO&&qS[r.level]<=qS[MO])}function H2(r){return My.includes(r)}const wl=By("core-rest-pipeline");class zy extends Error{constructor(e){super(e),this.name="AbortError"}}function lU(r,e){return r=Math.ceil(r),e=Math.floor(e),Math.floor(Math.random()*(e-r+1))+r}function K2(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&!(r instanceof RegExp)&&!(r instanceof Date)}function Fy(r){if(K2(r)){const e=typeof r.name=="string",t=typeof r.message=="string";return e&&t}return!1}function ip(r){if(Fy(r))return r.message;{let e;try{typeof r=="object"&&r?e=JSON.stringify(r):e=String(r)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}const bm="REDACTED",cU=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],uU=["api-version"];class J2{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:t=[]}={}){e=cU.concat(e),t=uU.concat(t),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(t.map(n=>n.toLowerCase()))}sanitize(e){const t=new Set;return JSON.stringify(e,(n,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(n==="headers")return this.sanitizeHeaders(i);if(n==="url")return this.sanitizeUrl(i);if(n==="query")return this.sanitizeQuery(i);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(i)||K2(i)){if(t.has(i))return"[Circular]";t.add(i)}return i},2)}sanitizeHeaders(e){const t={};for(const n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?t[n]=e[n]:t[n]=bm;return t}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;const t={};for(const n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?t[n]=e[n]:t[n]=bm;return t}sanitizeUrl(e){if(typeof e!="string"||e===null)return e;const t=new URL(e);if(!t.search)return e;for(const[n]of t.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||t.searchParams.set(n,bm);return t.toString()}}const fU="logPolicy";function hU(r={}){var e;const t=(e=r.logger)!==null&&e!==void 0?e:wl.info,n=new J2({additionalAllowedHeaderNames:r.additionalAllowedHeaderNames,additionalAllowedQueryParameters:r.additionalAllowedQueryParameters});return{name:fU,async sendRequest(i,s){if(!t.enabled)return s(i);t(`Request: ${n.sanitize(i)}`);const o=await s(i);return t(`Response status code: ${o.status}`),t(`Headers: ${n.sanitize(o.headers)}`),o}}}function dU(){return"x-ms-useragent"}function pU(r){var e,t,n;const i=globalThis.navigator;r.set("OS",((n=(t=(e=i==null?void 0:i.userAgentData)===null||e===void 0?void 0:e.platform)!==null&&t!==void 0?t:i==null?void 0:i.platform)!==null&&n!==void 0?n:"unknown").replace(" ",""))}const eA="1.10.2",zO=3;function mU(r){const e=[];for(const[t,n]of r){const i=n?`${t}/${n}`:t;e.push(i)}return e.join(" ")}function gU(){return dU()}function tA(r){const e=new Map;e.set("core-rest-pipeline",eA),pU(e);const t=mU(e);return r?`${r} ${t}`:t}const LS=gU(),OU="userAgentPolicy";function yU(r={}){const e=tA(r.userAgentPrefix);return{name:OU,async sendRequest(t,n){return t.headers.has(LS)||t.headers.set(LS,e),n(t)}}}const xU="The operation was aborted.";function rA(r,e,t){return new Promise((n,i)=>{let s,o;const a=()=>i(new zy(t!=null&&t.abortErrorMsg?t==null?void 0:t.abortErrorMsg:xU)),l=()=>{t!=null&&t.abortSignal&&o&&t.abortSignal.removeEventListener("abort",o)};if(o=()=>(s&&clearTimeout(s),l(),a()),t!=null&&t.abortSignal&&t.abortSignal.aborted)return a();s=setTimeout(()=>{l(),n(e)},r),t!=null&&t.abortSignal&&t.abortSignal.addEventListener("abort",o)})}function bU(r,e){const t=r.headers.get(e);if(!t)return;const n=Number(t);if(!Number.isNaN(n))return n}const FO="Retry-After",SU=["retry-after-ms","x-ms-retry-after-ms",FO];function nA(r){if(r&&[429,503].includes(r.status))try{for(const i of SU){const s=bU(r,i);if(s===0||s)return s*(i===FO?1e3:1)}const e=r.headers.get(FO);if(!e)return;const n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}function vU(r){return Number.isFinite(nA(r))}function wU(){return{name:"throttlingRetryStrategy",retry({response:r}){const e=nA(r);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}const $U=1e3,CU=1e3*64;function TU(r={}){var e,t;const n=(e=r.retryDelayInMs)!==null&&e!==void 0?e:$U,i=(t=r.maxRetryDelayInMs)!==null&&t!==void 0?t:CU;let s=n;return{name:"exponentialRetryStrategy",retry({retryCount:o,response:a,responseError:l}){const c=_U(l),u=c&&r.ignoreSystemErrors,f=PU(a),d=f&&r.ignoreHttpStatusCodes;if(a&&(vU(a)||!f)||d||u)return{skipStrategy:!0};if(l&&!c&&!f)return{errorToThrow:l};const y=s*Math.pow(2,o),T=Math.min(i,y);return s=T/2+lU(0,T/2),{retryAfterInMs:s}}}}function PU(r){return!!(r&&r.status!==void 0&&(r.status>=500||r.status===408)&&r.status!==501&&r.status!==505)}function _U(r){return r?r.code==="ETIMEDOUT"||r.code==="ESOCKETTIMEDOUT"||r.code==="ECONNREFUSED"||r.code==="ECONNRESET"||r.code==="ENOENT":!1}const jS=By("core-rest-pipeline retryPolicy"),AU="retryPolicy";function kU(r,e={maxRetries:zO}){const t=e.logger||jS;return{name:AU,async sendRequest(n,i){var s,o;let a,l,c=-1;e:for(;;){c+=1,a=void 0,l=void 0;try{t.info(`Retry ${c}: Attempting to send request`,n.requestId),a=await i(n),t.info(`Retry ${c}: Received a response from request`,n.requestId)}catch(u){if(t.error(`Retry ${c}: Received an error from request`,n.requestId),l=u,!u||l.name!=="RestError")throw u;a=l.response}if(!((s=n.abortSignal)===null||s===void 0)&&s.aborted)throw t.error(`Retry ${c}: Request aborted.`),new zy;if(c>=((o=e.maxRetries)!==null&&o!==void 0?o:zO)){if(t.info(`Retry ${c}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),l)throw l;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}t.info(`Retry ${c}: Processing ${r.length} retry strategies.`);t:for(const u of r){const f=u.logger||jS;f.info(`Retry ${c}: Processing retry strategy ${u.name}.`);const d=u.retry({retryCount:c,response:a,responseError:l});if(d.skipStrategy){f.info(`Retry ${c}: Skipped.`);continue t}const{errorToThrow:g,retryAfterInMs:y,redirectTo:T}=d;if(g)throw f.error(`Retry ${c}: Retry strategy ${u.name} throws error:`,g),g;if(y||y===0){f.info(`Retry ${c}: Retry strategy ${u.name} retries after ${y}`),await rA(y,void 0,{abortSignal:n.abortSignal});continue e}if(T){f.info(`Retry ${c}: Retry strategy ${u.name} redirects to ${T}`),n.url=T;continue e}}if(l)throw t.info("None of the retry strategies could work with the received error. Throwing it."),l;if(a)return t.info("None of the retry strategies could work with the received response. Returning it."),a}}}}const EU="defaultRetryPolicy";function QU(r={}){var e;return{name:EU,sendRequest:kU([wU(),TU(r)],{maxRetries:(e=r.maxRetries)!==null&&e!==void 0?e:zO}).sendRequest}}const NU="formDataPolicy";function IU(){return{name:NU,async sendRequest(r,e){if(r.formData){const t=r.formData,n=new FormData;for(const s of Object.keys(t)){const o=t[s];if(Array.isArray(o))for(const a of o)n.append(s,a);else n.append(s,o)}r.body=n,r.formData=void 0;const i=r.headers.get("Content-Type");i&&i.indexOf("application/x-www-form-urlencoded")!==-1?r.body=new URLSearchParams(n).toString():i&&i.indexOf("multipart/form-data")!==-1&&r.headers.delete("Content-Type")}return e(r)}}}const RU="setClientRequestIdPolicy";function MU(r="x-ms-client-request-id"){return{name:RU,async sendRequest(e,t){return e.headers.has(r)||e.headers.set(r,e.requestId),t(e)}}}const pc={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function BU(r={}){let e=new mc(r.parentContext);return r.span&&(e=e.setValue(pc.span,r.span)),r.namespace&&(e=e.setValue(pc.namespace,r.namespace)),e}class mc{constructor(e){this._contextMap=e instanceof mc?new Map(e._contextMap):new Map}setValue(e,t){const n=new mc(this);return n._contextMap.set(e,t),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){const t=new mc(this);return t._contextMap.delete(e),t}}function zU(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}function FU(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(r,e)=>({span:zU(),tracingContext:BU({parentContext:e.tracingContext})}),withContext(r,e,...t){return e(...t)}}}let Sm;function mf(){return Sm||(Sm=FU()),Sm}function DU(r){const{namespace:e,packageName:t,packageVersion:n}=r;function i(c,u,f){var d;const g=mf().startSpan(c,Object.assign(Object.assign({},f),{packageName:t,packageVersion:n,tracingContext:(d=u==null?void 0:u.tracingOptions)===null||d===void 0?void 0:d.tracingContext}));let y=g.tracingContext;const T=g.span;y.getValue(pc.namespace)||(y=y.setValue(pc.namespace,e)),T.setAttribute("az.namespace",y.getValue(pc.namespace));const k=Object.assign({},u,{tracingOptions:Object.assign(Object.assign({},u==null?void 0:u.tracingOptions),{tracingContext:y})});return{span:T,updatedOptions:k}}async function s(c,u,f,d){const{span:g,updatedOptions:y}=i(c,u,d);try{const T=await o(y.tracingOptions.tracingContext,()=>Promise.resolve(f(y,g)));return g.setStatus({status:"success"}),T}catch(T){throw g.setStatus({status:"error",error:T}),T}finally{g.end()}}function o(c,u,...f){return mf().withContext(c,u,...f)}function a(c){return mf().parseTraceparentHeader(c)}function l(c){return mf().createRequestHeaders(c)}return{startSpan:i,withSpan:s,withContext:o,parseTraceparentHeader:a,createRequestHeaders:l}}const UU={},qU=new J2;class vn extends Error{constructor(e,t={}){super(e),this.name="RestError",this.code=t.code,this.statusCode=t.statusCode,this.request=t.request,this.response=t.response,Object.setPrototypeOf(this,vn.prototype)}[UU](){return`RestError: ${this.message} 
 ${qU.sanitize(this)}`}}vn.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";vn.PARSE_ERROR="PARSE_ERROR";function LU(r){return r instanceof vn?!0:Fy(r)&&r.name==="RestError"}const jU="tracingPolicy";function VU(r={}){const e=tA(r.userAgentPrefix),t=ZU();return{name:jU,async sendRequest(n,i){var s,o;if(!t||!(!((s=n.tracingOptions)===null||s===void 0)&&s.tracingContext))return i(n);const{span:a,tracingContext:l}=(o=WU(t,n,e))!==null&&o!==void 0?o:{};if(!a||!l)return i(n);try{const c=await t.withContext(l,i,n);return YU(a,c),c}catch(c){throw XU(a,c),c}}}}function ZU(){try{return DU({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:eA})}catch(r){wl.warning(`Error when creating the TracingClient: ${ip(r)}`);return}}function WU(r,e,t){try{const{span:n,updatedOptions:i}=r.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":e.method,"http.url":e.url,requestId:e.requestId}});if(!n.isRecording()){n.end();return}t&&n.setAttribute("http.user_agent",t);const s=r.createRequestHeaders(i.tracingOptions.tracingContext);for(const[o,a]of Object.entries(s))e.headers.set(o,a);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(n){wl.warning(`Skipping creating a tracing span due to an error: ${ip(n)}`);return}}function XU(r,e){try{r.setStatus({status:"error",error:Fy(e)?e:void 0}),LU(e)&&e.statusCode&&r.setAttribute("http.status_code",e.statusCode),r.end()}catch(t){wl.warning(`Skipping tracing span processing due to an error: ${ip(t)}`)}}function YU(r,e){try{r.setAttribute("http.status_code",e.status);const t=e.headers.get("x-ms-request-id");t&&r.setAttribute("serviceRequestId",t),r.setStatus({status:"success"}),r.end()}catch(t){wl.warning(`Skipping tracing span processing due to an error: ${ip(t)}`)}}function GU(r){const e=rU();return e.addPolicy(IU()),e.addPolicy(yU(r.userAgentOptions)),e.addPolicy(MU()),e.addPolicy(QU(r.retryOptions),{phase:"Retry"}),e.addPolicy(VU(r.userAgentOptions),{afterPhase:"Retry"}),e.addPolicy(hU(r.loggingOptions),{afterPhase:"Sign"}),e}function gf(r){return r.toLowerCase()}function*HU(r){for(const e of r.values())yield[e.name,e.value]}class KU{constructor(e){if(this._headersMap=new Map,e)for(const t of Object.keys(e))this.set(t,e[t])}set(e,t){this._headersMap.set(gf(e),{name:e,value:String(t)})}get(e){var t;return(t=this._headersMap.get(gf(e)))===null||t===void 0?void 0:t.value}has(e){return this._headersMap.has(gf(e))}delete(e){this._headersMap.delete(gf(e))}toJSON(e={}){const t={};if(e.preserveCase)for(const n of this._headersMap.values())t[n.name]=n.value;else for(const[n,i]of this._headersMap)t[n]=i.value;return t}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return HU(this._headersMap)}}function iA(r){return new KU(r)}function JU(r){return r&&typeof r.pipe=="function"}function sA(r){return!!(r&&typeof r.getReader=="function"&&typeof r.tee=="function")}function eq(r){return(typeof Blob=="function"||typeof Blob=="object")&&r instanceof Blob}class tq{async sendRequest(e){if(new URL(e.url).protocol!=="https:"&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");try{return await rq(e)}catch(i){throw sq(i,e)}}}async function rq(r){const{abortController:e,abortControllerCleanup:t}=iq(r);try{const n=oq(r.headers),i=lq(r),s=await fetch(r.url,{body:i,method:r.method,headers:n,signal:e.signal,credentials:r.withCredentials?"include":"same-origin",cache:"no-store"});return eq(r.body)&&r.onUploadProgress&&r.onUploadProgress({loadedBytes:r.body.size}),nq(s,r)}finally{t&&t()}}async function nq(r,e){var t,n;const i=aq(r),s={request:e,headers:i,status:r.status},o=sA(r.body)?oA(r.body,e.onDownloadProgress):r.body;if(!((t=e.streamResponseStatusCodes)===null||t===void 0)&&t.has(Number.POSITIVE_INFINITY)||!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(s.status))if(e.enableBrowserStreams)s.browserStreamBody=o??void 0;else{const a=new Response(o);s.blobBody=a.blob()}else{const a=new Response(o);s.bodyAsText=await a.text()}return s}function iq(r){const e=new AbortController;let t,n;if(r.abortSignal){if(r.abortSignal.aborted)throw new zy("The operation was aborted.");n=i=>{i.type==="abort"&&e.abort()},r.abortSignal.addEventListener("abort",n),t=()=>{var i;n&&((i=r.abortSignal)===null||i===void 0||i.removeEventListener("abort",n))}}return r.timeout>0&&setTimeout(()=>{e.abort()},r.timeout),{abortController:e,abortControllerCleanup:t}}function sq(r,e){var t;return r&&(r==null?void 0:r.name)==="AbortError"?r:new vn(`Error sending request: ${r.message}`,{code:(t=r==null?void 0:r.code)!==null&&t!==void 0?t:vn.REQUEST_SEND_ERROR,request:e})}function oq(r){const e=new Headers;for(const[t,n]of r)e.append(t,n);return e}function aq(r){const e=iA();for(const[t,n]of r.headers)e.set(t,n);return e}function lq(r){const e=typeof r.body=="function"?r.body():r.body;if(JU(e))throw new Error("Node streams are not supported in browser environment.");return sA(e)?oA(e,r.onUploadProgress):e}function oA(r,e){let t=0;if(uq(r))return r.pipeThrough(new TransformStream({transform(n,i){if(n===null){i.terminate();return}i.enqueue(n),t+=n.length,e&&e({loadedBytes:t})}}));{const n=r.getReader();return new ReadableStream({async pull(i){var s;const{done:o,value:a}=await n.read();if(o||!a){i.close(),n.releaseLock();return}t+=(s=a==null?void 0:a.length)!==null&&s!==void 0?s:0,i.enqueue(a),e&&e({loadedBytes:t})}})}}function cq(){return new tq}function uq(r){return r.pipeThrough!==void 0&&self.TransformStream!==void 0}function fq(){return cq()}var Of,hq=new Uint8Array(16);function dq(){if(!Of&&(Of=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Of))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Of(hq)}const pq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mq(r){return typeof r=="string"&&pq.test(r)}var Lr=[];for(var vm=0;vm<256;++vm)Lr.push((vm+256).toString(16).substr(1));function gq(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Lr[r[e+0]]+Lr[r[e+1]]+Lr[r[e+2]]+Lr[r[e+3]]+"-"+Lr[r[e+4]]+Lr[r[e+5]]+"-"+Lr[r[e+6]]+Lr[r[e+7]]+"-"+Lr[r[e+8]]+Lr[r[e+9]]+"-"+Lr[r[e+10]]+Lr[r[e+11]]+Lr[r[e+12]]+Lr[r[e+13]]+Lr[r[e+14]]+Lr[r[e+15]]).toLowerCase();if(!mq(t))throw TypeError("Stringified UUID is invalid");return t}function Oq(r,e,t){r=r||{};var n=r.random||(r.rng||dq)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return gq(n)}function yq(){return Oq()}class xq{constructor(e){var t,n,i,s,o,a,l;this.url=e.url,this.body=e.body,this.headers=(t=e.headers)!==null&&t!==void 0?t:iA(),this.method=(n=e.method)!==null&&n!==void 0?n:"GET",this.timeout=(i=e.timeout)!==null&&i!==void 0?i:0,this.formData=e.formData,this.disableKeepAlive=(s=e.disableKeepAlive)!==null&&s!==void 0?s:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(o=e.withCredentials)!==null&&o!==void 0?o:!1,this.abortSignal=e.abortSignal,this.tracingOptions=e.tracingOptions,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||yq(),this.allowInsecureConnection=(a=e.allowInsecureConnection)!==null&&a!==void 0?a:!1,this.enableBrowserStreams=(l=e.enableBrowserStreams)!==null&&l!==void 0?l:!1}}function bq(r){return new xq(r)}const Sq={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function vq(r,e,t){async function n(){if(Date.now()<t)try{return await r()}catch{return null}else{const s=await r();if(s===null)throw new Error("Failed to refresh access token.");return s}}let i=await n();for(;i===null;)await rA(e),i=await n();return i}function wq(r,e){let t=null,n=null,i;const s=Object.assign(Object.assign({},Sq),e),o={get isRefreshing(){return t!==null},get shouldRefresh(){var l;return!o.isRefreshing&&((l=n==null?void 0:n.expiresOnTimestamp)!==null&&l!==void 0?l:0)-s.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-s.forcedRefreshWindowInMs<Date.now()}};function a(l,c){var u;return o.isRefreshing||(t=vq(()=>r.getToken(l,c),s.retryIntervalInMs,(u=n==null?void 0:n.expiresOnTimestamp)!==null&&u!==void 0?u:Date.now()).then(d=>(t=null,n=d,i=c.tenantId,n)).catch(d=>{throw t=null,n=null,i=void 0,d})),t}return async(l,c)=>i!==c.tenantId||!!c.claims||o.mustRefresh?a(l,c):(o.shouldRefresh&&a(l,c),n)}const $q="bearerTokenAuthenticationPolicy";async function Cq(r){const{scopes:e,getAccessToken:t,request:n}=r,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions},s=await t(e,i);s&&r.request.headers.set("Authorization",`Bearer ${s.token}`)}function Tq(r){const e=r.headers.get("WWW-Authenticate");if(r.status===401&&e)return e}function Pq(r){var e;const{credential:t,scopes:n,challengeCallbacks:i}=r,s=r.logger||wl,o=Object.assign({authorizeRequest:(e=i==null?void 0:i.authorizeRequest)!==null&&e!==void 0?e:Cq,authorizeRequestOnChallenge:i==null?void 0:i.authorizeRequestOnChallenge},i),a=t?wq(t):()=>Promise.resolve(null);return{name:$q,async sendRequest(l,c){if(!l.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await o.authorizeRequest({scopes:Array.isArray(n)?n:[n],request:l,getAccessToken:a,logger:s});let u,f;try{u=await c(l)}catch(d){f=d,u=d.response}if(o.authorizeRequestOnChallenge&&(u==null?void 0:u.status)===401&&Tq(u)&&await o.authorizeRequestOnChallenge({scopes:Array.isArray(n)?n:[n],request:l,response:u,getAccessToken:a,logger:s}))return c(l);if(f)throw f;return u}}}const{Buffer:ch}=ur,$l=async r=>new Promise(e=>{setTimeout(e,r)}),du=(r,e)=>Object.fromEntries(Object.entries(r).map(e)),_q=(()=>{try{return ch.concat([Uint8Array.from([])]),!1}catch{return!0}})(),$s=_q?(r,e)=>ch.concat(r.map(t=>ch.from(t)),e):ch.concat;function aA(r,e){return r in e}function gc(r,e){return e.includes(r)}function Dy(r){return r instanceof vn&&r.statusCode===404&&r.message.includes("Account not found")}function Aq(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,a=r.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,T=0,k=0,U=g.length;k!==U&&g[k]===0;)k++,y++;for(var _=(U-k)*c+1>>>0,G=new Uint8Array(_);k!==U;){for(var D=g[k],Y=0,ee=_-1;(D!==0||Y<T)&&ee!==-1;ee--,Y++)D+=256*G[ee]>>>0,G[ee]=D%o>>>0,D=D/o>>>0;if(D!==0)throw new Error("Non-zero carry");T=Y,k++}for(var re=_-T;re!==_&&G[re]===0;)re++;for(var S=a.repeat(y);re<_;++re)S+=r.charAt(G[re]);return S}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var y=0,T=0,k=0;g[y]===a;)T++,y++;for(var U=(g.length-y)*l+1>>>0,_=new Uint8Array(U);g[y];){var G=e[g.charCodeAt(y)];if(G===255)return;for(var D=0,Y=U-1;(G!==0||D<k)&&Y!==-1;Y--,D++)G+=o*_[Y]>>>0,_[Y]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");k=D,y++}for(var ee=U-k;ee!==U&&_[ee]===0;)ee++;for(var re=new Uint8Array(T+(U-ee)),S=T;ee!==U;)re[S++]=_[ee++];return re}function d(g){var y=f(g);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:f,decode:d}}var kq=Aq;const Eq=kq,Qq="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var lA=Eq(Qq),DO={},VS={get exports(){return DO},set exports(r){DO=r}};typeof Object.create=="function"?VS.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:VS.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var cA=ra.Buffer;function sp(r,e){this._block=cA.alloc(r),this._finalSize=e,this._blockSize=r,this._len=0}sp.prototype.update=function(r,e){typeof r=="string"&&(e=e||"utf8",r=cA.from(r,e));for(var t=this._block,n=this._blockSize,i=r.length,s=this._len,o=0;o<i;){for(var a=s%n,l=Math.min(i-o,n-a),c=0;c<l;c++)t[a+c]=r[o+c];s+=l,o+=l,s%n===0&&this._update(t)}return this._len+=i,this};sp.prototype.digest=function(r){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var n=(t&4294967295)>>>0,i=(t-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return r?s.toString(r):s};sp.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Nq=sp,Iq=DO,uA=Nq,Rq=ra.Buffer,Mq=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Bq=new Array(64);function pu(){this.init(),this._w=Bq,uA.call(this,64,56)}Iq(pu,uA);pu.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function zq(r,e,t){return t^r&(e^t)}function Fq(r,e,t){return r&e|t&(r|e)}function Dq(r){return(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10)}function Uq(r){return(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7)}function qq(r){return(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3}function Lq(r){return(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10}pu.prototype._update=function(r){for(var e=this._w,t=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=r.readInt32BE(u*4);for(;u<64;++u)e[u]=Lq(e[u-2])+e[u-7]+qq(e[u-15])+e[u-16]|0;for(var f=0;f<64;++f){var d=c+Uq(o)+zq(o,a,l)+Mq[f]+e[f]|0,g=Dq(t)+Fq(t,n,i)|0;c=l,l=a,a=o,o=s+d|0,s=i,i=n,n=t,t=d+g|0}this._a=t+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};pu.prototype._hash=function(){var r=Rq.allocUnsafe(32);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r.writeInt32BE(this._h,28),r};var fA=pu;let j;(function(r){r.KeyBlockHash="kh",r.MicroBlockHash="mh",r.BlockPofHash="bf",r.BlockTxHash="bx",r.BlockStateHash="bs",r.Channel="ch",r.ContractAddress="ct",r.ContractBytearray="cb",r.ContractStoreKey="ck",r.ContractStoreValue="cv",r.Transaction="tx",r.TxHash="th",r.OracleAddress="ok",r.OracleQuery="ov",r.OracleQueryId="oq",r.OracleResponse="or",r.AccountAddress="ak",r.Signature="sg",r.Commitment="cm",r.PeerPubkey="pp",r.Name="nm",r.State="st",r.Poi="pi",r.StateTrees="ss",r.CallStateTree="cs",r.Bytearray="ba"})(j||(j={}));const{Buffer:hA}=ur,{encode:jq,decode:Vq}=lA;function ZS(r){return new fA().update(r).digest()}const WS=[j.ContractBytearray,j.ContractStoreKey,j.ContractStoreValue,j.Transaction,j.OracleQuery,j.OracleResponse,j.State,j.Poi,j.StateTrees,j.CallStateTree,j.Bytearray],XS=[j.KeyBlockHash,j.MicroBlockHash,j.BlockPofHash,j.BlockTxHash,j.BlockStateHash,j.Channel,j.ContractAddress,j.TxHash,j.OracleAddress,j.OracleQueryId,j.AccountAddress,j.Signature,j.Commitment,j.PeerPubkey,j.Name],YS={[j.KeyBlockHash]:32,[j.MicroBlockHash]:32,[j.BlockPofHash]:32,[j.BlockTxHash]:32,[j.BlockStateHash]:32,[j.Channel]:32,[j.ContractAddress]:32,[j.TxHash]:32,[j.OracleAddress]:32,[j.OracleQueryId]:32,[j.AccountAddress]:32,[j.Signature]:64,[j.Commitment]:32,[j.PeerPubkey]:32,[j.State]:32};function dA(r,e){if(!aA(e,YS))return;const t=YS[e];if(!(t==null||r.length===t))throw new T4(`Payload should be ${t} bytes, got ${r.length} instead`)}const pA=r=>ZS(ZS(r)).slice(0,4),mA=r=>$s([r,pA(r)]);function gA(r){const e=r.slice(0,-4);if(!pA(e).equals(r.slice(-4)))throw new S4;return e}const Zq={encode:r=>mA(r).toString("base64"),decode:r=>gA(hA.from(r,"base64"))},Wq={encode:r=>jq(mA(r)),decode:r=>gA(hA.from(Vq(r)))},OA=r=>{const e=WS.find(n=>n===r);if(e!=null)return[e,Zq];const t=XS.find(n=>n===r);if(t!=null)return[t,Wq];throw new Dt("prefix",`one of ${[...XS,...WS].join(", ")}`,r)};function St(r){const[e,t,n]=r.split("_");if(t==null)throw new EO(`Encoded string missing payload: ${r}`);if(n!=null)throw new EO(`Encoded string have extra parts: ${r}`);const[i,s]=OA(e),o=s.decode(t);return dA(o,i),o}function sr(r,e){const[,t]=OA(e);return dA(r,e),`${e}_${t.encode(r)}`}const{Buffer:na}=ur,{blake2b:Xq}=L2,{encode:GS}=tU;function yA(){const[r]=new BigUint64Array(hu.randomBytes(8).buffer);return Number(r%BigInt(Number.MAX_SAFE_INTEGER))}function Yn(r){return na.from(Xq(r,void 0,32))}function Yq(r){return hu.sign.keyPair.fromSecretKey(r)}function xA(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const e=hu.sign.keyPair(),t=na.from(e.publicKey),n=na.from(e.secretKey);return r?{publicKey:t,secretKey:n}:{publicKey:sr(t,j.AccountAddress),secretKey:n.toString("hex")}}function Gq(r,e){return hu.sign.detached(na.from(r),na.from(e))}function UO(r,e,t){return hu.sign.detached.verify(r,e,St(t))}function Hq(r){const e=na.from(`aeternity Signed Message:
`,"utf8"),t=na.from(r,"utf8");return Yn($s([GS(e.length),e,GS(t.length),t]))}const Kq=5e4,uh=18e4,Jq=84600,eL=Jq,Oc=1e9,tL=1e14,rL=31,nL=du({31:3,30:5,29:8,28:13,27:21,26:34,25:55,24:89,23:144,22:233,21:377,20:610,19:987,18:1597,17:2584,16:4181,15:6765,14:10946,13:17711,12:28657,11:46368,10:75025,9:121393,8:196418,7:317811,6:514229,5:832040,4:1346269,3:2178309,2:3524578,1:5702887},r=>{let[e,t]=r;return[e,new Ir(t).times(tL)]});let Cs;(function(r){r[r.Iris=5]="Iris",r[r.Ceres=6]="Ceres"})(Cs||(Cs={}));let qc;(function(r){r[r.NoVm=0]="NoVm",r[r.Sophia=1]="Sophia",r[r.SophiaImprovementsMinerva=3]="SophiaImprovementsMinerva",r[r.SophiaImprovementsFortuna=4]="SophiaImprovementsFortuna",r[r.Fate=5]="Fate",r[r.SophiaImprovementsLima=6]="SophiaImprovementsLima",r[r.Fate2=7]="Fate2"})(qc||(qc={}));let bi;(function(r){r[r.NoAbi=0]="NoAbi",r[r.Sophia=1]="Sophia",r[r.Fate=3]="Fate"})(bi||(bi={}));let V;(function(r){r[r.Account=10]="Account",r[r.SignedTx=11]="SignedTx",r[r.SpendTx=12]="SpendTx",r[r.Oracle=20]="Oracle",r[r.OracleRegisterTx=22]="OracleRegisterTx",r[r.OracleQueryTx=23]="OracleQueryTx",r[r.OracleResponseTx=24]="OracleResponseTx",r[r.OracleExtendTx=25]="OracleExtendTx",r[r.Name=30]="Name",r[r.NameClaimTx=32]="NameClaimTx",r[r.NamePreclaimTx=33]="NamePreclaimTx",r[r.NameUpdateTx=34]="NameUpdateTx",r[r.NameRevokeTx=35]="NameRevokeTx",r[r.NameTransferTx=36]="NameTransferTx",r[r.Contract=40]="Contract",r[r.ContractCall=41]="ContractCall",r[r.ContractCreateTx=42]="ContractCreateTx",r[r.ContractCallTx=43]="ContractCallTx",r[r.ChannelCreateTx=50]="ChannelCreateTx",r[r.ChannelDepositTx=51]="ChannelDepositTx",r[r.ChannelWithdrawTx=52]="ChannelWithdrawTx",r[r.ChannelForceProgressTx=521]="ChannelForceProgressTx",r[r.ChannelCloseMutualTx=53]="ChannelCloseMutualTx",r[r.ChannelCloseSoloTx=54]="ChannelCloseSoloTx",r[r.ChannelSlashTx=55]="ChannelSlashTx",r[r.ChannelSettleTx=56]="ChannelSettleTx",r[r.ChannelOffChainTx=57]="ChannelOffChainTx",r[r.ChannelOffChainUpdateTransfer=570]="ChannelOffChainUpdateTransfer",r[r.ChannelOffChainUpdateDeposit=571]="ChannelOffChainUpdateDeposit",r[r.ChannelOffChainUpdateWithdraw=572]="ChannelOffChainUpdateWithdraw",r[r.ChannelOffChainUpdateCreateContract=573]="ChannelOffChainUpdateCreateContract",r[r.ChannelOffChainUpdateCallContract=574]="ChannelOffChainUpdateCallContract",r[r.ChannelClientReconnectTx=575]="ChannelClientReconnectTx",r[r.Channel=58]="Channel",r[r.ChannelSnapshotSoloTx=59]="ChannelSnapshotSoloTx",r[r.TreesPoi=60]="TreesPoi",r[r.StateTrees=62]="StateTrees",r[r.Mtree=63]="Mtree",r[r.MtreeValue=64]="MtreeValue",r[r.ContractsMtree=621]="ContractsMtree",r[r.CallsMtree=622]="CallsMtree",r[r.ChannelsMtree=623]="ChannelsMtree",r[r.NameserviceMtree=624]="NameserviceMtree",r[r.OraclesMtree=625]="OraclesMtree",r[r.AccountsMtree=626]="AccountsMtree",r[r.GaAttachTx=80]="GaAttachTx",r[r.GaMetaTx=81]="GaMetaTx",r[r.PayingForTx=82]="PayingForTx",r[r.GaMetaTxAuthData=810]="GaMetaTxAuthData"})(V||(V={}));const{Buffer:iL}=ur,bA={[Cs.Iris]:{"contract-create":{vmVersion:[qc.Fate2],abiVersion:[bi.Fate]},"contract-call":{vmVersion:[],abiVersion:[bi.Fate,bi.Sophia]},"oracle-call":{vmVersion:[],abiVersion:[bi.NoAbi,bi.Fate]}},[Cs.Ceres]:{"contract-create":{vmVersion:[qc.Fate2],abiVersion:[bi.Fate]},"contract-call":{vmVersion:[],abiVersion:[bi.Fate]},"oracle-call":{vmVersion:[],abiVersion:[bi.NoAbi,bi.Fate]}}};function qO(r,e){var t;const n=bA[r][e];return{vmVersion:(t=n.vmVersion[0])!==null&&t!==void 0?t:qc.Fate2,abiVersion:n.abiVersion[0]}}const sL={serialize(r,e,t){var n;let{consensusProtocolVersion:i=Cs.Iris}=t;return(n=r)!==null&&n!==void 0||(r=qO(i,"contract-create")),iL.from([r.vmVersion,0,r.abiVersion])},async prepare(r,e,t){if(r!=null)return r;if(t.consensusProtocolVersion==null&&Object.keys(Cs).length!==2&&t.onNode!=null)return qO((await t.onNode.getNodeInfo()).consensusProtocolVersion,"contract-create")},deserialize(r){const[e,,t]=r;return{vmVersion:+e,abiVersion:+t}}};var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.utils=Hr.decode=Hr.encode=void 0;function Uy(r){if(Array.isArray(r)){const t=[];for(let i=0;i<r.length;i++)t.push(Uy(r[i]));const n=fh(...t);return fh(KS(n.length,192),n)}const e=TA(r);return e.length===1&&e[0]<128?e:fh(KS(e.length,128),e)}Hr.encode=Uy;function va(r,e,t){if(t>r.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return r.slice(e,t)}function HS(r){if(r[0]===0)throw new Error("invalid RLP: extra zeros");return wA(vA(r))}function KS(r,e){if(r<56)return Uint8Array.from([r+e]);const t=jO(r),n=t.length/2,i=jO(e+55+n);return Uint8Array.from(ld(i+t))}function SA(r,e=!1){if(!r||r.length===0)return Uint8Array.from([]);const t=TA(r),n=LO(t);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}Hr.decode=SA;function LO(r){let e,t,n,i,s;const o=[],a=r[0];if(a<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(a<=183){if(e=a-127,a===128?n=Uint8Array.from([]):n=va(r,1,e),e===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:r.slice(e)}}else if(a<=191){if(t=a-182,r.length-1<t)throw new Error("invalid RLP: not enough bytes for string length");if(e=HS(va(r,1,t)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=va(r,t,e+t),{data:n,remainder:r.slice(e+t)}}else if(a<=247){for(e=a-191,i=va(r,1,e);i.length;)s=LO(i),o.push(s.data),i=s.remainder;return{data:o,remainder:r.slice(e)}}else{if(t=a-246,e=HS(va(r,1,t)),e<56)throw new Error("invalid RLP: encoded list too short");const l=t+e;if(l>r.length)throw new Error("invalid RLP: total length is larger than the data");for(i=va(r,t,l);i.length;)s=LO(i),o.push(s.data),i=s.remainder;return{data:o,remainder:r.slice(l)}}}const oL=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function vA(r){let e="";for(let t=0;t<r.length;t++)e+=oL[r[t]];return e}function wA(r){const e=Number.parseInt(r,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function ld(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2;e[t]=wA(r.slice(n,n+2))}return e}function fh(...r){if(r.length===1)return r[0];const e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}function $A(r){return new TextEncoder().encode(r)}function jO(r){if(r<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=r.toString(16);return e.length%2?`0${e}`:e}function aL(r){return r.length%2?`0${r}`:r}function CA(r){return r.length>=2&&r[0]==="0"&&r[1]==="x"}function lL(r){return typeof r!="string"?r:CA(r)?r.slice(2):r}function TA(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return CA(r)?ld(aL(lL(r))):$A(r);if(typeof r=="number"||typeof r=="bigint")return r?ld(jO(r)):Uint8Array.from([]);if(r==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof r)}Hr.utils={bytesToHex:vA,concatBytes:fh,hexToBytes:ld,utf8ToBytes:$A};const cL={encode:Uy,decode:SA};var PA=Hr.default=cL;const{Buffer:uL}=ur,fL={_getProtocolDetails(r,e){const t=V.ContractCallTx===e||V.GaMetaTx===e?"contract-call":"oracle-call";return qO(r,t).abiVersion},serialize(r,e,t){let{tag:n}=e,{consensusProtocolVersion:i=Cs.Iris}=t;const s=r??this._getProtocolDetails(i,n);return uL.from([s])},async prepare(r,e,t){let{tag:n}=e;if(r!=null)return r;if(t.consensusProtocolVersion==null&&Object.keys(Cs).length!==2&&t.onNode!=null)return this._getProtocolDetails((await t.onNode.getNodeInfo()).consensusProtocolVersion,n)},deserialize(r){return r[0]}},{Buffer:wm}=ur;function Cl(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r==null)return wm.from([]);if(Number.isInteger(r)||Ir.isBigNumber(r)||e){if(Ir.isBigNumber(r)||(r=new Ir(r)),!r.isInteger())throw new sd(`Unexpected not integer value: ${r.toFixed()}`);let t=r.toString(16);return t.length%2===1&&(t=`0${t}`),wm.from(t,"hex")}if(typeof r=="string")return wm.from(r);throw new KD}const{Buffer:JS}=ur,Gs=[j.AccountAddress,j.Name,j.Commitment,j.OracleAddress,j.ContractAddress,j.Channel];function qy(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return{serialize(n){const i=n.slice(0,2);if(!gc(i,Gs))throw new A4(i);if(!gc(i,e))throw new Dt("Address encoding",e.join(", "),i);const s=Gs.indexOf(i)+1;return JS.from([...Cl(s),...St(n)])},deserialize(n){const i=JS.from(n).readUIntBE(0,1),s=Gs[i-1];if(s==null)throw new _4(i);if(!gc(s,e))throw new Dt("Address encoding",e.join(", "),s);return sr(n.subarray(1),s)}}}function hL(r){return{serialize(e,t){return e.map(n=>r.serialize(n,t))},deserialize(e,t){return e.map(n=>r.deserialize(n,t))}}}const{Buffer:dL}=ur,pL={serialize(r){return dL.from([r?1:0])},deserialize(r){return r[0]===1}},{Buffer:ia}=ur;function mL(r,e){const t=ia.from([...St(r),...Cl(e)]),n=Yn(t);return sr(n,j.ContractAddress)}function gL(r,e,t){function n(s){const o=Cl(s,!0);return $s([ia.alloc(32-o.length),o])}const i=Yn(ia.from([...St(r),...n(e),...St(t)]));return sr(i,j.OracleQueryId)}function Ly(r){return sr(Yn(r.toLowerCase()),j.Name)}function OL(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yA();return sr(Yn($s([ia.from(r.toLowerCase()),ia.from(e.toString(16).padStart(64,"0"),"hex")])),j.Commitment)}function VO(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ia.from([]);return new Ir(ia.from(r).toString("hex"),16).toString(10)}const jy=".chain";function Vy(r){return r.endsWith(jy)}j.AccountAddress,j.OracleAddress,j.ContractAddress,j.Channel;function yL(r){const e=r.length-jy.length;return nL[Math.min(e,rL)]}function xL(r){return r.length<13+jy.length}const Lc={serialize(r){if(r<0)throw new Dt("value","greater or equal to 0",r);return Cl(r,!0)},deserialize(r){return VO(r)}},sa={...Lc,serializeAettos(r){return r??"0"},serialize(r,e,t){let{denomination:n=mn.AETTOS}=t;return Lc.serialize(this.serializeAettos(r!=null?ky(r,{denomination:n}):r,e))}},bL={...sa,serialize(r,e,t){var n;if((n=r)!==null&&n!==void 0||(r=0),+r!=0)throw new Vr(`Contract deposit is not refundable, so it should be equal 0, got ${r.toString()} instead`);return sa.serialize(r,e,t)}},{Buffer:SL}=ur;function vL(r,e){return{serialize(t){if(t==null){if(e===!0)return SL.from([]);throw new Dt("Encoded data","provided",t)}return St(t)},deserialize(t){return sr(t,r)}}}const{Buffer:wL}=ur;function $L(r){return{serialize(e,t){let{buildTx:n}=t;return ArrayBuffer.isView(e)?wL.from(e):typeof e=="string"&&e.startsWith("tx_")?St(e):St(n({...e,...r!=null&&{tag:r}}))},deserialize(e,t){let{unpackTx:n}=t;const i=n(sr(e,j.Transaction));if(r!=null&&i.tag!==r)throw new Dt("Tag",r,i.tag);return i}}}const{Buffer:CL}=ur;function TL(r){const e=Object.values(r).filter(t=>typeof t=="number");return{serialize(t){if(typeof t!="number")throw new Dt("value","to be a number",t);if(t>255)throw new Dt("value","to be less than 256",t);if(!gc(t,e))throw new Dt("value","to be a value of Enum",t);return CL.from([t])},deserialize(t){if(t.length!==1)throw new Dt("buffer","to have single element",t.length);const n=t[0];if(!gc(n,e))throw new Dt("value","to be a value of Enum",n);return n}}}const PL=15e3,$m=20,_L=3,AL=r=>{var e;const n=(e={[V.ChannelForceProgressTx]:30,[V.ChannelOffChainTx]:0,[V.ChannelOffChainUpdateCallContract]:0,[V.ChannelOffChainUpdateCreateContract]:0,[V.ChannelOffChainUpdateDeposit]:0,[V.ChannelOffChainUpdateWithdraw]:0,[V.ChannelOffChainUpdateTransfer]:0,[V.ContractCreateTx]:5,[V.ContractCallTx]:12,[V.GaAttachTx]:5,[V.GaMetaTx]:5,[V.PayingForTx]:.2}[r])!==null&&e!==void 0?e:1;return new Ir(n*PL)},kL=(r,e,t)=>{let{relativeTtl:n,innerTxSize:i}=t;switch(r){case V.OracleRegisterTx:case V.OracleExtendTx:case V.OracleQueryTx:case V.OracleResponseTx:return new Ir(e).times($m).plus(Math.ceil(32e3*n/Math.floor(60*24*365/_L)));case V.GaMetaTx:case V.PayingForTx:return new Ir(e).minus(i).times($m);default:return new Ir(e).times($m)}};function EL(r){const e={[V.OracleRegisterTx]:"oracleTtlValue",[V.OracleExtendTx]:"oracleTtlValue",[V.OracleQueryTx]:"queryTtlValue",[V.OracleResponseTx]:"responseTtlValue"},{tag:t}=r;return aA(t,e)?r[e[t]]:1}function _A(r,e,t){const{length:n}=St(r),i=e(r);let s=0;return(i.tag===V.GaMetaTx||i.tag===V.PayingForTx)&&(s=St(t(i.tx.encodedTx)).length),AL(i.tag).plus(kL(i.tag,n,{relativeTtl:EL(i),innerTxSize:s})).times(Oc)}function QL(r,e,t){let n=new Ir(0),i;do i=n,n=_A(r(n),e,t);while(!n.eq(i));return n}const NL={...sa,serializeAettos(r,e){let{rebuildTx:t,unpackTx:n,buildTx:i,_computingMinFee:s,_pickBiggerFee:o}=e;if(s!=null)return s.toFixed();const a=QL(c=>t({_computingMinFee:c}),n,i),l=new Ir(r??a);if(a.gt(l)){if(o===!0)return a.toFixed();throw new Vr(`Fee ${l.toString()} must be bigger then ${a}`)}return l.toFixed()}},{Buffer:IL}=ur,ev={serialize(r){return IL.from(r)},deserialize(r){return r.toString()}},bs={serialize(r){return Lc.serialize(r)},deserialize(r){return+Lc.deserialize(r)}};function RL(r,e,t,n){return r-+_A(e(r),t,n).dividedBy(Oc)}const ML={...bs,serialize(r,e,t){let{tag:n,rebuildTx:i,unpackTx:s,buildTx:o,_computingGasLimit:a}=e,{gasMax:l=6e6}=t;if(a!=null)return bs.serialize(a);const c=n===V.GaMetaTx?Kq:RL(l,f=>i({_computingGasLimit:f,_pickBiggerFee:!0}),s,o),u=r??c;if(u>c)throw new Vr(`Gas limit ${u} must be less or equal to ${c}`);return bs.serialize(u)}},BL={...sa,serializeAettos(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oc.toString();if(+r<Oc)throw new Vr(`Gas price ${r.toString()} must be bigger then ${Oc}`);return r}};function zL(r,e){return{serialize(t,n){let{buildTx:i}=n;return St(i({tag:V.Mtree,values:Object.entries(t).map(s=>{let[o,a]=s;return{tag:V.MtreeValue,key:St(o),value:St(i({...a,tag:e}))}})}))},deserialize(t,n){let{unpackTx:i}=n;const{values:s}=i(sr(t,j.Transaction),V.Mtree);return Object.fromEntries(s.filter(o=>{let{key:a}=o;return r!==j.ContractAddress||a.length===32}).map(o=>{let{key:a,value:l}=o;return[sr(a,r),i(sr(l,j.Transaction),e)]}))},recursiveType:!0}}function FL(r,e,t){if(e.set)e.set.call(r,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function AA(r,e,t){if(!e.has(r))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(r)}function ln(r,e,t){var n=AA(r,e,"set");return FL(r,n,t),t}function DL(r,e){return e.get?e.get.call(r):e.value}function mt(r,e){var t=AA(r,e,"get");return DL(r,t)}const{Buffer:hh}=ur;function tv(r,e){kA(r,e),e.add(r)}function wa(r,e,t){kA(r,e),e.set(r,t)}function kA(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rv(r,e,t){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return t}function cd(r,e,t){return UL(r,e),t}function UL(r,e){if(r!==e)throw new TypeError("Private static access of wrong provenance")}const{encode:qL}=PA;var bn;(function(r){r[r.Branch=0]="Branch",r[r.Extension=1]="Extension",r[r.Leaf=2]="Leaf"})(bn||(bn={}));var js=new WeakMap,yf=new WeakMap,Ui=new WeakMap,xf=new WeakMap,bf=new WeakMap,Sf=new WeakMap,nv=new WeakSet,iv=new WeakSet;class En{get isComplete(){return mt(this,yf)}constructor(e,t,n,i){if(tv(this,iv),tv(this,nv),wa(this,js,{writable:!0,value:void 0}),wa(this,yf,{writable:!0,value:!0}),wa(this,Ui,{writable:!0,value:void 0}),wa(this,xf,{writable:!0,value:void 0}),wa(this,bf,{writable:!0,value:void 0}),wa(this,Sf,{writable:!0,value:void 0}),ln(this,xf,t),ln(this,bf,n),ln(this,Sf,i),ln(this,js,e[0].toString("hex")),ln(this,Ui,Object.fromEntries(e[1].map(s=>[s[0].toString("hex"),s[1]]))),mt(this,Ui)[mt(this,js)]==null){if(Object.keys(mt(this,Ui)).length!==0)throw new NS("Can't find a node by root hash");ln(this,yf,!1);return}Object.entries(mt(this,Ui)).forEach(s=>{let[o,a]=s;if(cd(En,En,LL).call(En,a)!==o)throw new v4;const{type:l}=cd(En,En,Zy).call(En,a);switch(l){case bn.Branch:a.slice(0,16).filter(c=>c.length).forEach(c=>{mt(this,Ui)[c.toString("hex")]==null&&ln(this,yf,!1)});break;case bn.Extension:if(mt(this,Ui)[a[1].toString("hex")]==null)throw new NS("Can't find a node by hash in extension node");break;case bn.Leaf:break;default:throw new Xn(`Unknown MPTree node type: ${l}`)}})}isEqual(e){return mt(this,js)===mt(e,js)}serialize(){return[hh.from(mt(this,js),"hex"),Object.entries(mt(this,Ui)).map(e=>{let[t,n]=e;return[hh.from(t,"hex"),n]})]}get(e){const t=rv(this,nv,jL).call(this,St(e).toString("hex"));return t==null?t:mt(this,Sf).call(this,sr(t,j.Transaction),mt(this,bf))}toObject(){return Object.fromEntries(rv(this,iv,VL).call(this).filter(e=>{let[t]=e;return mt(this,xf)!==j.ContractAddress||t.length!==66}).map(e=>{let[t,n]=e;return[sr(hh.from(t,"hex"),mt(this,xf)),mt(this,Sf).call(this,sr(n,j.Transaction),mt(this,bf))]}))}}function LL(r){return hh.from(Yn(qL(r))).toString("hex")}function Zy(r){switch(r.length){case 17:return{type:bn.Branch,...r[16].length!==0&&{value:r[16]}};case 2:{const e=r[0][0]>>4;if(e>3)throw new $4(e);const t=e<=1?bn.Extension:bn.Leaf,n=[0,2].includes(e)?2:1;return{type:t,...t===bn.Leaf&&{value:r[1]},path:r[0].toString("hex").slice(n)}}default:throw new w4(r.length)}}function jL(r){let e=mt(this,js),t=r;for(;;){const n=mt(this,Ui)[e];if(n==null){if(!this.isComplete)return;throw new Xn("Can't find node in complete tree")}const{type:i,value:s,path:o}=cd(En,En,Zy).call(En,n);switch(i){case bn.Branch:if(t.length===0)return s;e=n[+`0x${t[0]}`].toString("hex"),t=t.substring(1);break;case bn.Extension:if(t.substring(0,o==null?void 0:o.length)!==o)return;e=n[1].toString("hex"),t=t.substring(o.length);break;case bn.Leaf:return o!==t?void 0:s;default:throw new Xn(`Unknown MPTree node type: ${i}`)}}}function VL(){const r=[],e=(t,n)=>{const i=mt(this,Ui)[t];if(i==null){if(!this.isComplete)return;throw new Xn("Can't find node in complete tree")}const{type:s,value:o,path:a}=cd(En,En,Zy).call(En,i);switch(s){case bn.Branch:i.slice(0,16).map((l,c)=>[l,c]).filter(l=>{let[c]=l;return c.length}).forEach(l=>{let[c,u]=l;return e(c.toString("hex"),n+u.toString(16))}),o!=null&&r.push([n,o]);break;case bn.Extension:e(i[1].toString("hex"),n+a);break;case bn.Leaf:if(o==null)throw new fu;r.push([n+a,o]);break;default:throw new Xn(`Unknown MPTree node type: ${s}`)}};return e(mt(this,js),""),r}function ZL(r,e){return{serialize(t){return t.serialize()},deserialize(t,n){let{unpackTx:i}=n;return new En(t,r,e,i)}}}const WL={serialize(r){return ev.serialize(r)},deserialize(r){return ev.deserialize(r)}},XL={...sa,serializeAettos(r,e){const t=yL(e.name),n=new Ir(r??t);if(t.gt(n))throw new s4(n,t);return n.toFixed()},serialize(r,e,t){return sa.serialize.call(this,r,e,t)}},sv=qy(j.Name),YL={...sv,serialize(r){return sv.serialize(Vy(r)?Ly(r):r)}};function GL(r){return{...bs,async prepare(e,t,n){if(e!=null)return e;const{onNode:i,strategy:s}=n,o=n[r],a="provided (or provide `nonce` instead)";if(i==null)throw new Dt("onNode",a,i);if(o==null)throw new Dt("senderId",a,o);return(await i.getAccountNextNonce(o.replace(/^ok_/,"ak_"),{strategy:s}).catch(l=>{if(!Dy(l))throw l;return{nextNonce:1}})).nextNonce},senderKey:r}}const ov=qy(...Gs),HL={serialize(r){if(r.length>32)throw new Vr(`Expected 32 pointers or less, got ${r.length} instead`);return r.map(e=>[Cl(e.key),ov.serialize(e.id)])},deserialize(r){return r.map(e=>{let[t,n]=e;return{key:t.toString(),id:ov.deserialize(n)}})}},{Buffer:KL}=ur,JL={serialize(r){return KL.from(r)},deserialize(r){return r}};function ej(r,e){return{serialize(t){if((e!==!0||t!=null)&&t!==r)throw new Dt("ShortUIntConst",r,t);return bs.serialize(r)},deserialize(t){const n=bs.deserialize(t);if(n!==r)throw new Dt("ShortUIntConst",r,n);return r},constValue:r,constValueOptional:e===!0}}const tj={serialize(r){return Cl(r)},deserialize(r){return r.toString()}},rj={...bs,serialize(r){return bs.serialize(r??0)},async prepare(r,e,t){let{onNode:n,absoluteTtl:i}=t;if(i!==!0&&r!==0&&r!=null){if(n==null)throw new Dt("onNode","provided",n);r+=(await n.getCurrentKeyBlock()).height}return r}};function nj(r){return{serialize(e,t){let{buildTx:n}=t;return St(n({tag:r,payload:e}))},deserialize(e,t){let{unpackTx:n}=t;return n(sr(e,j.Transaction),r).payload},recursiveType:!0}}const Dl=fL,Ue=qy,Pn=hL,ij=pL,wo=sa,vf=sL,av=bL,Mt=vL,op=$L,$a=TL,Gt=NL,Ul=ML,Ca=BL,Tl=zL,Ta=ZL,sj=WL,oj=XL,Cm=YL,rr=GL,lv=HL,$o=JL,pr=bs,pe=ej,Co=tj,cr=rj,qt=Lc,Pa=nj;let Zi;(function(r){r[r.delta=0]="delta",r[r.block=1]="block"})(Zi||(Zi={}));const ud={type:Zi.delta,value:500},cv={type:Zi.delta,value:10},fd={type:Zi.delta,value:10},EA={pub:"ak_11111111111111111111111111111111273Yts",amount:100000000000000000000000000000000000n};let ZO;(function(r){r[r.Ok=0]="Ok",r[r.Error=1]="Error",r[r.Revert=2]="Revert"})(ZO||(ZO={}));const aj=op(),uv=op(V.SignedTx),lj=Pn(op(V.MtreeValue)),fv=op(V.TreesPoi),cj=Tl(j.ContractAddress,V.Contract),uj=Tl(j.AccountAddress,V.Account),fj=Tl(j.Bytearray,V.ContractCall),hj=Tl(j.Channel,V.Channel),dj=Tl(j.Name,V.Name),pj=Tl(j.OracleAddress,V.Oracle),mj=[{tag:pe(V.Account),version:pe(1),nonce:pr,balance:qt},{tag:pe(V.Account),version:pe(2,!0),flags:qt,nonce:pr,balance:qt,gaContract:Ue(j.ContractAddress,j.Name),gaAuthFun:Mt(j.ContractBytearray)},{tag:pe(V.SignedTx),version:pe(1,!0),signatures:Pn($o),encodedTx:aj},{tag:pe(V.SpendTx),version:pe(1,!0),senderId:Ue(j.AccountAddress),recipientId:Ue(j.AccountAddress,j.Name),amount:wo,fee:Gt,ttl:cr,nonce:rr("senderId"),payload:Mt(j.Bytearray,!0)},{tag:pe(V.Name),version:pe(1,!0),accountId:Ue(j.AccountAddress),nameTtl:pr,status:$o,clientTtl:pr,pointers:lv},{tag:pe(V.NamePreclaimTx),version:pe(1,!0),accountId:Ue(j.AccountAddress),nonce:rr("accountId"),commitmentId:Ue(j.Commitment),fee:Gt,ttl:cr},{tag:pe(V.NameClaimTx),version:pe(2,!0),accountId:Ue(j.AccountAddress),nonce:rr("accountId"),name:sj,nameSalt:qt,nameFee:oj,fee:Gt,ttl:cr},{tag:pe(V.NameUpdateTx),version:pe(1,!0),accountId:Ue(j.AccountAddress),nonce:rr("accountId"),nameId:Cm,nameTtl:pr,pointers:lv,clientTtl:pr,fee:Gt,ttl:cr},{tag:pe(V.NameTransferTx),version:pe(1,!0),accountId:Ue(j.AccountAddress),nonce:rr("accountId"),nameId:Cm,recipientId:Ue(j.AccountAddress,j.Name),fee:Gt,ttl:cr},{tag:pe(V.NameRevokeTx),version:pe(1,!0),accountId:Ue(j.AccountAddress),nonce:rr("accountId"),nameId:Cm,fee:Gt,ttl:cr},{tag:pe(V.Contract),version:pe(1,!0),owner:Ue(j.AccountAddress),ctVersion:vf,code:Mt(j.ContractBytearray),log:Mt(j.ContractBytearray),active:ij,referers:Pn(Ue(j.AccountAddress)),deposit:av},{tag:pe(V.ContractCreateTx),version:pe(1,!0),ownerId:Ue(j.AccountAddress),nonce:rr("ownerId"),code:Mt(j.ContractBytearray),ctVersion:vf,fee:Gt,ttl:cr,deposit:av,amount:wo,gasLimit:Ul,gasPrice:Ca,callData:Mt(j.ContractBytearray)},{tag:pe(V.ContractCallTx),version:pe(1,!0),callerId:Ue(j.AccountAddress),nonce:rr("callerId"),contractId:Ue(j.ContractAddress,j.Name),abiVersion:Dl,fee:Gt,ttl:cr,amount:wo,gasLimit:Ul,gasPrice:Ca,callData:Mt(j.ContractBytearray)},{tag:pe(V.ContractCall),version:pe(2,!0),callerId:Ue(j.AccountAddress),callerNonce:pr,height:pr,contractId:Ue(j.ContractAddress),gasPrice:qt,gasUsed:pr,returnValue:Mt(j.ContractBytearray),returnType:$a(ZO),log:Pn($o)},{tag:pe(V.Oracle),version:pe(1,!0),accountId:Ue(j.AccountAddress),queryFormat:Co,responseFormat:Co,queryFee:wo,oracleTtlValue:pr,abiVersion:Dl},{tag:pe(V.OracleRegisterTx),version:pe(1,!0),accountId:Ue(j.AccountAddress),nonce:rr("accountId"),queryFormat:Co,responseFormat:Co,queryFee:wo,oracleTtlType:$a(Zi),oracleTtlValue:pr,fee:Gt,ttl:cr,abiVersion:Dl},{tag:pe(V.OracleExtendTx),version:pe(1,!0),oracleId:Ue(j.OracleAddress,j.Name),nonce:rr("oracleId"),oracleTtlType:$a(Zi),oracleTtlValue:pr,fee:Gt,ttl:cr},{tag:pe(V.OracleQueryTx),version:pe(1,!0),senderId:Ue(j.AccountAddress),nonce:rr("senderId"),oracleId:Ue(j.OracleAddress,j.Name),query:Co,queryFee:wo,queryTtlType:$a(Zi),queryTtlValue:pr,responseTtlType:$a(Zi),responseTtlValue:pr,fee:Gt,ttl:cr},{tag:pe(V.OracleResponseTx),version:pe(1,!0),oracleId:Ue(j.OracleAddress),nonce:rr("oracleId"),queryId:Mt(j.OracleQueryId),response:Co,responseTtlType:$a(Zi),responseTtlValue:pr,fee:Gt,ttl:cr},{tag:pe(V.ChannelCreateTx),version:pe(2,!0),initiator:Ue(j.AccountAddress),initiatorAmount:qt,responder:Ue(j.AccountAddress),responderAmount:qt,channelReserve:qt,lockPeriod:qt,ttl:cr,fee:Gt,initiatorDelegateIds:Pn(Ue(...Gs)),responderDelegateIds:Pn(Ue(...Gs)),stateHash:Mt(j.State),nonce:rr("initiator")},{tag:pe(V.ChannelCloseMutualTx),version:pe(1,!0),channelId:Ue(j.Channel),fromId:Ue(j.AccountAddress),initiatorAmountFinal:qt,responderAmountFinal:qt,ttl:cr,fee:Gt,nonce:rr("fromId")},{tag:pe(V.ChannelCloseSoloTx),version:pe(1,!0),channelId:Ue(j.Channel),fromId:Ue(j.AccountAddress),payload:Mt(j.Transaction),poi:fv,ttl:cr,fee:Gt,nonce:rr("fromId")},{tag:pe(V.ChannelSlashTx),version:pe(1,!0),channelId:Ue(j.Channel),fromId:Ue(j.AccountAddress),payload:Mt(j.Transaction),poi:fv,ttl:cr,fee:Gt,nonce:rr("fromId")},{tag:pe(V.ChannelDepositTx),version:pe(1,!0),channelId:Ue(j.Channel),fromId:Ue(j.AccountAddress),amount:qt,ttl:cr,fee:Gt,stateHash:Mt(j.State),round:pr,nonce:rr("fromId")},{tag:pe(V.ChannelWithdrawTx),version:pe(1,!0),channelId:Ue(j.Channel),toId:Ue(j.AccountAddress),amount:qt,ttl:cr,fee:Gt,stateHash:Mt(j.State),round:pr,nonce:rr("fromId")},{tag:pe(V.ChannelSettleTx),version:pe(1,!0),channelId:Ue(j.Channel),fromId:Ue(j.AccountAddress),initiatorAmountFinal:qt,responderAmountFinal:qt,ttl:cr,fee:Gt,nonce:rr("fromId")},{tag:pe(V.ChannelForceProgressTx),version:pe(1,!0),channelId:Ue(j.Channel),fromId:Ue(j.AccountAddress),payload:Mt(j.Transaction),round:pr,update:Mt(j.ContractBytearray),stateHash:Mt(j.State),offChainTrees:Mt(j.StateTrees),ttl:cr,fee:Gt,nonce:rr("fromId")},{tag:pe(V.ChannelOffChainTx),version:pe(2,!0),channelId:Ue(j.Channel),round:pr,stateHash:Mt(j.State)},{tag:pe(V.Channel),version:pe(3,!0),initiator:Ue(j.AccountAddress),responder:Ue(j.AccountAddress),channelAmount:qt,initiatorAmount:qt,responderAmount:qt,channelReserve:qt,initiatorDelegateIds:Pn(Ue(...Gs)),responderDelegateIds:Pn(Ue(...Gs)),stateHash:Mt(j.State),round:pr,soloRound:qt,lockPeriod:qt,lockedUntil:qt,initiatorAuth:Mt(j.ContractBytearray),responderAuth:Mt(j.ContractBytearray)},{tag:pe(V.ChannelSnapshotSoloTx),version:pe(1,!0),channelId:Ue(j.Channel),fromId:Ue(j.AccountAddress),payload:Mt(j.Transaction),ttl:cr,fee:Gt,nonce:rr("fromId")},{tag:pe(V.ChannelOffChainUpdateTransfer),version:pe(1,!0),from:Ue(j.AccountAddress),to:Ue(j.AccountAddress),amount:qt},{tag:pe(V.ChannelOffChainUpdateDeposit),version:pe(1,!0),from:Ue(j.AccountAddress),amount:qt},{tag:pe(V.ChannelOffChainUpdateWithdraw),version:pe(1,!0),from:Ue(j.AccountAddress),amount:qt},{tag:pe(V.ChannelOffChainUpdateCreateContract),version:pe(1,!0),owner:Ue(j.AccountAddress),ctVersion:vf,code:Mt(j.ContractBytearray),deposit:qt,callData:Mt(j.ContractBytearray)},{tag:pe(V.ChannelOffChainUpdateCallContract),version:pe(1,!0),caller:Ue(j.AccountAddress),contract:Ue(j.ContractAddress),abiVersion:Dl,amount:qt,callData:Mt(j.ContractBytearray),callStack:$o,gasPrice:Ca,gasLimit:Ul},{tag:pe(V.ChannelClientReconnectTx),version:pe(1,!0),channelId:Ue(j.Channel),round:pr,role:Co,pubkey:Ue(j.AccountAddress)},{tag:pe(V.TreesPoi),version:pe(1,!0),accounts:Pn(Ta(j.AccountAddress,V.Account)),calls:Pn(Ta(j.Bytearray,V.ContractCall)),channels:Pn(Ta(j.Channel,V.Channel)),contracts:Pn(Ta(j.ContractAddress,V.Contract)),ns:Pn(Ta(j.Name,V.Name)),oracles:Pn(Ta(j.OracleAddress,V.Oracle))},{tag:pe(V.StateTrees),version:pe(0,!0),contracts:Pa(V.ContractsMtree),calls:Pa(V.CallsMtree),channels:Pa(V.ChannelsMtree),ns:Pa(V.NameserviceMtree),oracles:Pa(V.OraclesMtree),accounts:Pa(V.AccountsMtree)},{tag:pe(V.Mtree),version:pe(1,!0),values:lj},{tag:pe(V.MtreeValue),version:pe(1,!0),key:$o,value:$o},{tag:pe(V.ContractsMtree),version:pe(1,!0),payload:cj},{tag:pe(V.CallsMtree),version:pe(1,!0),payload:fj},{tag:pe(V.ChannelsMtree),version:pe(1,!0),payload:hj},{tag:pe(V.NameserviceMtree),version:pe(1,!0),payload:dj},{tag:pe(V.OraclesMtree),version:pe(1,!0),payload:pj},{tag:pe(V.AccountsMtree),version:pe(1,!0),payload:uj},{tag:pe(V.GaAttachTx),version:pe(1,!0),ownerId:Ue(j.AccountAddress),nonce:rr("ownerId"),code:Mt(j.ContractBytearray),authFun:$o,ctVersion:vf,fee:Gt,ttl:cr,gasLimit:Ul,gasPrice:Ca,callData:Mt(j.ContractBytearray)},{tag:pe(V.GaMetaTx),version:pe(2,!0),gaId:Ue(j.AccountAddress),authData:Mt(j.ContractBytearray),abiVersion:Dl,fee:Gt,gasLimit:Ul,gasPrice:Ca,tx:uv},{tag:pe(V.PayingForTx),version:pe(1,!0),payerId:Ue(j.AccountAddress),nonce:rr("payerId"),fee:Gt,tx:uv},{tag:pe(V.GaMetaTxAuthData),version:pe(1,!0),fee:wo,gasPrice:Ca,txHash:Mt(j.TxHash)}],{decode:gj,encode:Oj}=PA;function ap(r,e){var t;const n=mj.filter(s=>s.tag.constValue===r);if(n.length===0)throw new RS(`${V[r]} (${r})`,0);(t=e)!==null&&t!==void 0||(e=Math.max(...n.map(s=>s.version.constValue)));const i=n.find(s=>s.version.constValue===e);if(i==null)throw new RS(`${V[r]} (${r})`,e);return Object.entries(i)}function Mn(r){let{prefix:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=ap(r.tag,r.version).map(i=>{let[s,o]=i;return o.serialize(r[s],{...r,unpackTx:Hn,buildTx:Mn,rebuildTx:a=>Mn({...r,...a})},r)});return sr(Oj(n),e??j.Transaction)}async function Qr(r){return await Promise.all(ap(r.tag,r.version).map(async e=>{let[t,n]=e;n.prepare!=null&&(r[t]=await n.prepare(r[t],r,r))})),Mn(r)}function Hn(r,e){const t=gj(St(r)),n=+VO(t[0]),i=+VO(t[1]),s=ap(n,i);if(e!=null&&e!==n)throw new EO(`Expected transaction to have ${V[e]} tag, got ${V[n]} instead`);if(t.length!==s.length)throw new Dt("Transaction RLP length",s.length,t.length);return s.reduce((o,a,l)=>{let[c,u]=a;const f=u.deserialize(t[l],{unpackTx:Hn});return{...o,[c]:f}},{})}function Wy(r){const e=typeof r=="string"&&r.startsWith("tx_")?St(r):r;return sr(Yn(e),j.TxHash)}function QA(r){const e=Hn(r);if(V.ContractCreateTx!==e.tag&&V.GaAttachTx!==e.tag)throw new Dt("contractTx","a contractCreateTx or gaAttach",e.tag);return mL(e.ownerId,e.nonce)}function yj(r,e,t){const n=d=>d.split(/[-+]/)[0].split(".").map(g=>+g),i=n(r),s=n(e),o=n(t),a=Math.max(...i,...s,...o)+1,l=d=>d.reverse().reduce((g,y,T)=>g+y*a**T,0),c=l(i),u=l(s),f=l(o);return c>=u&&c<f}const xj=()=>{const r=new Map;return{policy:{name:"request-queues",async sendRequest(e,t){var n;const i=e.headers.get("__queue");e.headers.delete("__queue");const s=async()=>t(e);if(i==null)return s();const o=((n=r.get(i))!==null&&n!==void 0?n:Promise.resolve()).then(s,s);return r.set(i,o.then(async()=>$l(750))),o}},position:"perCall"}},bj=()=>{const r=new Map;return{policy:{name:"combine-get-requests",async sendRequest(e,t){var n;if(e.method!=="GET")return t(e);const i=JSON.stringify([e.url,e.body]),s=(n=r.get(i))!==null&&n!==void 0?n:t(e);r.set(i,s);try{return await s}finally{r.delete(i)}}},position:"perCall"}},Sj=()=>{const r=new Map;return{policy:{name:"aggressive-cache-get-responses",async sendRequest(e,t){var n;if(e.method!=="GET")return t(e);const i=JSON.stringify([e.url,e.body]),s=(n=r.get(i))!==null&&n!==void 0?n:t(e);return r.set(i,s),s}},position:"perCall"}},NA=r=>({policy:{name:"error-formatter",async sendRequest(e,t){try{return await t(e)}catch(i){var n;if(!(i instanceof vn)||i.request==null||((n=i.response)===null||n===void 0?void 0:n.bodyAsText)==null)throw i;let s;try{s=JSON.parse(i.response.bodyAsText)}catch{throw i}i.message=`${new URL(i.request.url).pathname.slice(1)} error`;const o=r(s);throw o!==""&&(i.message+=`:${o}`),i}}},position:"perCall"}),IA=(r,e,t,n,i)=>({name:"version-check",async sendRequest(s,o){if(new URL(s.url).pathname===e)return o(s);const a=await t;if(a instanceof Error)throw a;const l=[a,n,i];if(!yj(...l))throw new n4(r,...l);return o(s)}}),vj=(r,e)=>({policy:{name:"retry-on-failure",async sendRequest(t,n){const i=[200,400,403],s=new Array(r).fill(0).map((f,d)=>((d+1)/r)**2),o=s.reduce((f,d)=>f+d),a=s.map(f=>f/o*e);let l;for(let f=0;f<=r;f+=1){if(l!=null){var c,u;if(!(l instanceof vn)||i.includes((c=(u=l.response)===null||u===void 0?void 0:u.status)!==null&&c!==void 0?c:0))throw l;await $l(a[f-1])}try{return await n(t)}catch(d){l=d}}throw l??new fu}},position:"perCall"});function RA(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}function MA(r){const e=atob(r),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const Gr="$",hd="_";function wj(r,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof r=="string"||typeof r=="number"||typeof r=="boolean"||(e==null?void 0:e.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))!==null||r===void 0||r===null)}const $j=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cj(r){return $j.test(r)}const Tj=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function Pj(r){return Tj.test(r)}function _j(r){const e=Object.assign(Object.assign({},r.headers),r.body);return r.hasNullableType&&Object.getOwnPropertyNames(e).length===0?r.shouldWrapBody?{body:null}:null:r.shouldWrapBody?Object.assign(Object.assign({},r.headers),{body:r.body}):e}function hv(r,e){var t,n;const i=r.parsedHeaders;if(r.request.method==="HEAD")return Object.assign(Object.assign({},i),{body:r.parsedBody});const s=e&&e.bodyMapper,o=!!(s!=null&&s.nullable),a=s==null?void 0:s.type.name;if(a==="Stream")return Object.assign(Object.assign({},i),{blobBody:r.blobBody,readableStreamBody:r.readableStreamBody});const l=a==="Composite"&&s.type.modelProperties||{},c=Object.keys(l).some(u=>l[u].serializedName==="");if(a==="Sequence"||c){const u=(t=r.parsedBody)!==null&&t!==void 0?t:[];for(const f of Object.keys(l))l[f].serializedName&&(u[f]=(n=r.parsedBody)===null||n===void 0?void 0:n[f]);if(i)for(const f of Object.keys(i))u[f]=i[f];return o&&!r.parsedBody&&!i&&Object.getOwnPropertyNames(l).length===0?null:u}return _j({body:r.parsedBody,headers:i,hasNullableType:o,shouldWrapBody:wj(r.parsedBody,a)})}class Aj{constructor(e={},t=!1){this.modelMappers=e,this.isXML=t}validateConstraints(e,t,n){const i=(s,o)=>{throw new Error(`"${n}" with value "${t}" should satisfy the constraint "${s}": ${o}.`)};if(e.constraints&&t!==void 0&&t!==null){const{ExclusiveMaximum:s,ExclusiveMinimum:o,InclusiveMaximum:a,InclusiveMinimum:l,MaxItems:c,MaxLength:u,MinItems:f,MinLength:d,MultipleOf:g,Pattern:y,UniqueItems:T}=e.constraints;if(s!==void 0&&t>=s&&i("ExclusiveMaximum",s),o!==void 0&&t<=o&&i("ExclusiveMinimum",o),a!==void 0&&t>a&&i("InclusiveMaximum",a),l!==void 0&&t<l&&i("InclusiveMinimum",l),c!==void 0&&t.length>c&&i("MaxItems",c),u!==void 0&&t.length>u&&i("MaxLength",u),f!==void 0&&t.length<f&&i("MinItems",f),d!==void 0&&t.length<d&&i("MinLength",d),g!==void 0&&t%g!==0&&i("MultipleOf",g),y){const k=typeof y=="string"?new RegExp(y):y;(typeof t!="string"||t.match(k)===null)&&i("Pattern",y)}T&&t.some((k,U,_)=>_.indexOf(k)!==U)&&i("UniqueItems",T)}}serialize(e,t,n,i={xml:{}}){var s,o,a;const l={xml:{rootName:(s=i.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(o=i.xml.includeRoot)!==null&&o!==void 0?o:!1,xmlCharKey:(a=i.xml.xmlCharKey)!==null&&a!==void 0?a:hd}};let c={};const u=e.type.name;n||(n=e.serializedName),u.match(/^Sequence$/i)!==null&&(c=[]),e.isConstant&&(t=e.defaultValue);const{required:f,nullable:d}=e;if(f&&d&&t===void 0)throw new Error(`${n} cannot be undefined.`);if(f&&!d&&t==null)throw new Error(`${n} cannot be null or undefined.`);if(!f&&d===!1&&t===null)throw new Error(`${n} cannot be null.`);return t==null?c=t:(this.validateConstraints(e,t,n),u.match(/^any$/i)!==null?c=t:u.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)!==null?c=Rj(u,n,t):u.match(/^Enum$/i)!==null?c=Mj(n,e.type.allowedValues,t):u.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)!==null?c=Fj(u,t,n):u.match(/^ByteArray$/i)!==null?c=Bj(n,t):u.match(/^Base64Url$/i)!==null?c=zj(n,t):u.match(/^Sequence$/i)!==null?c=Dj(this,e,t,n,!!this.isXML,l):u.match(/^Dictionary$/i)!==null?c=Uj(this,e,t,n,!!this.isXML,l):u.match(/^Composite$/i)!==null&&(c=Lj(this,e,t,n,!!this.isXML,l))),c}deserialize(e,t,n,i={xml:{}}){var s,o,a;const l={xml:{rootName:(s=i.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(o=i.xml.includeRoot)!==null&&o!==void 0?o:!1,xmlCharKey:(a=i.xml.xmlCharKey)!==null&&a!==void 0?a:hd}};if(t==null)return this.isXML&&e.type.name==="Sequence"&&!e.xmlIsWrapped&&(t=[]),e.defaultValue!==void 0&&(t=e.defaultValue),t;let c;const u=e.type.name;if(n||(n=e.serializedName),u.match(/^Composite$/i)!==null)c=Vj(this,e,t,n,l);else{if(this.isXML){const f=l.xml.xmlCharKey;t[Gr]!==void 0&&t[f]!==void 0&&(t=t[f])}u.match(/^Number$/i)!==null?(c=parseFloat(t),isNaN(c)&&(c=t)):u.match(/^Boolean$/i)!==null?t==="true"?c=!0:t==="false"?c=!1:c=t:u.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)!==null?c=t:u.match(/^(Date|DateTime|DateTimeRfc1123)$/i)!==null?c=new Date(t):u.match(/^UnixTime$/i)!==null?c=Ij(t):u.match(/^ByteArray$/i)!==null?c=MA(t):u.match(/^Base64Url$/i)!==null?c=Qj(t):u.match(/^Sequence$/i)!==null?c=Wj(this,e,t,n,l):u.match(/^Dictionary$/i)!==null&&(c=Zj(this,e,t,n,l))}return e.isConstant&&(c=e.defaultValue),c}}function BA(r={},e=!1){return new Aj(r,e)}function kj(r,e){let t=r.length;for(;t-1>=0&&r[t-1]===e;)--t;return r.substr(0,t)}function Ej(r){if(!r)return;if(!(r instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");const e=RA(r);return kj(e,"=").replace(/\+/g,"-").replace(/\//g,"_")}function Qj(r){if(r){if(r&&typeof r.valueOf()!="string")throw new Error("Please provide an input of type string for converting to Uint8Array");return r=r.replace(/-/g,"+").replace(/_/g,"/"),MA(r)}}function WO(r){const e=[];let t="";if(r){const n=r.split(".");for(const i of n)i.charAt(i.length-1)==="\\"?t+=i.substr(0,i.length-1)+".":(t+=i,e.push(t),t="")}return e}function Nj(r){if(r)return typeof r.valueOf()=="string"&&(r=new Date(r)),Math.floor(r.getTime()/1e3)}function Ij(r){if(r)return new Date(r*1e3)}function Rj(r,e,t){if(t!=null){if(r.match(/^Number$/i)!==null){if(typeof t!="number")throw new Error(`${e} with value ${t} must be of type number.`)}else if(r.match(/^String$/i)!==null){if(typeof t.valueOf()!="string")throw new Error(`${e} with value "${t}" must be of type string.`)}else if(r.match(/^Uuid$/i)!==null){if(!(typeof t.valueOf()=="string"&&Pj(t)))throw new Error(`${e} with value "${t}" must be of type string and a valid uuid.`)}else if(r.match(/^Boolean$/i)!==null){if(typeof t!="boolean")throw new Error(`${e} with value ${t} must be of type boolean.`)}else if(r.match(/^Stream$/i)!==null&&typeof t!=="string"&&typeof t.pipe!="function"&&!(t instanceof ArrayBuffer)&&!ArrayBuffer.isView(t)&&!((typeof Blob=="function"||typeof Blob=="object")&&t instanceof Blob))throw new Error(`${e} must be a string, Blob, ArrayBuffer, ArrayBufferView, or NodeJS.ReadableStream.`)}return t}function Mj(r,e,t){if(!e)throw new Error(`Please provide a set of allowedValues to validate ${r} as an Enum Type.`);if(!e.some(i=>typeof i.valueOf()=="string"?i.toLowerCase()===t.toLowerCase():i===t))throw new Error(`${t} is not a valid value for ${r}. The valid values are: ${JSON.stringify(e)}.`);return t}function Bj(r,e){if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${r} must be of type Uint8Array.`);e=RA(e)}return e}function zj(r,e){if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${r} must be of type Uint8Array.`);e=Ej(e)}return e}function Fj(r,e,t){if(e!=null){if(r.match(/^Date$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${t} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString().substring(0,10):new Date(e).toISOString().substring(0,10)}else if(r.match(/^DateTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${t} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString():new Date(e).toISOString()}else if(r.match(/^DateTimeRfc1123$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${t} must be an instanceof Date or a string in RFC-1123 format.`);e=e instanceof Date?e.toUTCString():new Date(e).toUTCString()}else if(r.match(/^UnixTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${t} must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.`);e=Nj(e)}else if(r.match(/^TimeSpan$/i)!==null&&!Cj(e))throw new Error(`${t} must be a string in ISO 8601 format. Instead was "${e}".`)}return e}function Dj(r,e,t,n,i,s){var o;if(!Array.isArray(t))throw new Error(`${n} must be of type Array.`);let a=e.type.element;if(!a||typeof a!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}.`);a.type.name==="Composite"&&a.type.className&&(a=(o=r.modelMappers[a.type.className])!==null&&o!==void 0?o:a);const l=[];for(let c=0;c<t.length;c++){const u=r.serialize(a,t[c],n,s);if(i&&a.xmlNamespace){const f=a.xmlNamespacePrefix?`xmlns:${a.xmlNamespacePrefix}`:"xmlns";a.type.name==="Composite"?(l[c]=Object.assign({},u),l[c][Gr]={[f]:a.xmlNamespace}):(l[c]={},l[c][s.xml.xmlCharKey]=u,l[c][Gr]={[f]:a.xmlNamespace})}else l[c]=u}return l}function Uj(r,e,t,n,i,s){if(typeof t!="object")throw new Error(`${n} must be of type object.`);const o=e.type.value;if(!o||typeof o!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}.`);const a={};for(const l of Object.keys(t)){const c=r.serialize(o,t[l],n,s);a[l]=DA(o,c,i,s)}if(i&&e.xmlNamespace){const l=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns",c=a;return c[Gr]={[l]:e.xmlNamespace},c}return a}function qj(r,e,t){const n=e.type.additionalProperties;if(!n&&e.type.className){const i=zA(r,e,t);return i==null?void 0:i.type.additionalProperties}return n}function zA(r,e,t){const n=e.type.className;if(!n)throw new Error(`Class name for model "${t}" is not provided in the mapper "${JSON.stringify(e,void 0,2)}".`);return r.modelMappers[n]}function FA(r,e,t){let n=e.type.modelProperties;if(!n){const i=zA(r,e,t);if(!i)throw new Error(`mapper() cannot be null or undefined for model "${e.type.className}".`);if(n=i==null?void 0:i.type.modelProperties,!n)throw new Error(`modelProperties cannot be null or undefined in the mapper "${JSON.stringify(i)}" of type "${e.type.className}" for object "${t}".`)}return n}function Lj(r,e,t,n,i,s){if(dd(r,e)&&(e=UA(r,e,t,"clientName")),t!=null){const o={},a=FA(r,e,n);for(const c of Object.keys(a)){const u=a[c];if(u.readOnly)continue;let f,d=o;if(r.isXML)u.xmlIsWrapped?f=u.xmlName:f=u.xmlElementName||u.xmlName;else{const g=WO(u.serializedName);f=g.pop();for(const y of g){const T=d[y];T==null&&(t[c]!==void 0&&t[c]!==null||u.defaultValue!==void 0)&&(d[y]={}),d=d[y]}}if(d!=null){if(i&&e.xmlNamespace){const U=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns";d[Gr]=Object.assign(Object.assign({},d[Gr]),{[U]:e.xmlNamespace})}const g=u.serializedName!==""?n+"."+u.serializedName:n;let y=t[c];const T=dd(r,e);T&&T.clientName===c&&y==null&&(y=e.serializedName);const k=r.serialize(u,y,g,s);if(k!==void 0&&f!==void 0&&f!==null){const U=DA(u,k,i,s);i&&u.xmlIsAttribute?(d[Gr]=d[Gr]||{},d[Gr][f]=k):i&&u.xmlIsWrapped?d[f]={[u.xmlElementName]:U}:d[f]=U}}}const l=qj(r,e,n);if(l){const c=Object.keys(a);for(const u in t)c.every(d=>d!==u)&&(o[u]=r.serialize(l,t[u],n+'["'+u+'"]',s))}return o}return t}function DA(r,e,t,n){if(!t||!r.xmlNamespace)return e;const s={[r.xmlNamespacePrefix?`xmlns:${r.xmlNamespacePrefix}`:"xmlns"]:r.xmlNamespace};if(["Composite"].includes(r.type.name)){if(e[Gr])return e;{const a=Object.assign({},e);return a[Gr]=s,a}}const o={};return o[n.xml.xmlCharKey]=e,o[Gr]=s,o}function jj(r,e){return[Gr,e.xml.xmlCharKey].includes(r)}function Vj(r,e,t,n,i){var s;dd(r,e)&&(e=UA(r,e,t,"serializedName"));const o=FA(r,e,n);let a={};const l=[];for(const u of Object.keys(o)){const f=o[u],d=WO(o[u].serializedName);l.push(d[0]);const{serializedName:g,xmlName:y,xmlElementName:T}=f;let k=n;g!==""&&g!==void 0&&(k=n+"."+g);const U=f.headerCollectionPrefix;if(U){const _={};for(const G of Object.keys(t))G.startsWith(U)&&(_[G.substring(U.length)]=r.deserialize(f.type.value,t[G],k,i)),l.push(G);a[u]=_}else if(r.isXML)if(f.xmlIsAttribute&&t[Gr])a[u]=r.deserialize(f,t[Gr][y],k,i);else{const _=T||y||g;if(f.xmlIsWrapped){const G=t[y],D=(s=G==null?void 0:G[T])!==null&&s!==void 0?s:[];a[u]=r.deserialize(f,D,k,i)}else{const G=t[_];a[u]=r.deserialize(f,G,k,i)}}else{let _,G=t;for(const ee of d){if(!G)break;G=G[ee]}_=G;const D=e.type.polymorphicDiscriminator;D&&u===D.clientName&&_==null&&(_=e.serializedName);let Y;if(Array.isArray(t[u])&&o[u].serializedName===""){_=t[u];const ee=r.deserialize(f,_,k,i);for(const[re,S]of Object.entries(a))Object.prototype.hasOwnProperty.call(ee,re)||(ee[re]=S);a=ee}else(_!==void 0||f.defaultValue!==void 0)&&(Y=r.deserialize(f,_,k,i),a[u]=Y)}}const c=e.type.additionalProperties;if(c){const u=f=>{for(const d in o)if(WO(o[d].serializedName)[0]===f)return!1;return!0};for(const f in t)u(f)&&(a[f]=r.deserialize(c,t[f],n+'["'+f+'"]',i))}else if(t)for(const u of Object.keys(t))a[u]===void 0&&!l.includes(u)&&!jj(u,i)&&(a[u]=t[u]);return a}function Zj(r,e,t,n,i){const s=e.type.value;if(!s||typeof s!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}`);if(t){const o={};for(const a of Object.keys(t))o[a]=r.deserialize(s,t[a],n,i);return o}return t}function Wj(r,e,t,n,i){var s;let o=e.type.element;if(!o||typeof o!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}`);if(t){Array.isArray(t)||(t=[t]),o.type.name==="Composite"&&o.type.className&&(o=(s=r.modelMappers[o.type.className])!==null&&s!==void 0?s:o);const a=[];for(let l=0;l<t.length;l++)a[l]=r.deserialize(o,t[l],`${n}[${l}]`,i);return a}return t}function UA(r,e,t,n){const i=dd(r,e);if(i){let s=i[n];if(s){n==="serializedName"&&(s=s.replace(/\\/gi,""));const o=t[s];if(o!=null){const a=e.type.uberParent||e.type.className,l=o===a?o:a+"."+o,c=r.modelMappers.discriminators[l];c&&(e=c)}}}return e}function dd(r,e){return e.type.polymorphicDiscriminator||dv(r,e.type.uberParent)||dv(r,e.type.className)}function dv(r,e){return e&&r.modelMappers[e]&&r.modelMappers[e].type.polymorphicDiscriminator}const il={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};function ml(r,e,t){let n=e.parameterPath;const i=e.mapper;let s;if(typeof n=="string"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(i.isConstant)s=i.defaultValue;else{let o=pv(r,n);!o.propertyFound&&t&&(o=pv(t,n));let a=!1;o.propertyFound||(a=i.required||n[0]==="options"&&n.length===2),s=a?i.defaultValue:o.propertyValue}}else{i.required&&(s={});for(const o in n){const a=i.type.modelProperties[o],l=n[o],c=ml(r,{parameterPath:l,mapper:a},t);c!==void 0&&(s||(s={}),s[o]=c)}}return s}function pv(r,e){const t={propertyFound:!1};let n=0;for(;n<e.length;++n){const i=e[n];if(r&&i in r)r=r[i];else break}return n===e.length&&(t.propertyValue=r,t.propertyFound=!0),t}const mv=new WeakMap;function mu(r){let e=mv.get(r);return e||(e={},mv.set(r,e)),e}const Xj=["application/json","text/json"],Yj=["application/xml","application/atom+xml"],Gj="deserializationPolicy";function Hj(r={}){var e,t,n,i,s,o,a;const l=(t=(e=r.expectedContentTypes)===null||e===void 0?void 0:e.json)!==null&&t!==void 0?t:Xj,c=(i=(n=r.expectedContentTypes)===null||n===void 0?void 0:n.xml)!==null&&i!==void 0?i:Yj,u=r.parseXML,f=r.serializerOptions,d={xml:{rootName:(s=f==null?void 0:f.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(o=f==null?void 0:f.xml.includeRoot)!==null&&o!==void 0?o:!1,xmlCharKey:(a=f==null?void 0:f.xml.xmlCharKey)!==null&&a!==void 0?a:hd}};return{name:Gj,async sendRequest(g,y){const T=await y(g);return eV(l,c,T,d,u)}}}function Kj(r){let e;const t=r.request,n=mu(t),i=n==null?void 0:n.operationSpec;return i&&(n!=null&&n.operationResponseGetter?e=n==null?void 0:n.operationResponseGetter(i,r):e=i.responses[r.status]),e}function Jj(r){const e=r.request,t=mu(e),n=t==null?void 0:t.shouldDeserialize;let i;return n===void 0?i=!0:typeof n=="boolean"?i=n:i=n(r),i}async function eV(r,e,t,n,i){const s=await nV(r,e,t,n,i);if(!Jj(s))return s;const o=mu(s.request),a=o==null?void 0:o.operationSpec;if(!a||!a.responses)return s;const l=Kj(s),{error:c,shouldReturnResponse:u}=rV(s,a,l);if(c)throw c;if(u)return s;if(l){if(l.bodyMapper){let f=s.parsedBody;a.isXML&&l.bodyMapper.type.name===il.Sequence&&(f=typeof f=="object"?f[l.bodyMapper.xmlElementName]:[]);try{s.parsedBody=a.serializer.deserialize(l.bodyMapper,f,"operationRes.parsedBody")}catch(d){throw new vn(`Error ${d} occurred in deserializing the responseBody - ${s.bodyAsText}`,{statusCode:s.status,request:s.request,response:s})}}else a.httpMethod==="HEAD"&&(s.parsedBody=t.status>=200&&t.status<300);l.headersMapper&&(s.parsedHeaders=a.serializer.deserialize(l.headersMapper,s.headers.toJSON(),"operationRes.parsedHeaders"))}return s}function tV(r){const e=Object.keys(r.responses);return e.length===0||e.length===1&&e[0]==="default"}function rV(r,e,t){var n;const i=200<=r.status&&r.status<300;if(tV(e)?i:!!t)if(t){if(!t.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};const o=t??e.responses.default,a=!((n=r.request.streamResponseStatusCodes)===null||n===void 0)&&n.has(r.status)?`Unexpected status code: ${r.status}`:r.bodyAsText,l=new vn(a,{statusCode:r.status,request:r.request,response:r});if(!o)throw l;const c=o.bodyMapper,u=o.headersMapper;try{if(r.parsedBody){const f=r.parsedBody;let d;if(c){let y=f;if(e.isXML&&c.type.name===il.Sequence){y=[];const T=c.xmlElementName;typeof f=="object"&&T&&(y=f[T])}d=e.serializer.deserialize(c,y,"error.response.parsedBody")}const g=f.error||d||f;l.code=g.code,g.message&&(l.message=g.message),c&&(l.response.parsedBody=d)}r.headers&&u&&(l.response.parsedHeaders=e.serializer.deserialize(u,r.headers.toJSON(),"operationRes.parsedHeaders"))}catch(f){l.message=`Error "${f.message}" occurred in deserializing the responseBody - "${r.bodyAsText}" for the default response.`}return{error:l,shouldReturnResponse:!1}}async function nV(r,e,t,n,i){var s;if(!(!((s=t.request.streamResponseStatusCodes)===null||s===void 0)&&s.has(t.status))&&t.bodyAsText){const o=t.bodyAsText,a=t.headers.get("Content-Type")||"",l=a?a.split(";").map(c=>c.toLowerCase()):[];try{if(l.length===0||l.some(c=>r.indexOf(c)!==-1))return t.parsedBody=JSON.parse(o),t;if(l.some(c=>e.indexOf(c)!==-1)){if(!i)throw new Error("Parsing XML not supported.");const c=await i(o,n.xml);return t.parsedBody=c,t}}catch(c){const u=`Error "${c}" occurred while parsing the response body - ${t.bodyAsText}.`,f=c.code||vn.PARSE_ERROR;throw new vn(u,{code:f,statusCode:t.status,request:t.request,response:t})}}return t}function iV(r){const e=new Set;for(const t in r.responses){const n=r.responses[t];n.bodyMapper&&n.bodyMapper.type.name===il.Stream&&e.add(Number(t))}return e}function eo(r){const{parameterPath:e,mapper:t}=r;let n;return typeof e=="string"?n=e:Array.isArray(e)?n=e.join("."):n=t.serializedName,n}const sV="serializationPolicy";function oV(r={}){const e=r.stringifyXML;return{name:sV,async sendRequest(t,n){const i=mu(t),s=i==null?void 0:i.operationSpec,o=i==null?void 0:i.operationArguments;return s&&o&&(aV(t,o,s),lV(t,o,s,e)),n(t)}}}function aV(r,e,t){var n,i;if(t.headerParameters)for(const o of t.headerParameters){let a=ml(e,o);if(a!=null||o.mapper.required){a=t.serializer.serialize(o.mapper,a,eo(o));const l=o.mapper.headerCollectionPrefix;if(l)for(const c of Object.keys(a))r.headers.set(l+c,a[c]);else r.headers.set(o.mapper.serializedName||eo(o),a)}}const s=(i=(n=e.options)===null||n===void 0?void 0:n.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(s)for(const o of Object.keys(s))r.headers.set(o,s[o])}function lV(r,e,t,n=function(){throw new Error("XML serialization unsupported!")}){var i,s,o,a,l;const c=(i=e.options)===null||i===void 0?void 0:i.serializerOptions,u={xml:{rootName:(s=c==null?void 0:c.xml.rootName)!==null&&s!==void 0?s:"",includeRoot:(o=c==null?void 0:c.xml.includeRoot)!==null&&o!==void 0?o:!1,xmlCharKey:(a=c==null?void 0:c.xml.xmlCharKey)!==null&&a!==void 0?a:hd}},f=u.xml.xmlCharKey;if(t.requestBody&&t.requestBody.mapper){r.body=ml(e,t.requestBody);const d=t.requestBody.mapper,{required:g,serializedName:y,xmlName:T,xmlElementName:k,xmlNamespace:U,xmlNamespacePrefix:_,nullable:G}=d,D=d.type.name;try{if(r.body!==void 0&&r.body!==null||G&&r.body===null||g){const Y=eo(t.requestBody);r.body=t.serializer.serialize(d,r.body,Y,u);const ee=D===il.Stream;if(t.isXML){const re=_?`xmlns:${_}`:"xmlns",S=cV(U,re,D,r.body,u);D===il.Sequence?r.body=n(uV(S,k||T||y,re,U),{rootName:T||y,xmlCharKey:f}):ee||(r.body=n(S,{rootName:T||y,xmlCharKey:f}))}else{if(D===il.String&&(!((l=t.contentType)===null||l===void 0)&&l.match("text/plain")||t.mediaType==="text"))return;ee||(r.body=JSON.stringify(r.body))}}}catch(Y){throw new Error(`Error "${Y.message}" occurred in serializing the payload - ${JSON.stringify(y,void 0,"  ")}.`)}}else if(t.formDataParameters&&t.formDataParameters.length>0){r.formData={};for(const d of t.formDataParameters){const g=ml(e,d);if(g!=null){const y=d.mapper.serializedName||eo(d);r.formData[y]=t.serializer.serialize(d.mapper,g,eo(d),u)}}}}function cV(r,e,t,n,i){if(r&&!["Composite","Sequence","Dictionary"].includes(t)){const s={};return s[i.xml.xmlCharKey]=n,s[Gr]={[e]:r},s}return n}function uV(r,e,t,n){if(Array.isArray(r)||(r=[r]),!t||!n)return{[e]:r};const i={[e]:r};return i[Gr]={[t]:n},i}function fV(r={}){const e=GU(r??{});return r.credentialOptions&&e.addPolicy(Pq({credential:r.credentialOptions.credential,scopes:r.credentialOptions.credentialScopes})),e.addPolicy(oV(r.serializationOptions),{phase:"Serialize"}),e.addPolicy(Hj(r.deserializationOptions),{phase:"Deserialize"}),e}let Tm;function hV(){return Tm||(Tm=fq()),Tm}const dV={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function pV(r,e,t,n){const i=mV(e,t,n);let s=!1,o=gv(r,i);if(e.path){let c=gv(e.path,i);e.path==="/{nextLink}"&&c.startsWith("/")&&(c=c.substring(1)),gV(c)?(o=c,s=!0):o=OV(o,c)}const{queryParams:a,sequenceParams:l}=yV(e,t,n);return o=bV(o,a,l,s),o}function gv(r,e){let t=r;for(const[n,i]of e)t=t.split(n).join(i);return t}function mV(r,e,t){var n;const i=new Map;if(!((n=r.urlParameters)===null||n===void 0)&&n.length)for(const s of r.urlParameters){let o=ml(e,s,t);const a=eo(s);o=r.serializer.serialize(s.mapper,o,a),s.skipEncoding||(o=encodeURIComponent(o)),i.set(`{${s.mapper.serializedName||a}}`,o)}return i}function gV(r){return r.includes("://")}function OV(r,e){if(!e)return r;const t=new URL(r);let n=t.pathname;n.endsWith("/")||(n=`${n}/`),e.startsWith("/")&&(e=e.substring(1));const i=e.indexOf("?");if(i!==-1){const s=e.substring(0,i),o=e.substring(i+1);n=n+s,o&&(t.search=t.search?`${t.search}&${o}`:o)}else n=n+e;return t.pathname=n,t.toString()}function yV(r,e,t){var n;const i=new Map,s=new Set;if(!((n=r.queryParameters)===null||n===void 0)&&n.length)for(const o of r.queryParameters){o.mapper.type.name==="Sequence"&&o.mapper.serializedName&&s.add(o.mapper.serializedName);let a=ml(e,o,t);if(a!=null||o.mapper.required){a=r.serializer.serialize(o.mapper,a,eo(o));const l=o.collectionFormat?dV[o.collectionFormat]:"";if(Array.isArray(a)&&(a=a.map(c=>c??"")),o.collectionFormat==="Multi"&&a.length===0)continue;Array.isArray(a)&&(o.collectionFormat==="SSV"||o.collectionFormat==="TSV")&&(a=a.join(l)),o.skipEncoding||(Array.isArray(a)?a=a.map(c=>encodeURIComponent(c)):a=encodeURIComponent(a)),Array.isArray(a)&&(o.collectionFormat==="CSV"||o.collectionFormat==="Pipes")&&(a=a.join(l)),i.set(o.mapper.serializedName||eo(o),a)}}return{queryParams:i,sequenceParams:s}}function xV(r){const e=new Map;if(!r||r[0]!=="?")return e;r=r.slice(1);const t=r.split("&");for(const n of t){const[i,s]=n.split("=",2),o=e.get(i);o?Array.isArray(o)?o.push(s):e.set(i,[o,s]):e.set(i,s)}return e}function bV(r,e,t,n=!1){if(e.size===0)return r;const i=new URL(r),s=xV(i.search);for(const[a,l]of e){const c=s.get(a);if(Array.isArray(c))if(Array.isArray(l)){c.push(...l);const u=new Set(c);s.set(a,Array.from(u))}else c.push(l);else c?(Array.isArray(l)?l.unshift(c):t.has(a)&&s.set(a,[c,l]),n||s.set(a,l)):s.set(a,l)}const o=[];for(const[a,l]of s)if(typeof l=="string")o.push(`${a}=${l}`);else if(Array.isArray(l))for(const c of l)o.push(`${a}=${c}`);else o.push(`${a}=${l}`);return i.search=o.length?`?${o.join("&")}`:"",i.toString()}const SV=By("core-client");class qA{constructor(e={}){var t,n;if(this._requestContentType=e.requestContentType,this._endpoint=(t=e.endpoint)!==null&&t!==void 0?t:e.baseUri,e.baseUri&&SV.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||hV(),this.pipeline=e.pipeline||vV(e),!((n=e.additionalPolicies)===null||n===void 0)&&n.length)for(const{policy:i,position:s}of e.additionalPolicies){const o=s==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(i,{afterPhase:o})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,t){const n=t.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");const i=pV(n,t,e,this),s=bq({url:i});s.method=t.httpMethod;const o=mu(s);o.operationSpec=t,o.operationArguments=e;const a=t.contentType||this._requestContentType;a&&t.requestBody&&s.headers.set("Content-Type",a);const l=e.options;if(l){const c=l.requestOptions;c&&(c.timeout&&(s.timeout=c.timeout),c.onUploadProgress&&(s.onUploadProgress=c.onUploadProgress),c.onDownloadProgress&&(s.onDownloadProgress=c.onDownloadProgress),c.shouldDeserialize!==void 0&&(o.shouldDeserialize=c.shouldDeserialize),c.allowInsecureConnection&&(s.allowInsecureConnection=!0)),l.abortSignal&&(s.abortSignal=l.abortSignal),l.tracingOptions&&(s.tracingOptions=l.tracingOptions)}this._allowInsecureConnection&&(s.allowInsecureConnection=!0),s.streamResponseStatusCodes===void 0&&(s.streamResponseStatusCodes=iV(t));try{const c=await this.sendRequest(s),u=hv(c,t.responses[c.status]);return l!=null&&l.onResponse&&l.onResponse(c,u),u}catch(c){if(typeof c=="object"&&(c!=null&&c.response)){const u=c.response,f=hv(u,t.responses[c.statusCode]||t.responses.default);c.details=f,l!=null&&l.onResponse&&l.onResponse(u,f,c)}throw c}}}function vV(r){const e=wV(r),t=r.credential&&e?{credentialScopes:e,credential:r.credential}:void 0;return fV(Object.assign(Object.assign({},r),{credentialOptions:t}))}function wV(r){if(r.credentialScopes){const e=r.credentialScopes;return Array.isArray(e)?e.map(t=>new URL(t).toString()):new URL(e).toString()}if(r.endpoint)return`${r.endpoint}/.default`;if(r.baseUri)return`${r.baseUri}/.default`;if(r.credential&&!r.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}const LA={type:{name:"Composite",className:"Header",modelProperties:{hash:{serializedName:"hash",required:!0,type:{name:"String"}},height:{serializedName:"height",required:!0,type:{name:"String"}},prevHash:{serializedName:"prev_hash",required:!0,type:{name:"String"}},prevKeyHash:{serializedName:"prev_key_hash",required:!0,type:{name:"String"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},miner:{serializedName:"miner",type:{name:"String"}},beneficiary:{serializedName:"beneficiary",type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}},pow:{constraints:{MinItems:42,MaxItems:42},serializedName:"pow",type:{name:"Sequence",element:{type:{name:"String"}}}},nonce:{serializedName:"nonce",type:{name:"String"}},time:{serializedName:"time",required:!0,type:{name:"String"}},version:{serializedName:"version",required:!0,type:{name:"String"}},info:{serializedName:"info",type:{name:"String"}},pofHash:{serializedName:"pof_hash",type:{name:"String"}},txsHash:{serializedName:"txs_hash",type:{name:"String"}},signature:{serializedName:"signature",type:{name:"String"}}}}},Ve={type:{name:"Composite",className:"ErrorModel",modelProperties:{reason:{serializedName:"reason",required:!0,type:{name:"String"}}}}},gu={type:{name:"Composite",className:"KeyBlock",modelProperties:{hash:{serializedName:"hash",required:!0,type:{name:"String"}},height:{serializedName:"height",required:!0,type:{name:"String"}},prevHash:{serializedName:"prev_hash",required:!0,type:{name:"String"}},prevKeyHash:{serializedName:"prev_key_hash",required:!0,type:{name:"String"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},miner:{serializedName:"miner",required:!0,type:{name:"String"}},beneficiary:{serializedName:"beneficiary",required:!0,type:{name:"String"}},target:{serializedName:"target",required:!0,type:{name:"String"}},pow:{constraints:{MinItems:42,MaxItems:42},serializedName:"pow",type:{name:"Sequence",element:{type:{name:"String"}}}},nonce:{serializedName:"nonce",type:{name:"String"}},time:{serializedName:"time",required:!0,type:{name:"String"}},version:{serializedName:"version",required:!0,type:{name:"String"}},info:{serializedName:"info",required:!0,type:{name:"String"}}}}},jA={type:{name:"Composite",className:"HashResponse",modelProperties:{hash:{serializedName:"hash",required:!0,type:{name:"String"}}}}},VA={type:{name:"Composite",className:"HeightResponse",modelProperties:{height:{serializedName:"height",required:!0,type:{name:"String"}}}}},ZA={type:{name:"Composite",className:"MicroBlockHeader",modelProperties:{hash:{serializedName:"hash",required:!0,type:{name:"String"}},height:{serializedName:"height",required:!0,type:{name:"String"}},pofHash:{serializedName:"pof_hash",required:!0,type:{name:"String"}},prevHash:{serializedName:"prev_hash",required:!0,type:{name:"String"}},prevKeyHash:{serializedName:"prev_key_hash",required:!0,type:{name:"String"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},txsHash:{serializedName:"txs_hash",required:!0,type:{name:"String"}},signature:{serializedName:"signature",required:!0,type:{name:"String"}},time:{serializedName:"time",required:!0,type:{name:"String"}},version:{serializedName:"version",required:!0,type:{name:"String"}}}}},Xy={type:{name:"Composite",className:"SignedTxs",modelProperties:{transactions:{serializedName:"transactions",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedTx"}}}}}}},Yy={type:{name:"Composite",className:"SignedTx",modelProperties:{tx:{serializedName:"tx",type:{name:"Composite",className:"Tx"}},blockHeight:{serializedName:"block_height",required:!0,type:{name:"String"}},blockHash:{serializedName:"block_hash",required:!0,type:{name:"String"}},hash:{serializedName:"hash",required:!0,type:{name:"String"}},signatures:{serializedName:"signatures",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}}}}},WA={serializedName:"Tx",type:{name:"Composite",className:"Tx",uberParent:"Tx",polymorphicDiscriminator:{serializedName:"type",clientName:"type"},modelProperties:{recipientId:{serializedName:"recipient_id",type:{name:"String"}},amount:{serializedName:"amount",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},senderId:{serializedName:"sender_id",type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},payload:{serializedName:"payload",type:{name:"String"}},initiatorId:{serializedName:"initiator_id",type:{name:"String"}},initiatorAmount:{serializedName:"initiator_amount",type:{name:"String"}},responderId:{serializedName:"responder_id",type:{name:"String"}},responderAmount:{serializedName:"responder_amount",type:{name:"String"}},channelReserve:{serializedName:"channel_reserve",type:{name:"String"}},lockPeriod:{serializedName:"lock_period",type:{name:"String"}},stateHash:{serializedName:"state_hash",type:{name:"String"}},delegateIds:{serializedName:"delegate_ids",type:{name:"Composite",className:"Delegates"}},channelId:{serializedName:"channel_id",type:{name:"String"}},fromId:{serializedName:"from_id",type:{name:"String"}},round:{serializedName:"round",type:{name:"String"}},toId:{serializedName:"to_id",type:{name:"String"}},update:{serializedName:"update",type:{name:"Composite",className:"OffChainUpdate"}},offchainTrees:{serializedName:"offchain_trees",type:{name:"String"}},initiatorAmountFinal:{serializedName:"initiator_amount_final",type:{name:"String"}},responderAmountFinal:{serializedName:"responder_amount_final",type:{name:"String"}},poi:{serializedName:"poi",type:{name:"String"}},initiatorDelegateIds:{serializedName:"initiator_delegate_ids",type:{name:"Sequence",element:{type:{name:"String"}}}},responderDelegateIds:{serializedName:"responder_delegate_ids",type:{name:"Sequence",element:{type:{name:"String"}}}},queryFormat:{serializedName:"query_format",type:{name:"String"}},responseFormat:{serializedName:"response_format",type:{name:"String"}},queryFee:{serializedName:"query_fee",type:{name:"String"}},oracleTtl:{serializedName:"oracle_ttl",type:{name:"Composite",className:"RelativeTTL"}},accountId:{serializedName:"account_id",type:{name:"String"}},abiVersion:{serializedName:"abi_version",type:{name:"String"}},oracleId:{serializedName:"oracle_id",type:{name:"String"}},query:{serializedName:"query",type:{name:"String"}},queryTtl:{serializedName:"query_ttl",type:{name:"Composite",className:"Ttl"}},responseTtl:{serializedName:"response_ttl",type:{name:"Composite",className:"RelativeTTL"}},queryId:{serializedName:"query_id",type:{name:"String"}},response:{serializedName:"response",type:{name:"String"}},commitmentId:{serializedName:"commitment_id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},nameSalt:{serializedName:"name_salt",type:{name:"String"}},nameFee:{serializedName:"name_fee",type:{name:"String"}},nameId:{serializedName:"name_id",type:{name:"String"}},nameTtl:{serializedName:"name_ttl",type:{name:"String"}},pointers:{serializedName:"pointers",type:{name:"Sequence",element:{type:{name:"Composite",className:"NamePointer"}}}},clientTtl:{serializedName:"client_ttl",type:{name:"String"}},ownerId:{serializedName:"owner_id",type:{name:"String"}},code:{serializedName:"code",type:{name:"String"}},vmVersion:{serializedName:"vm_version",type:{name:"String"}},deposit:{serializedName:"deposit",type:{name:"String"}},gas:{serializedName:"gas",type:{name:"String"}},gasPrice:{serializedName:"gas_price",type:{name:"String"}},callData:{serializedName:"call_data",type:{name:"String"}},callerId:{serializedName:"caller_id",type:{name:"String"}},contractId:{serializedName:"contract_id",type:{name:"String"}},authFun:{constraints:{Pattern:new RegExp("^(0x|0X)?[a-fA-F0-9]+$")},serializedName:"auth_fun",type:{name:"String"}},gaId:{serializedName:"ga_id",type:{name:"String"}},authData:{serializedName:"auth_data",type:{name:"String"}},tx:{serializedName:"tx",type:{name:"Composite",className:"SignedTx"}},payerId:{serializedName:"payer_id",type:{name:"String"}},version:{serializedName:"version",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"Enum",allowedValues:["SpendTx","ChannelCreateTx","ChannelDepositTx","ChannelWithdrawTx","ChannelForceProgressTx","ChannelCloseMutualTx","ChannelCloseSoloTx","ChannelSlashTx","ChannelSettleTx","ChannelSnapshotSoloTx","ChannelSetDelegatesTx","OracleRegisterTx","OracleExtendTx","OracleQueryTx","OracleRespondTx","NamePreclaimTx","NameClaimTx","NameUpdateTx","NameTransferTx","NameRevokeTx","ContractCreateTx","ContractCallTx","GAAttachTx","GAMetaTx","PayingForTx"]}}}}},$V={type:{name:"Composite",className:"Delegates",modelProperties:{initiator:{serializedName:"initiator",type:{name:"Sequence",element:{type:{name:"String"}}}},responder:{serializedName:"responder",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},fi={type:{name:"Composite",className:"OffChainUpdate",uberParent:"OffChainUpdate",polymorphicDiscriminator:{serializedName:"op",clientName:"op"},modelProperties:{op:{serializedName:"op",required:!0,type:{name:"String"}}}}},CV={type:{name:"Composite",className:"RelativeTTL",modelProperties:{type:{defaultValue:"delta",isConstant:!0,serializedName:"type",type:{name:"String"}},value:{serializedName:"value",required:!0,type:{name:"String"}}}}},TV={type:{name:"Composite",className:"Ttl",modelProperties:{type:{serializedName:"type",required:!0,type:{name:"Enum",allowedValues:["delta","block"]}},value:{serializedName:"value",required:!0,type:{name:"String"}}}}},PV={type:{name:"Composite",className:"NamePointer",modelProperties:{key:{serializedName:"key",required:!0,type:{name:"String"}},id:{serializedName:"id",required:!0,type:{name:"String"}}}}},XA={type:{name:"Composite",className:"CountResponse",modelProperties:{count:{serializedName:"count",required:!0,type:{name:"String"}}}}},lp={type:{name:"Composite",className:"Generation",modelProperties:{keyBlock:{serializedName:"key_block",type:{name:"Composite",className:"KeyBlock"}},microBlocks:{serializedName:"micro_blocks",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}}}}},cp={type:{name:"Composite",className:"Account",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},balance:{serializedName:"balance",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",required:!0,type:{name:"String"}},payable:{serializedName:"payable",type:{name:"Boolean"}},kind:{serializedName:"kind",type:{name:"Enum",allowedValues:["basic","generalized"]}},contractId:{serializedName:"contract_id",type:{name:"String"}},authFun:{serializedName:"auth_fun",type:{name:"String"}}}}},YA={type:{name:"Composite",className:"NextNonceResponse",modelProperties:{nextNonce:{serializedName:"next_nonce",required:!0,type:{name:"String"}}}}},GA={type:{name:"Composite",className:"DryRunInput",modelProperties:{top:{serializedName:"top",type:{name:"String"}},accounts:{serializedName:"accounts",type:{name:"Sequence",element:{type:{name:"Composite",className:"DryRunAccount"}}}},txs:{serializedName:"txs",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DryRunInputItem"}}}},txEvents:{defaultValue:!1,serializedName:"tx_events",type:{name:"Boolean"}}}}},_V={type:{name:"Composite",className:"DryRunAccount",modelProperties:{pubKey:{serializedName:"pub_key",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}}}}},AV={type:{name:"Composite",className:"DryRunInputItem",modelProperties:{tx:{serializedName:"tx",type:{name:"String"}},callReq:{serializedName:"call_req",type:{name:"Composite",className:"DryRunCallReq"}}}}},kV={type:{name:"Composite",className:"DryRunCallReq",modelProperties:{calldata:{serializedName:"calldata",required:!0,type:{name:"String"}},contract:{serializedName:"contract",required:!0,type:{name:"String"}},amount:{serializedName:"amount",type:{name:"String"}},gas:{serializedName:"gas",type:{name:"String"}},caller:{serializedName:"caller",type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},abiVersion:{serializedName:"abi_version",type:{name:"String"}},context:{serializedName:"context",type:{name:"Composite",className:"DryRunCallContext"}}}}},EV={type:{name:"Composite",className:"DryRunCallContext",modelProperties:{tx:{serializedName:"tx",type:{name:"String"}},txHash:{serializedName:"tx_hash",type:{name:"String"}},stateful:{serializedName:"stateful",type:{name:"Boolean"}}}}},HA={type:{name:"Composite",className:"DryRunResults",modelProperties:{results:{serializedName:"results",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DryRunResult"}}}},txEvents:{serializedName:"tx_events",type:{name:"Sequence",element:{type:{name:"Dictionary",value:{type:{name:"any"}}}}}}}}},QV={type:{name:"Composite",className:"DryRunResult",modelProperties:{type:{serializedName:"type",required:!0,type:{name:"String"}},result:{serializedName:"result",required:!0,type:{name:"String"}},reason:{serializedName:"reason",type:{name:"String"}},callObj:{serializedName:"call_obj",type:{name:"Composite",className:"ContractCallObject"}}}}},NV={type:{name:"Composite",className:"ContractCallObject",modelProperties:{callerId:{serializedName:"caller_id",required:!0,type:{name:"String"}},callerNonce:{serializedName:"caller_nonce",required:!0,type:{name:"String"}},height:{serializedName:"height",required:!0,type:{name:"String"}},contractId:{serializedName:"contract_id",required:!0,type:{name:"String"}},gasPrice:{serializedName:"gas_price",required:!0,type:{name:"String"}},gasUsed:{serializedName:"gas_used",required:!0,type:{name:"String"}},log:{serializedName:"log",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Event"}}}},returnValue:{serializedName:"return_value",required:!0,type:{name:"String"}},returnType:{serializedName:"return_type",required:!0,type:{name:"Enum",allowedValues:["ok","error","revert"]}}}}},IV={type:{name:"Composite",className:"Event",modelProperties:{address:{serializedName:"address",required:!0,type:{name:"String"}},topics:{serializedName:"topics",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},data:{serializedName:"data",required:!0,type:{name:"String"}}}}},KA={type:{name:"Composite",className:"TxInfoObject",modelProperties:{callInfo:{serializedName:"call_info",type:{name:"Composite",className:"ContractCallObject"}},gaInfo:{serializedName:"ga_info",type:{name:"Composite",className:"GAObject"}},txInfo:{serializedName:"tx_info",type:{name:"String"}}}}},RV={type:{name:"Composite",className:"GAObject",modelProperties:{callerId:{serializedName:"caller_id",required:!0,type:{name:"String"}},height:{serializedName:"height",required:!0,type:{name:"String"}},gasPrice:{serializedName:"gas_price",required:!0,type:{name:"String"}},gasUsed:{serializedName:"gas_used",required:!0,type:{name:"String"}},returnValue:{serializedName:"return_value",required:!0,type:{name:"String"}},returnType:{serializedName:"return_type",required:!0,type:{name:"Enum",allowedValues:["ok","error"]}},innerObject:{serializedName:"inner_object",type:{name:"Composite",className:"TxInfoObject"}}}}},JA={type:{name:"Composite",className:"EncodedTx",modelProperties:{tx:{serializedName:"tx",required:!0,type:{name:"String"}}}}},ek={type:{name:"Composite",className:"PostTxResponse",modelProperties:{txHash:{serializedName:"tx_hash",required:!0,type:{name:"String"}}}}},tk={type:{name:"Composite",className:"ContractObject",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},ownerId:{serializedName:"owner_id",required:!0,type:{name:"String"}},vmVersion:{serializedName:"vm_version",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}},active:{serializedName:"active",required:!0,type:{name:"Boolean"}},referrerIds:{serializedName:"referrer_ids",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},deposit:{serializedName:"deposit",required:!0,type:{name:"String"}}}}},rk={type:{name:"Composite",className:"ByteCode",modelProperties:{bytecode:{serializedName:"bytecode",required:!0,type:{name:"String"}}}}},nk={type:{name:"Composite",className:"PoI",modelProperties:{poi:{serializedName:"poi",required:!0,type:{name:"String"}}}}},ik={type:{name:"Composite",className:"RegisteredOracle",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},queryFormat:{serializedName:"query_format",required:!0,type:{name:"String"}},responseFormat:{serializedName:"response_format",required:!0,type:{name:"String"}},queryFee:{serializedName:"query_fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}}}}},sk={type:{name:"Composite",className:"OracleQueries",modelProperties:{oracleQueries:{serializedName:"oracle_queries",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"OracleQuery"}}}}}}},ok={type:{name:"Composite",className:"OracleQuery",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},senderId:{serializedName:"sender_id",required:!0,type:{name:"String"}},senderNonce:{serializedName:"sender_nonce",required:!0,type:{name:"String"}},oracleId:{serializedName:"oracle_id",required:!0,type:{name:"String"}},query:{serializedName:"query",required:!0,type:{name:"String"}},response:{serializedName:"response",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",required:!0,type:{name:"String"}},responseTtl:{serializedName:"response_ttl",type:{name:"Composite",className:"Ttl"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}}}}},ak={type:{name:"Composite",className:"NameEntry",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},owner:{serializedName:"owner",type:{name:"String"}},ttl:{serializedName:"ttl",required:!0,type:{name:"String"}},pointers:{serializedName:"pointers",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"NamePointer"}}}}}}},lk={type:{name:"Composite",className:"Channel",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},initiatorId:{serializedName:"initiator_id",required:!0,type:{name:"String"}},responderId:{serializedName:"responder_id",required:!0,type:{name:"String"}},channelAmount:{serializedName:"channel_amount",required:!0,type:{name:"String"}},initiatorAmount:{serializedName:"initiator_amount",required:!0,type:{name:"String"}},responderAmount:{serializedName:"responder_amount",required:!0,type:{name:"String"}},channelReserve:{serializedName:"channel_reserve",required:!0,type:{name:"String"}},delegateIds:{serializedName:"delegate_ids",type:{name:"Composite",className:"Delegates"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},round:{serializedName:"round",required:!0,type:{name:"String"}},soloRound:{serializedName:"solo_round",required:!0,type:{name:"String"}},lockPeriod:{serializedName:"lock_period",required:!0,type:{name:"String"}},lockedUntil:{serializedName:"locked_until",required:!0,type:{name:"String"}}}}},ck={type:{name:"Composite",className:"PeerPubKey",modelProperties:{pubkey:{serializedName:"pubkey",required:!0,type:{name:"String"}}}}},uk={type:{name:"Composite",className:"Status",modelProperties:{genesisKeyBlockHash:{serializedName:"genesis_key_block_hash",required:!0,type:{name:"String"}},solutions:{serializedName:"solutions",required:!0,type:{name:"String"}},difficulty:{serializedName:"difficulty",required:!0,type:{name:"String"}},syncing:{serializedName:"syncing",required:!0,type:{name:"Boolean"}},syncProgress:{constraints:{InclusiveMaximum:100,InclusiveMinimum:0},serializedName:"sync_progress",type:{name:"Number"}},listening:{serializedName:"listening",required:!0,type:{name:"Boolean"}},protocols:{serializedName:"protocols",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Protocol"}}}},nodeVersion:{serializedName:"node_version",required:!0,type:{name:"String"}},nodeRevision:{serializedName:"node_revision",required:!0,type:{name:"String"}},peerCount:{serializedName:"peer_count",required:!0,type:{name:"String"}},peerConnections:{serializedName:"peer_connections",type:{name:"Composite",className:"PeerConnections"}},pendingTransactionsCount:{serializedName:"pending_transactions_count",required:!0,type:{name:"String"}},networkId:{serializedName:"network_id",required:!0,type:{name:"String"}},peerPubkey:{serializedName:"peer_pubkey",required:!0,type:{name:"String"}},topKeyBlockHash:{serializedName:"top_key_block_hash",required:!0,type:{name:"String"}},topBlockHeight:{serializedName:"top_block_height",required:!0,type:{name:"String"}}}}},MV={type:{name:"Composite",className:"Protocol",modelProperties:{version:{serializedName:"version",required:!0,type:{name:"String"}},effectiveAtHeight:{serializedName:"effective_at_height",required:!0,type:{name:"String"}}}}},BV={type:{name:"Composite",className:"PeerConnections",modelProperties:{inbound:{serializedName:"inbound",required:!0,type:{name:"String"}},outbound:{serializedName:"outbound",required:!0,type:{name:"String"}}}}},zV={type:{name:"Composite",className:"SpendTx",modelProperties:{recipientId:{serializedName:"recipient_id",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},senderId:{serializedName:"sender_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},payload:{serializedName:"payload",required:!0,type:{name:"String"}}}}},FV={type:{name:"Composite",className:"OracleRegisterTx",modelProperties:{queryFormat:{serializedName:"query_format",required:!0,type:{name:"String"}},responseFormat:{serializedName:"response_format",required:!0,type:{name:"String"}},queryFee:{serializedName:"query_fee",required:!0,type:{name:"String"}},oracleTtl:{serializedName:"oracle_ttl",type:{name:"Composite",className:"Ttl"}},accountId:{serializedName:"account_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},abiVersion:{serializedName:"abi_version",type:{name:"String"}}}}},DV={type:{name:"Composite",className:"OracleExtendTx",modelProperties:{fee:{serializedName:"fee",required:!0,type:{name:"String"}},oracleTtl:{serializedName:"oracle_ttl",type:{name:"Composite",className:"RelativeTTL"}},oracleId:{serializedName:"oracle_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}}}}},UV={type:{name:"Composite",className:"OracleQueryTx",modelProperties:{oracleId:{serializedName:"oracle_id",required:!0,type:{name:"String"}},query:{serializedName:"query",required:!0,type:{name:"String"}},queryFee:{serializedName:"query_fee",required:!0,type:{name:"String"}},queryTtl:{serializedName:"query_ttl",type:{name:"Composite",className:"Ttl"}},responseTtl:{serializedName:"response_ttl",type:{name:"Composite",className:"RelativeTTL"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},senderId:{serializedName:"sender_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},qV={type:{name:"Composite",className:"OracleRespondTx",modelProperties:{queryId:{serializedName:"query_id",required:!0,type:{name:"String"}},response:{serializedName:"response",required:!0,type:{name:"String"}},responseTtl:{serializedName:"response_ttl",type:{name:"Composite",className:"RelativeTTL"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},oracleId:{serializedName:"oracle_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},LV={type:{name:"Composite",className:"NamePreclaimTx",modelProperties:{commitmentId:{serializedName:"commitment_id",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},accountId:{serializedName:"account_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},jV={type:{name:"Composite",className:"NameClaimTx",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},nameSalt:{serializedName:"name_salt",required:!0,type:{name:"String"}},nameFee:{serializedName:"name_fee",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},accountId:{serializedName:"account_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},VV={type:{name:"Composite",className:"NameUpdateTx",modelProperties:{nameId:{serializedName:"name_id",required:!0,type:{name:"String"}},nameTtl:{serializedName:"name_ttl",required:!0,type:{name:"String"}},pointers:{serializedName:"pointers",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"NamePointer"}}}},clientTtl:{serializedName:"client_ttl",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},accountId:{serializedName:"account_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},ZV={type:{name:"Composite",className:"NameTransferTx",modelProperties:{nameId:{serializedName:"name_id",required:!0,type:{name:"String"}},recipientId:{serializedName:"recipient_id",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},accountId:{serializedName:"account_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},WV={type:{name:"Composite",className:"NameRevokeTx",modelProperties:{nameId:{serializedName:"name_id",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},accountId:{serializedName:"account_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},XV={type:{name:"Composite",className:"CommitmentId",modelProperties:{commitmentId:{serializedName:"commitment_id",required:!0,type:{name:"String"}}}}},YV={type:{name:"Composite",className:"NameHash",modelProperties:{nameId:{serializedName:"name_id",required:!0,type:{name:"String"}}}}},GV={type:{name:"Composite",className:"ChannelCreateTx",modelProperties:{initiatorId:{serializedName:"initiator_id",required:!0,type:{name:"String"}},initiatorAmount:{serializedName:"initiator_amount",required:!0,type:{name:"String"}},responderId:{serializedName:"responder_id",required:!0,type:{name:"String"}},responderAmount:{serializedName:"responder_amount",required:!0,type:{name:"String"}},channelReserve:{serializedName:"channel_reserve",required:!0,type:{name:"String"}},lockPeriod:{serializedName:"lock_period",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},delegateIds:{serializedName:"delegate_ids",type:{name:"Composite",className:"Delegates"}}}}},HV={type:{name:"Composite",className:"ChannelDepositTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",required:!0,type:{name:"String"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},round:{serializedName:"round",required:!0,type:{name:"String"}}}}},KV={type:{name:"Composite",className:"ChannelWithdrawTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},toId:{serializedName:"to_id",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",required:!0,type:{name:"String"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},round:{serializedName:"round",required:!0,type:{name:"String"}}}}},JV={type:{name:"Composite",className:"ChannelForceProgressTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},payload:{serializedName:"payload",required:!0,type:{name:"String"}},round:{serializedName:"round",required:!0,type:{name:"String"}},update:{serializedName:"update",type:{name:"Composite",className:"OffChainUpdate"}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},offchainTrees:{serializedName:"offchain_trees",type:{name:"String"}}}}},eZ={type:{name:"Composite",className:"ChannelCloseMutualTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},initiatorAmountFinal:{serializedName:"initiator_amount_final",required:!0,type:{name:"String"}},responderAmountFinal:{serializedName:"responder_amount_final",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",required:!0,type:{name:"String"}}}}},tZ={type:{name:"Composite",className:"ChannelCloseSoloTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},payload:{serializedName:"payload",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},poi:{serializedName:"poi",required:!0,type:{name:"String"}}}}},rZ={type:{name:"Composite",className:"ChannelSlashTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},payload:{serializedName:"payload",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},poi:{serializedName:"poi",required:!0,type:{name:"String"}}}}},nZ={type:{name:"Composite",className:"ChannelSettleTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},initiatorAmountFinal:{serializedName:"initiator_amount_final",required:!0,type:{name:"String"}},responderAmountFinal:{serializedName:"responder_amount_final",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",required:!0,type:{name:"String"}}}}},iZ={type:{name:"Composite",className:"ChannelSnapshotSoloTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},payload:{serializedName:"payload",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},sZ={type:{name:"Composite",className:"ChannelSetDelegatesTx",modelProperties:{channelId:{serializedName:"channel_id",required:!0,type:{name:"String"}},fromId:{serializedName:"from_id",required:!0,type:{name:"String"}},initiatorDelegateIds:{serializedName:"initiator_delegate_ids",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},responderDelegateIds:{serializedName:"responder_delegate_ids",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},stateHash:{serializedName:"state_hash",required:!0,type:{name:"String"}},round:{serializedName:"round",required:!0,type:{name:"String"}},payload:{serializedName:"payload",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}}}}},oZ={type:{name:"Composite",className:"PubKey",modelProperties:{pubKey:{serializedName:"pub_key",required:!0,type:{name:"String"}}}}},aZ={type:{name:"Composite",className:"PeerDetails",modelProperties:{host:{serializedName:"host",required:!0,type:{name:"String"}},port:{serializedName:"port",required:!0,type:{name:"String"}},firstSeen:{serializedName:"first_seen",required:!0,type:{name:"String"}},lastSeen:{serializedName:"last_seen",required:!0,type:{name:"String"}},genesisHash:{serializedName:"genesis_hash",required:!0,type:{name:"String"}},topHash:{serializedName:"top_hash",required:!0,type:{name:"String"}},topDifficulty:{serializedName:"top_difficulty",required:!0,type:{name:"String"}},networkId:{serializedName:"network_id",type:{name:"String"}},nodeVersion:{serializedName:"node_version",type:{name:"String"}},nodeRevision:{serializedName:"node_revision",type:{name:"String"}},nodeVendor:{serializedName:"node_vendor",type:{name:"String"}},nodeOs:{serializedName:"node_os",type:{name:"String"}}}}},lZ={type:{name:"Composite",className:"Peers",modelProperties:{peers:{serializedName:"peers",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},blocked:{serializedName:"blocked",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}}}}},cZ={type:{name:"Composite",className:"PeerCount",modelProperties:{connected:{serializedName:"connected",type:{name:"Composite",className:"PeerCountConnected"}},available:{serializedName:"available",type:{name:"Composite",className:"PeerCountAvailable"}},blocked:{serializedName:"blocked",required:!0,type:{name:"String"}}}}},uZ={type:{name:"Composite",className:"PeerCountConnected",modelProperties:{inbound:{serializedName:"inbound",type:{name:"String"}},outbound:{serializedName:"outbound",type:{name:"String"}}}}},fZ={type:{name:"Composite",className:"PeerCountAvailable",modelProperties:{verified:{serializedName:"verified",type:{name:"String"}},unverified:{serializedName:"unverified",type:{name:"String"}}}}},hZ={type:{name:"Composite",className:"ContractCreateTx",modelProperties:{ownerId:{serializedName:"owner_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},code:{serializedName:"code",required:!0,type:{name:"String"}},vmVersion:{serializedName:"vm_version",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}},deposit:{serializedName:"deposit",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}},gas:{serializedName:"gas",required:!0,type:{name:"String"}},gasPrice:{serializedName:"gas_price",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},callData:{serializedName:"call_data",required:!0,type:{name:"String"}}}}},dZ={type:{name:"Composite",className:"ContractCallTx",modelProperties:{callerId:{serializedName:"caller_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},contractId:{serializedName:"contract_id",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}},gas:{serializedName:"gas",required:!0,type:{name:"String"}},gasPrice:{serializedName:"gas_price",required:!0,type:{name:"String"}},callData:{serializedName:"call_data",required:!0,type:{name:"String"}}}}},fk={type:{name:"Composite",className:"UnsignedTx",modelProperties:{tx:{serializedName:"tx",required:!0,type:{name:"String"}}}}},pZ={type:{name:"Composite",className:"TokenSupply",modelProperties:{accounts:{serializedName:"accounts",type:{name:"String"}},contracts:{serializedName:"contracts",type:{name:"String"}},contractOracles:{serializedName:"contract_oracles",type:{name:"String"}},locked:{serializedName:"locked",type:{name:"String"}},oracles:{serializedName:"oracles",type:{name:"String"}},oracleQueries:{serializedName:"oracle_queries",type:{name:"String"}},pendingRewards:{serializedName:"pending_rewards",type:{name:"String"}},total:{serializedName:"total",type:{name:"String"}}}}},mZ={type:{name:"Composite",className:"GAAttachTx",modelProperties:{ownerId:{serializedName:"owner_id",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},code:{serializedName:"code",required:!0,type:{name:"String"}},vmVersion:{serializedName:"vm_version",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}},gas:{serializedName:"gas",required:!0,type:{name:"String"}},gasPrice:{serializedName:"gas_price",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},callData:{serializedName:"call_data",required:!0,type:{name:"String"}},authFun:{constraints:{Pattern:new RegExp("^(0x|0X)?[a-fA-F0-9]+$")},serializedName:"auth_fun",required:!0,type:{name:"String"}}}}},gZ={type:{name:"Composite",className:"GAMetaTx",modelProperties:{gaId:{serializedName:"ga_id",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}},gas:{serializedName:"gas",required:!0,type:{name:"String"}},gasPrice:{serializedName:"gas_price",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},ttl:{serializedName:"ttl",type:{name:"String"}},authData:{serializedName:"auth_data",required:!0,type:{name:"String"}},tx:{serializedName:"tx",type:{name:"Composite",className:"SignedTx"}}}}},OZ={type:{name:"Composite",className:"PayingForTx",modelProperties:{payerId:{serializedName:"payer_id",required:!0,type:{name:"String"}},fee:{serializedName:"fee",required:!0,type:{name:"String"}},nonce:{serializedName:"nonce",type:{name:"String"}},tx:{serializedName:"tx",type:{name:"Composite",className:"SignedTx"}}}}},yZ={type:{name:"Composite",className:"CheckTxInPoolResponse",modelProperties:{status:{serializedName:"status",required:!0,type:{name:"String"}}}}},hk={serializedName:"OffChainTransfer",type:{name:"Composite",className:"OffChainTransfer",uberParent:"OffChainUpdate",polymorphicDiscriminator:fi.type.polymorphicDiscriminator,modelProperties:{...fi.type.modelProperties,from:{serializedName:"from",required:!0,type:{name:"String"}},to:{serializedName:"to",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}}}}},dk={serializedName:"OffChainWithdrawal",type:{name:"Composite",className:"OffChainWithdrawal",uberParent:"OffChainUpdate",polymorphicDiscriminator:fi.type.polymorphicDiscriminator,modelProperties:{...fi.type.modelProperties,to:{serializedName:"to",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}}}}},pk={serializedName:"OffChainDeposit",type:{name:"Composite",className:"OffChainDeposit",uberParent:"OffChainUpdate",polymorphicDiscriminator:fi.type.polymorphicDiscriminator,modelProperties:{...fi.type.modelProperties,from:{serializedName:"from",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}}}}},mk={serializedName:"OffChainNewContract",type:{name:"Composite",className:"OffChainNewContract",uberParent:"OffChainUpdate",polymorphicDiscriminator:fi.type.polymorphicDiscriminator,modelProperties:{...fi.type.modelProperties,owner:{serializedName:"owner",required:!0,type:{name:"String"}},vmVersion:{serializedName:"vm_version",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}},code:{serializedName:"code",type:{name:"Composite",className:"ByteCode"}},deposit:{serializedName:"deposit",required:!0,type:{name:"String"}},callData:{serializedName:"call_data",required:!0,type:{name:"String"}}}}},gk={serializedName:"OffChainCallContract",type:{name:"Composite",className:"OffChainCallContract",uberParent:"OffChainUpdate",polymorphicDiscriminator:fi.type.polymorphicDiscriminator,modelProperties:{...fi.type.modelProperties,caller:{serializedName:"caller",required:!0,type:{name:"String"}},contract:{serializedName:"contract",required:!0,type:{name:"String"}},abiVersion:{serializedName:"abi_version",required:!0,type:{name:"String"}},amount:{serializedName:"amount",required:!0,type:{name:"String"}},gas:{serializedName:"gas",required:!0,type:{name:"String"}},gasPrice:{serializedName:"gas_price",required:!0,type:{name:"String"}},callData:{serializedName:"call_data",required:!0,type:{name:"String"}}}}},xZ={type:{name:"Composite",className:"CreateContractUnsignedTx",modelProperties:{...fk.type.modelProperties,contractId:{serializedName:"contract_id",required:!0,type:{name:"String"}}}}};let bZ={"Tx.Tx":WA,OffChainUpdate:fi,"OffChainUpdate.OffChainTransfer":hk,"OffChainUpdate.OffChainWithdrawal":dk,"OffChainUpdate.OffChainDeposit":pk,"OffChainUpdate.OffChainNewContract":mk,"OffChainUpdate.OffChainCallContract":gk};const SZ=Object.freeze(Object.defineProperty({__proto__:null,Account:cp,ByteCode:rk,Channel:lk,ChannelCloseMutualTx:eZ,ChannelCloseSoloTx:tZ,ChannelCreateTx:GV,ChannelDepositTx:HV,ChannelForceProgressTx:JV,ChannelSetDelegatesTx:sZ,ChannelSettleTx:nZ,ChannelSlashTx:rZ,ChannelSnapshotSoloTx:iZ,ChannelWithdrawTx:KV,CheckTxInPoolResponse:yZ,CommitmentId:XV,ContractCallObject:NV,ContractCallTx:dZ,ContractCreateTx:hZ,ContractObject:tk,CountResponse:XA,CreateContractUnsignedTx:xZ,Delegates:$V,DryRunAccount:_V,DryRunCallContext:EV,DryRunCallReq:kV,DryRunInput:GA,DryRunInputItem:AV,DryRunResult:QV,DryRunResults:HA,EncodedTx:JA,ErrorModel:Ve,Event:IV,GAAttachTx:mZ,GAMetaTx:gZ,GAObject:RV,Generation:lp,HashResponse:jA,Header:LA,HeightResponse:VA,KeyBlock:gu,MicroBlockHeader:ZA,NameClaimTx:jV,NameEntry:ak,NameHash:YV,NamePointer:PV,NamePreclaimTx:LV,NameRevokeTx:WV,NameTransferTx:ZV,NameUpdateTx:VV,NextNonceResponse:YA,OffChainCallContract:gk,OffChainDeposit:pk,OffChainNewContract:mk,OffChainTransfer:hk,OffChainUpdate:fi,OffChainWithdrawal:dk,OracleExtendTx:DV,OracleQueries:sk,OracleQuery:ok,OracleQueryTx:UV,OracleRegisterTx:FV,OracleRespondTx:qV,PayingForTx:OZ,PeerConnections:BV,PeerCount:cZ,PeerCountAvailable:fZ,PeerCountConnected:uZ,PeerDetails:aZ,PeerPubKey:ck,Peers:lZ,PoI:nk,PostTxResponse:ek,Protocol:MV,PubKey:oZ,RegisteredOracle:ik,RelativeTTL:CV,SignedTx:Yy,SignedTxs:Xy,SpendTx:zV,Status:uk,TokenSupply:pZ,Ttl:TV,Tx:WA,TxInfoObject:KA,UnsignedTx:fk,discriminators:bZ},Symbol.toStringTag,{value:"Module"})),Tt={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},Pt={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},_t={parameterPath:"intAsString",mapper:{defaultValue:!1,serializedName:"int-as-string",type:{name:"Boolean"}}},As={parameterPath:"hash",mapper:{serializedName:"hash",required:!0,type:{name:"String"}}},Gy={parameterPath:"height",mapper:{constraints:{InclusiveMaximum:18446744073709552e3,InclusiveMinimum:0},serializedName:"height",required:!0,type:{name:"Number"}}},vZ={parameterPath:"index",mapper:{constraints:{InclusiveMinimum:1},serializedName:"index",required:!0,type:{name:"Number"}}},di={parameterPath:"pubkey",mapper:{serializedName:"pubkey",required:!0,type:{name:"String"}}},wZ={parameterPath:["options","strategy"],mapper:{defaultValue:"max",serializedName:"strategy",type:{name:"Enum",allowedValues:["max","continuity"]}}},Ok={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},$Z={parameterPath:"body",mapper:GA},CZ={parameterPath:"body",mapper:JA},TZ={parameterPath:["options","from"],mapper:{serializedName:"from",type:{name:"String"}}},PZ={parameterPath:["options","limit"],mapper:{defaultValue:20,constraints:{InclusiveMaximum:1e3,InclusiveMinimum:1},serializedName:"limit",type:{name:"Number"}}},_Z={parameterPath:["options","type"],mapper:{defaultValue:"all",serializedName:"type",type:{name:"Enum",allowedValues:["open","closed","all"]}}},AZ={parameterPath:"queryId",mapper:{serializedName:"query-id",required:!0,type:{name:"String"}}},kZ={parameterPath:"name",mapper:{serializedName:"name",required:!0,type:{name:"String"}}};let EZ=class extends qA{constructor(e,t){var n,i;if(e===void 0)throw new Error("'$host' cannot be null");t||(t={});const s={requestContentType:"application/json; charset=utf-8"},o="azsdk-js-node/1.0.0-beta.1",a=t.userAgentOptions&&t.userAgentOptions.userAgentPrefix?`${t.userAgentOptions.userAgentPrefix} ${o}`:`${o}`,l={...s,...t,userAgentOptions:{userAgentPrefix:a},endpoint:(n=(i=t.endpoint)!==null&&i!==void 0?i:t.baseUri)!==null&&n!==void 0?n:"{$host}"};super(l),this.$host=e}getTopHeader(e){return this.sendOperationRequest({options:e},QZ)}getCurrentKeyBlock(e){return this.sendOperationRequest({options:e},NZ)}getCurrentKeyBlockHash(e){return this.sendOperationRequest({options:e},IZ)}getCurrentKeyBlockHeight(e){return this.sendOperationRequest({options:e},RZ)}getPendingKeyBlock(e){return this.sendOperationRequest({options:e},MZ)}getKeyBlockByHash(e,t){return this.sendOperationRequest({hash:e,options:t},BZ)}getKeyBlockByHeight(e,t){return this.sendOperationRequest({height:e,options:t},zZ)}getMicroBlockHeaderByHash(e,t){return this.sendOperationRequest({hash:e,options:t},FZ)}getMicroBlockTransactionsByHash(e,t){return this.sendOperationRequest({hash:e,options:t},DZ)}getMicroBlockTransactionByHashAndIndex(e,t,n){return this.sendOperationRequest({hash:e,index:t,options:n},UZ)}getMicroBlockTransactionsCountByHash(e,t){return this.sendOperationRequest({hash:e,options:t},qZ)}getCurrentGeneration(e){return this.sendOperationRequest({options:e},LZ)}getGenerationByHash(e,t){return this.sendOperationRequest({hash:e,options:t},jZ)}getGenerationByHeight(e,t){return this.sendOperationRequest({height:e,options:t},VZ)}getAccountByPubkey(e,t){return this.sendOperationRequest({pubkey:e,options:t},ZZ)}getAccountByPubkeyAndHeight(e,t,n){return this.sendOperationRequest({pubkey:e,height:t,options:n},WZ)}getAccountByPubkeyAndHash(e,t,n){return this.sendOperationRequest({pubkey:e,hash:t,options:n},XZ)}getPendingAccountTransactionsByPubkey(e,t){return this.sendOperationRequest({pubkey:e,options:t},YZ)}getAccountNextNonce(e,t){return this.sendOperationRequest({pubkey:e,options:t},GZ)}protectedDryRunTxs(e,t){return this.sendOperationRequest({body:e,options:t},HZ)}getTransactionByHash(e,t){return this.sendOperationRequest({hash:e,options:t},KZ)}getTransactionInfoByHash(e,t){return this.sendOperationRequest({hash:e,options:t},JZ)}postTransaction(e,t){return this.sendOperationRequest({body:e,options:t},eW)}getContract(e,t){return this.sendOperationRequest({pubkey:e,options:t},tW)}getContractCode(e,t){return this.sendOperationRequest({pubkey:e,options:t},rW)}getContractPoI(e,t){return this.sendOperationRequest({pubkey:e,options:t},nW)}getOracleByPubkey(e,t){return this.sendOperationRequest({pubkey:e,options:t},iW)}getOracleQueriesByPubkey(e,t){return this.sendOperationRequest({pubkey:e,options:t},sW)}getOracleQueryByPubkeyAndQueryId(e,t,n){return this.sendOperationRequest({pubkey:e,queryId:t,options:n},oW)}getNameEntryByName(e,t){return this.sendOperationRequest({name:e,options:t},aW)}getChannelByPubkey(e,t){return this.sendOperationRequest({pubkey:e,options:t},lW)}getPeerPubkey(e){return this.sendOperationRequest({options:e},cW)}getStatus(e){return this.sendOperationRequest({options:e},uW)}getChainEnds(e){return this.sendOperationRequest({options:e},fW)}};const At=BA(SZ,!1),QZ={path:"/v3/headers/top",httpMethod:"GET",responses:{200:{bodyMapper:LA},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},NZ={path:"/v3/key-blocks/current",httpMethod:"GET",responses:{200:{bodyMapper:gu},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},IZ={path:"/v3/key-blocks/current/hash",httpMethod:"GET",responses:{200:{bodyMapper:jA},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},RZ={path:"/v3/key-blocks/current/height",httpMethod:"GET",responses:{200:{bodyMapper:VA},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},MZ={path:"/v3/key-blocks/pending",httpMethod:"GET",responses:{200:{bodyMapper:gu},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},BZ={path:"/v3/key-blocks/hash/{hash}",httpMethod:"GET",responses:{200:{bodyMapper:gu},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As],headerParameters:[Tt],serializer:At},zZ={path:"/v3/key-blocks/height/{height}",httpMethod:"GET",responses:{200:{bodyMapper:gu},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,Gy],headerParameters:[Tt],serializer:At},FZ={path:"/v3/micro-blocks/hash/{hash}/header",httpMethod:"GET",responses:{200:{bodyMapper:ZA},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As],headerParameters:[Tt],serializer:At},DZ={path:"/v3/micro-blocks/hash/{hash}/transactions",httpMethod:"GET",responses:{200:{bodyMapper:Xy},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As],headerParameters:[Tt],serializer:At},UZ={path:"/v3/micro-blocks/hash/{hash}/transactions/index/{index}",httpMethod:"GET",responses:{200:{bodyMapper:Yy},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As,vZ],headerParameters:[Tt],serializer:At},qZ={path:"/v3/micro-blocks/hash/{hash}/transactions/count",httpMethod:"GET",responses:{200:{bodyMapper:XA},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As],headerParameters:[Tt],serializer:At},LZ={path:"/v3/generations/current",httpMethod:"GET",responses:{200:{bodyMapper:lp},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},jZ={path:"/v3/generations/hash/{hash}",httpMethod:"GET",responses:{200:{bodyMapper:lp},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As],headerParameters:[Tt],serializer:At},VZ={path:"/v3/generations/height/{height}",httpMethod:"GET",responses:{200:{bodyMapper:lp},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,Gy],headerParameters:[Tt],serializer:At},ZZ={path:"/v3/accounts/{pubkey}",httpMethod:"GET",responses:{200:{bodyMapper:cp},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},WZ={path:"/v3/accounts/{pubkey}/height/{height}",httpMethod:"GET",responses:{200:{bodyMapper:cp},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,Gy,di],headerParameters:[Tt],serializer:At},XZ={path:"/v3/accounts/{pubkey}/hash/{hash}",httpMethod:"GET",responses:{200:{bodyMapper:cp},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As,di],headerParameters:[Tt],serializer:At},YZ={path:"/v3/accounts/{pubkey}/transactions/pending",httpMethod:"GET",responses:{200:{bodyMapper:Xy},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},GZ={path:"/v3/accounts/{pubkey}/next-nonce",httpMethod:"GET",responses:{200:{bodyMapper:YA},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t,wZ],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},HZ={path:"/v3/dry-run",httpMethod:"POST",responses:{200:{bodyMapper:HA},403:{bodyMapper:Ve,isError:!0}},requestBody:$Z,queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt,Ok],mediaType:"json",serializer:At},KZ={path:"/v3/transactions/{hash}",httpMethod:"GET",responses:{200:{bodyMapper:Yy},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As],headerParameters:[Tt],serializer:At},JZ={path:"/v3/transactions/{hash}/info",httpMethod:"GET",responses:{200:{bodyMapper:KA},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,As],headerParameters:[Tt],serializer:At},eW={path:"/v3/transactions",httpMethod:"POST",responses:{200:{bodyMapper:ek},400:{bodyMapper:Ve,isError:!0}},requestBody:CZ,queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt,Ok],mediaType:"json",serializer:At},tW={path:"/v3/contracts/{pubkey}",httpMethod:"GET",responses:{200:{bodyMapper:tk},400:{bodyMapper:Ve,isError:!0},404:{isError:!0}},queryParameters:[_t],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},rW={path:"/v3/contracts/{pubkey}/code",httpMethod:"GET",responses:{200:{bodyMapper:rk},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},nW={path:"/v3/contracts/{pubkey}/poi",httpMethod:"GET",responses:{200:{bodyMapper:nk},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},iW={path:"/v3/oracles/{pubkey}",httpMethod:"GET",responses:{200:{bodyMapper:ik},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},sW={path:"/v3/oracles/{pubkey}/queries",httpMethod:"GET",responses:{200:{bodyMapper:sk},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t,TZ,PZ,_Z],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},oW={path:"/v3/oracles/{pubkey}/queries/{query-id}",httpMethod:"GET",responses:{200:{bodyMapper:ok},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,di,AZ],headerParameters:[Tt],serializer:At},aW={path:"/v3/names/{name}",httpMethod:"GET",responses:{200:{bodyMapper:ak},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,kZ],headerParameters:[Tt],serializer:At},lW={path:"/v3/channels/{pubkey}",httpMethod:"GET",responses:{200:{bodyMapper:lk},400:{bodyMapper:Ve,isError:!0},404:{bodyMapper:Ve,isError:!0}},queryParameters:[_t],urlParameters:[Pt,di],headerParameters:[Tt],serializer:At},cW={path:"/v3/peers/pubkey",httpMethod:"GET",responses:{200:{bodyMapper:ck}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},uW={path:"/v3/status",httpMethod:"GET",responses:{200:{bodyMapper:uk}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At},fW={path:"/v3/status/chain-ends",httpMethod:"GET",responses:{200:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"String"}}}}}},queryParameters:[_t],urlParameters:[Pt],headerParameters:[Tt],serializer:At};function hW(r,e,t){yk(r,e),e.set(r,t)}function Pm(r,e){yk(r,e),e.add(r)}function yk(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gl(r,e,t){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return t}const dW=["balance","queryFee","fee","amount","nameFee","channelAmount","initiatorAmount","responderAmount","channelReserve","initiatorAmountFinal","responderAmountFinal","gasPrice","deposit"],pW=["time","gas","gasUsed","nameSalt","nonce","nextNonce","height","blockHeight","topBlockHeight","ttl","nameTtl","clientTtl","inbound","outbound","peerCount","pendingTransactionsCount","effectiveAtHeight","version","solutions","round"];var jc=new WeakSet,Ov=new WeakSet,yv=new WeakSet;class mW extends EZ{constructor(){super(...arguments),Pm(this,yv),Pm(this,Ov),Pm(this,jc)}async sendOperationRequest(e,t){const n=du(e,i=>{let[s,o]=i;return[s,gl(this,Ov,gW).call(this,o)]});return gl(this,yv,OW).call(this,await super.sendOperationRequest(n,t))}}function pd(r,e){return Array.isArray(r)?r.map(t=>gl(this,jc,pd).call(this,t,e)):r!=null&&typeof r=="object"?du(r,t=>{let[n,i]=t;return i==null?[n,i]:dW.some(s=>s===n)?[n,e.bigInt(i)]:pW.some(s=>s===n)?[n,e.number(i)]:[n,gl(this,jc,pd).call(this,i,e)]}):r}function gW(r){return gl(this,jc,pd).call(this,r,{bigInt:e=>e instanceof Ir?e.toFixed():e.toString(),number:e=>e.toString()})}function OW(r){return gl(this,jc,pd).call(this,r,{bigInt:e=>BigInt(e),number:e=>+e})}var ql=new WeakMap;class Vc extends mW{constructor(e){let{ignoreVersion:t=!1,retryCount:n=3,retryOverallDelay:i=800,...s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(super(e,{allowInsecureConnection:!0,additionalPolicies:[xj(),bj(),vj(n,i),NA(o=>` ${o.reason}`)],...s}),hW(this,ql,{writable:!0,value:void 0}),!t){const o=this.getStatus(),a=o.then(l=>{let{nodeVersion:c}=l;return c},l=>l);ln(this,ql,o.then(l=>{let{networkId:c}=l;return c},l=>l)),this.pipeline.addPolicy(IA("node","/v3/status",a,"6.2.0","7.0.0"))}this.intAsString=!0}async getNetworkId(){var e;(e=mt(this,ql))!==null&&e!==void 0||ln(this,ql,this.getStatus().then(n=>{let{networkId:i}=n;return i}));const t=await mt(this,ql);if(t instanceof Error)throw t;return t}async getNodeInfo(){const{nodeVersion:e,networkId:t,protocols:n,topBlockHeight:i}=await this.getStatus(),s=n.filter(o=>{let{effectiveAtHeight:a}=o;return i>=a}).reduce((o,a)=>a.effectiveAtHeight>o.effectiveAtHeight?a:o,{effectiveAtHeight:-1,version:0}).version;return{url:this.$host,nodeNetworkId:t,version:e,consensusProtocolVersion:s}}}function Hy(r){var e;const t=Hn(r);switch(t.tag){case V.SignedTx:return Hy(Mn(t.encodedTx));case V.GaMetaTx:return t.gaId}const n=(e=ap(t.tag,t.version).find(s=>{let[o]=s;return o==="nonce"}))===null||e===void 0?void 0:e[1];if(n==null)throw new is(`Transaction doesn't have nonce: ${V[t.tag]}`);if(!("senderKey"in n))throw new fu;return t[n.senderKey].replace(/^ok_/,"ak_")}class xk{}const{Buffer:bk}=ur,_m=new WeakMap;function Sk(r,e,t){const n=[e];t&&n.push("inner_tx");const i=St(r);return $s([bk.from(n.join("-")),Yn(i)])}class Ky extends xk{constructor(e){if(super(),e=typeof e=="string"?bk.from(e,"hex"):e,e.length!==64)throw new Dt("secretKey","64 bytes",e.length);_m.set(this,e),this.address=sr(Yq(_m.get(this)).publicKey,j.AccountAddress)}static generate(){return new Ky(xA().secretKey)}async sign(e,t){return Gq(e,_m.get(this))}async signTransaction(e){let{innerTx:t,networkId:n,...i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n==null)throw new Dt("networkId","provided",n);const s=St(e),o=Sk(e,n,t===!0),a=[await this.sign(o,i)];return Mn({tag:V.SignedTx,encodedTx:s,signatures:a})}async signMessage(e,t){return this.sign(Hq(e),t)}}function md(r){let{innerTx:e,gasUsed:t,queryFee:n,isInitiator:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=Hn(r);if(s.tag===V.SignedTx)throw new Vr("Transaction shouldn't be a SignedTx, use `getExecutionCostBySignedTx` instead");let o=0n;return"fee"in s&&e!=="freeloader"&&(o+=BigInt(s.fee)),s.tag===V.NameClaimTx&&(o+=BigInt(s.nameFee)),s.tag===V.OracleQueryTx&&(o+=BigInt(s.queryFee)),s.tag===V.OracleResponseTx&&(o-=BigInt(n??0)),s.tag===V.ChannelSettleTx&&(i===!0&&(o-=BigInt(s.initiatorAmountFinal)),i===!1&&(o-=BigInt(s.responderAmountFinal))),(s.tag===V.SpendTx&&s.senderId!==s.recipientId||s.tag===V.ContractCreateTx||s.tag===V.ContractCallTx||s.tag===V.ChannelDepositTx)&&e!=="fee-payer"&&(o+=BigInt(s.amount)),s.tag===V.ContractCreateTx&&(o+=BigInt(s.deposit)),(s.tag===V.ContractCreateTx||s.tag===V.ContractCallTx||s.tag===V.GaAttachTx||s.tag===V.GaMetaTx)&&e!=="freeloader"&&(o+=BigInt(s.gasPrice)*BigInt(t??s.gasLimit)),(s.tag===V.GaMetaTx||s.tag===V.PayingForTx)&&(o+=md(Mn(s.tx.encodedTx),s.tag===V.PayingForTx?{innerTx:"fee-payer"}:{})),o}function yW(r,e,t){const n=Hn(r,V.SignedTx);if(n.encodedTx.tag===V.GaMetaTx)return md(Mn(n.encodedTx),t);const i=Mn(n.encodedTx),s=Hy(i),[o,a]=[!0,!1].map(l=>UO(Sk(i,e,l),n.signatures[0],s));if(!o&&!a)throw new is("Can't verify signature");return md(Mn(n.encodedTx),{...o&&{innerTx:"freeloader"},...t})}async function xW(r,e){let{isMined:t,...n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Hn(r);const s=i.tag===V.SignedTx,o=s&&t===!0&&Wy(r);if(i.tag===V.SignedTx&&(i=i.encodedTx),n.gasUsed==null&&o!==!1&&[V.ContractCreateTx,V.ContractCallTx,V.GaAttachTx,V.GaMetaTx].includes(i.tag)){const{callInfo:a,gaInfo:l}=await e.getTransactionInfoByHash(o),c=a??l;if(c==null)throw new Xn(`callInfo and gaInfo is not available for transaction ${o}`);n.gasUsed=c.gasUsed}if(n.queryFee==null&&V.OracleResponseTx===i.tag&&(n.queryFee=(await e.getOracleByPubkey(i.oracleId)).queryFee.toString()),n.isInitiator==null&&V.ChannelSettleTx===i.tag&&t!==!0){const{initiatorId:a}=await e.getChannelByPubkey(i.channelId);n.isInitiator=i.fromId===a}return s?yW(r,await e.getNetworkId(),n):md(r,n)}const{Buffer:bW}=ur,vk=[];async function wk(r,e,t){const n=Hy(Mn(r)),[i,{height:s},{consensusProtocolVersion:o,nodeNetworkId:a}]=await Promise.all([e.getAccountByPubkey(n).catch(l=>{if(!Dy(l))throw l;return{id:n,balance:0n,nonce:0}}).then(l=>({...l,id:l.id})),e.getCurrentKeyBlockHeight(),e.getNodeInfo()]);return(await Promise.all(vk.map(async l=>l(r,{node:e,account:i,height:s,consensusProtocolVersion:o,nodeNetworkId:a,parentTxTypes:t})))).flat()}async function xv(r,e){const t=new Vc(e.$host,{ignoreVersion:!0,pipeline:e.pipeline.clone(),additionalPolicies:[Sj()]});return wk(Hn(r),t,[])}vk.push((r,e)=>{let{account:t,nodeNetworkId:n,parentTxTypes:i}=e;if(r.tag!==V.SignedTx)return[];const{encodedTx:s,signatures:o}=r;if((s??o)==null)return[];if(o.length!==1)return[];const a=bW.from([n,...i.includes(V.PayingForTx)?["inner_tx"]:[]].join("-")),l=St(Mn(s)),c=$s([a,l]),u=$s([a,Yn(l)]);return UO(c,o[0],t.id)||UO(u,o[0],t.id)?[]:[{message:"Signature cannot be verified, please ensure that you transaction have the correct prefix and the correct private key for the sender address",key:"InvalidSignature",checkedKeys:["encodedTx","signatures"]}]},async(r,e)=>{let{node:t,parentTxTypes:n}=e,i;return"encodedTx"in r&&(i=r.encodedTx),"tx"in r&&(i=r.tx),i==null?[]:wk(i,t,[...n,r.tag])},(r,e)=>{let{height:t}=e;return"ttl"in r?r.ttl===0||r.ttl>=t?[]:[{message:`TTL ${r.ttl} is already expired, current height is ${t}`,key:"ExpiredTTL",checkedKeys:["ttl"]}]:[]},async(r,e)=>{let{account:t,parentTxTypes:n,node:i}=e;if(n.length!==0)return[];const s=await xW(Mn(r),i).catch(()=>0n);return s<=t.balance?[]:[{message:`Account balance ${t.balance} is not enough to execute the transaction that costs ${s}`,key:"InsufficientBalance",checkedKeys:["amount","fee","nameFee","gasLimit","gasPrice"]}]},(r,e)=>{let{account:t}=e,n;return r.tag===V.SignedTx&&t.kind==="generalized"&&r.signatures.length!==0&&(n="Generalized account can't be used to generate SignedTx with signatures"),r.tag===V.GaMetaTx&&t.kind==="basic"&&(n="Basic account can't be used to generate GaMetaTx"),n==null?[]:[{message:n,key:"InvalidAccountType",checkedKeys:["tag"]}]},(r,e)=>{var t,n;let{consensusProtocolVersion:i}=e;const s=V.Oracle===r.tag||V.OracleRegisterTx===r.tag,o=V.ContractCreateTx===r.tag||V.GaAttachTx===r.tag,a=V.ContractCallTx===r.tag||V.GaMetaTx===r.tag,l=(t=(n=s?"oracle-call":null)!==null&&n!==void 0?n:o?"contract-create":null)!==null&&t!==void 0?t:a?"contract-call":null;if(l==null)return[];const c=bA[i][l];let u;if("abiVersion"in r&&(u={abiVersion:r.abiVersion}),"ctVersion"in r&&(u=r.ctVersion),u==null)throw new fu;return!c.abiVersion.includes(u.abiVersion)||o&&!c.vmVersion.includes(u.vmVersion)?[{message:`ABI/VM version ${JSON.stringify(u)} is wrong, supported is: ${JSON.stringify(c)}`,key:"VmAndAbiVersionMismatch",checkedKeys:["ctVersion","abiVersion"]}]:[]},async(r,e)=>{let{node:t}=e;if(V.ContractCallTx!==r.tag)return[];try{const{active:s}=await t.getContract(r.contractId);return s?[]:[{message:`Contract ${r.contractId} is not active`,key:"ContractNotActive",checkedKeys:["contractId"]}]}catch(s){var n,i;if(((n=s.response)===null||n===void 0||(i=n.parsedBody)===null||i===void 0?void 0:i.reason)==null)throw s;return[{message:s.response.parsedBody.reason,key:"ContractNotFound",checkedKeys:["contractId"]}]}});function Ou(r,e){let{_expectedMineRate:t=18e4,_microBlockCycle:n=3e3,_maxPollInterval:i=5e3}=e;const s={block:t,microblock:n}[r];return Math.min(s/3,i)}class $k extends is{constructor(e,t,n){super(e),this.name="InvalidTxError",this.validation=t,this.transaction=n}}async function gd(r){let{onNode:e}=r;return(await e.getCurrentKeyBlockHeight()).height}async function Ck(r,e){var t;let{blocks:n=5,interval:i,onNode:s,...o}=e;(t=i)!==null&&t!==void 0||(i=Ou("microblock",o));const a=await gd({onNode:s})+n;do{const l=await s.getTransactionByHash(r);if(l.blockHeight!==-1)return l;await $l(i)}while(await gd({onNode:s})<a);throw new e4(n,r)}async function Tk(r,e){var t;let{interval:n,onNode:i,...s}=e;(t=n)!==null&&t!==void 0||(n=Ou("block",s));let o;do o!=null&&await $l(n),o=(await i.getCurrentKeyBlockHeight()).height;while(o<r);return o}async function Jy(r,e){let{confirm:t=3,onNode:n,...i}=e;const{blockHeight:s}=await n.getTransactionByHash(r),o=await Tk(s+t,{onNode:n,...i}),{blockHeight:a}=await n.getTransactionByHash(r);switch(a){case-1:throw new k4(r);case s:return o;default:return Jy(r,{onNode:n,confirm:t,...i})}}async function wn(r,e){let{onNode:t,onAccount:n,verify:i=!0,waitMined:s=!0,confirm:o,innerTx:a,...l}=e;const c=await n.signTransaction(r,{...l,onNode:t,innerTx:a,networkId:await t.getNetworkId()});if(a===!0)return{hash:Wy(c),rawTx:c};if(i){const u=await xv(c,t);if(u.length>0){const f=`Transaction verification errors: ${u.map(d=>d.message).join(", ")}`;throw new $k(f,u,c)}}try{let u;try{u=n!=null?`tx-${n.address}`:null}catch{u=null}const{txHash:f}=await t.postTransaction({tx:c},u!=null?{requestOptions:{customHeaders:{__queue:u}}}:{});if(s){const d=await Ck(f,{onNode:t,...l}),g={...d,hash:d.hash,rawTx:c};return o!=null&&(o===!0||o>0)?{...g,confirmationHeight:await Jy(f,{onNode:t,confirm:typeof o=="boolean"?void 0:o,...l})}:g}return{hash:f,rawTx:c}}catch(u){throw Object.assign(u,{rawTx:c,verifyTx:async()=>xv(c,t)})}}async function up(r,e){let{height:t,hash:n,onNode:i}=e;return t!=null?i.getAccountByPubkeyAndHeight(r,t):n!=null?i.getAccountByPubkeyAndHash(r,n):i.getAccountByPubkey(r)}async function Pk(r,e){let{format:t=mn.AETTOS,...n}=e;const i=r.startsWith("ok_")?sr(St(r),j.AccountAddress):r,{balance:s}=await up(i,n).catch(o=>{if(!Dy(o))throw o;return{balance:0n}});return ky(s,{targetDenomination:t})}async function SW(r){let{onNode:e}=r;return e.getCurrentGeneration()}async function vW(r,e){let{onNode:t}=e;return typeof r=="number"?t.getGenerationByHeight(r):t.getGenerationByHash(r)}async function wW(r,e){let{onNode:t}=e;return(await t.getMicroBlockTransactionsByHash(r)).transactions}async function _k(r,e){let{onNode:t}=e;return typeof r=="number"?t.getKeyBlockByHeight(r):t.getKeyBlockByHash(r)}async function $W(r,e){let{onNode:t}=e;return t.getMicroBlockHeaderByHash(r)}const Od=new Map;async function bv(r,e){const t=Od.get(r);if(Od.delete(r),t==null)throw new Xn("Can't get dry-run request");let n;try{const o=typeof t[0].top=="number"?(await _k(t[0].top,{onNode:e})).hash:t[0].top;n=await e.protectedDryRunTxs({top:o,txEvents:t[0].txEvents,txs:t.map(a=>({tx:a.tx})),accounts:Array.from(new Set(t.map(a=>a.accountAddress))).map(a=>({pubKey:a,amount:EA.amount}))})}catch(o){t.forEach(a=>{let{reject:l}=a;return l(o)});return}const{results:i,txEvents:s}=n;i.forEach((o,a)=>{let{result:l,reason:c,...u}=o;const{resolve:f,reject:d,tx:g,accountAddress:y}=t[a];l==="ok"?f({...u,txEvents:s}):d(Object.assign(new P4(c),{tx:g,accountAddress:y}))})}async function Ak(r,e,t){var n;let{top:i,txEvents:s,combine:o,onNode:a}=t;const l=o===!0?[i,s].join():"immediate",c=(n=Od.get(l))!==null&&n!==void 0?n:[];return Od.set(l,c),new Promise((u,f)=>{var d;if(c.push({tx:r,accountAddress:e,top:i,txEvents:s,resolve:u,reject:f}),o!==!0){bv(l,a);return}(d=c.timeout)!==null&&d!==void 0||(c.timeout=setTimeout(()=>{bv(l,a)}))})}async function kk(r,e){let{onNode:t}=e;return t.getContractCode(r)}async function Ek(r,e){let{onNode:t}=e;return t.getContract(r)}async function e1(r,e){let{onNode:t}=e;return t.getNameEntryByName(r)}async function fp(r,e,t){let{verify:n=!0,resolveByNode:i=!1,onNode:s}=t;if(Vy(r)){if(n||i){const a=(await s.getNameEntryByName(r)).pointers.find(l=>l.key===e);if(a==null)throw new i4(r,e);if(i)return a.id}return Ly(r)}try{return St(r),r}catch{throw new o4(`Invalid name or address: ${r}`)}}const CW=Object.freeze(Object.defineProperty({__proto__:null,InvalidTxError:$k,_getPollInterval:Ou,awaitHeight:Tk,getAccount:up,getBalance:Pk,getContract:Ek,getContractByteCode:kk,getCurrentGeneration:SW,getGeneration:vW,getHeight:gd,getKeyBlock:_k,getMicroBlockHeader:$W,getMicroBlockTransactions:wW,getName:e1,poll:Ck,resolveName:fp,sendTransaction:wn,txDryRun:Ak,waitForTxConfirm:Jy},Symbol.toStringTag,{value:"Module"}));async function Qk(r,e){const t=await Qr({...e,tag:V.NameRevokeTx,nameId:r,accountId:e.onAccount.address});return wn(t,e)}async function XO(r,e,t){let{extendPointers:n,...i}=t;const s={...n===!0&&Object.fromEntries((await e1(r,i)).pointers.map(a=>{let{key:l,id:c}=a;return[l,c]})),...e},o=await Qr({clientTtl:eL,nameTtl:uh,...i,tag:V.NameUpdateTx,nameId:r,accountId:i.onAccount.address,pointers:Object.entries(s).map(a=>{let[l,c]=a;return{key:l,id:c}})});return wn(o,i)}async function Nk(r,e,t){const n=await Qr({...t,tag:V.NameTransferTx,nameId:r,accountId:t.onAccount.address,recipientId:e});return wn(n,t)}async function yc(r,e){const t=await e1(r,e);return Object.freeze({...t,id:t.id,owner:t.owner,async update(n,i){return{...await XO(r,n,{...e,...i}),...await yc(r,{...e,...i})}},async transfer(n,i){return{...await Nk(r,n,{...e,...i}),...await yc(r,{...e,...i})}},async revoke(n){return Qk(r,{...e,...n})},async extendTtl(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uh,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n>uh||n<=0)throw new Dt("nameTtl",`a number between 1 and ${uh} blocks`,n);return{...await XO(r,{},{...e,...i,nameTtl:n,extendPointers:!0}),...await yc(r,{...e,...i})}}})}async function t1(r,e,t){const n=await Qr({...t,tag:V.NameClaimTx,accountId:t.onAccount.address,nameSalt:e,name:r}),i=await wn(n,t);if(!xL(r)){const s=i.blockHeight!=null&&i.blockHeight>0?await yc(r,t):{};return Object.assign(i,s)}return i}async function TW(r,e){const t=yA(),n=OL(r,t),i=await Qr({...e,tag:V.NamePreclaimTx,accountId:e.onAccount.address,commitmentId:n});return Object.freeze({...await wn(i,e),salt:t,commitmentId:n,async claim(s){const{version:o,...a}=e;return t1(r,t,{...a,...s})}})}async function PW(r,e,t){return t1(r,0,{...t,nameFee:e})}const _W=Object.freeze(Object.defineProperty({__proto__:null,aensBid:PW,aensClaim:t1,aensPreclaim:TW,aensQuery:yc,aensRevoke:Qk,aensTransfer:Nk,aensUpdate:XO},Symbol.toStringTag,{value:"Module"}));let AW=class extends Error{constructor(e){super(e),this.name="InternalError"}};var Ik=AW;const kW=Ik,EW=(r,e)=>{if(!r)throw new kW(e)};var r1=EW,Kr=Object.freeze({SMALL_INT:0,LONG_STRING:1,SHORT_STRING:1,SHORT_LIST:3,TYPE_INTEGER:7,TYPE_BOOLEAN:23,TYPE_LIST:39,TYPE_TUPLE:55,TYPE_OBJECT:71,TYPE_BITS:87,TYPE_MAP:103,TYPE_STRING:119,TYPE_VARIANT:135,TYPE_BYTES:151,TYPE_CONTRACT_BYTEARRAY:167,TYPE_VAR:231,TYPE_ANY:247,LONG_TUPLE:11,SHORT_TUPLE:11,LONG_LIST:31,MAP:47,EMPTY_TUPLE:63,POS_BITS:79,EMPTY_STRING:95,POS_BIG_INT:111,FALSE:127,OBJECT:159,VARIANT:175,MAP_ID:191,NEG_BITS:207,EMPTY_MAP:223,NEG_BIG_INT:239,TRUE:255,OTYPE_ADDRESS:0,OTYPE_BYTES:1,OTYPE_CONTRACT:2,OTYPE_ORACLE:3,OTYPE_ORACLE_QUERY:4,OTYPE_CHANNEL:5});let QW=class extends Error{constructor(e){super("Invalid FATE prefix: 0b"+e.toString(2).padStart(8,"0")),this.name="FatePrefixError",this.prefix=e}};var Pl=QW;const NW=()=>({name:"void"}),ys=()=>({name:"int"}),IW=()=>({name:"bool"}),yd=()=>({name:"string"}),RW=()=>({name:"bits"}),MW=r=>({name:"bytes",size:r}),dh=()=>({name:"hash"}),BW=()=>({name:"signature"}),mr=()=>({name:"account_pubkey"}),zW=()=>({name:"contract_pubkey"}),FW=()=>({name:"channel"}),DW=(r,e)=>({name:"oracle_pubkey",questionType:r,answerType:e}),UW=(r,e)=>({name:"oracle_query_id",questionType:r,answerType:e}),qW=()=>({name:"byte_array"}),LW=r=>({name:"list",valuesType:r}),jW=(r=[])=>({name:"tuple",valueTypes:r}),VW=(r,e)=>({name:"record",keys:r,valueTypes:e}),ZW=r=>({name:"set",valuesType:r}),Rk=(r,e)=>({name:"map",keyType:r,valueType:e}),Oo=r=>({name:"variant",variants:r}),WW=r=>Oo([{None:[]},{Some:r}]),Mk=()=>{const r=[{RelativeTTL:[ys()]},{FixedTTL:[ys()]}];return Oo(r)},XW=()=>{const r=[{"Chain.GAMetaTx":[mr(),ys()]}];return Oo(r)},YW=()=>{const r=[{"Chain.PayingForTx":[mr(),ys()]}];return Oo(r)},GW=()=>{const r=[{"Chain.SpendTx":[mr(),ys(),yd()]},{"Chain.OracleRegisterTx":[]},{"Chain.OracleQueryTx":[]},{"Chain.OracleResponseTx":[]},{"Chain.OracleExtendTx":[]},{"Chain.NamePreclaimTx":[]},{"Chain.NameClaimTx":[yd()]},{"Chain.NameUpdateTx":[dh()]},{"Chain.NameRevokeTx":[dh()]},{"Chain.NameTransferTx":[mr(),dh()]},{"Chain.ChannelCreateTx":[mr()]},{"Chain.ChannelDepositTx":[mr(),ys()]},{"Chain.ChannelWithdrawTx":[mr(),ys()]},{"Chain.ChannelForceProgressTx":[mr()]},{"Chain.ChannelCloseMutualTx":[mr()]},{"Chain.ChannelCloseSoloTx":[mr()]},{"Chain.ChannelSlashTx":[mr()]},{"Chain.ChannelSettleTx":[mr()]},{"Chain.ChannelSnapshotSoloTx":[mr()]},{"Chain.ContractCreateTx":[mr()]},{"Chain.ContractCallTx":[mr(),ys()]},{"Chain.GAAttachTx":[]}];return Oo(r)},Bk=()=>{const r=[{"AENS.AccountPt":[mr()]},{"AENS.OraclePt":[mr()]},{"AENS.ContractPt":[mr()]},{"AENS.ChannelPt":[mr()]}];return Oo(r)},HW=()=>{const r=[{"AENS.Name":[mr(),Mk(),Rk(yd(),Bk())]}];return Oo(r)},KW=(r,e)=>({name:"event",variantType:r,topics:e}),JW=()=>({name:"bls12_381.fr"}),eX=()=>({name:"bls12_381.fp"}),tX=(r,e)=>({name:"calldata",functionName:r,argumentTypes:e}),rX=r=>({name:"tvar",id:r}),nX=()=>({name:"any"});var Yt={FateTypeVoid:NW,FateTypeInt:ys,FateTypeBool:IW,FateTypeString:yd,FateTypeBits:RW,FateTypeBytes:MW,FateTypeHash:dh,FateTypeSignature:BW,FateTypeAccountAddress:mr,FateTypeContractAddress:zW,FateTypeChannelAddress:FW,FateTypeOracleAddress:DW,FateTypeOracleQueryAddress:UW,FateTypeByteArray:qW,FateTypeList:LW,FateTypeTuple:jW,FateTypeRecord:VW,FateTypeSet:ZW,FateTypeMap:Rk,FateTypeVariant:Oo,FateTypeOption:WW,FateTypeChainTTL:Mk,FateTypeChainGAMetaTx:XW,FateTypeChainPayingForTx:YW,FateTypeChainBaseTx:GW,FateTypeAENSPointee:Bk,FateTypeAENSName:HW,FateTypeEvent:KW,FateTypeBls12381Fr:JW,FateTypeBls12381Fp:eX,FateTypeCalldata:tX,FateTypeVar:rX,FateTypeAny:nX};const iX=r1,Zt=Kr,sX=Pl,{FateTypeInt:oX,FateTypeBool:aX,FateTypeString:lX,FateTypeBits:cX,FateTypeBytes:uX,FateTypeAccountAddress:fX,FateTypeContractAddress:hX,FateTypeOracleAddress:dX,FateTypeOracleQueryAddress:pX,FateTypeChannelAddress:mX,FateTypeList:gX,FateTypeMap:OX,FateTypeTuple:yX,FateTypeVariant:xX}=Yt,Sv={[Zt.OTYPE_ADDRESS]:fX(),[Zt.OTYPE_BYTES]:uX(),[Zt.OTYPE_CONTRACT]:hX(),[Zt.OTYPE_ORACLE]:dX(),[Zt.OTYPE_ORACLE_QUERY]:pX(),[Zt.OTYPE_CHANNEL]:mX()};let bX=class{createType(e){const t=e[0];if(t===Zt.TRUE||t===Zt.FALSE)return aX();if((t&1)===Zt.SMALL_INT||t===Zt.POS_BIG_INT||t===Zt.NEG_BIG_INT)return oX();if((t&3)===Zt.SHORT_STRING||t===Zt.LONG_STRING||t===Zt.EMPTY_STRING)return lX();if((t&15)===Zt.SHORT_LIST||t===Zt.LONG_LIST)return gX();if((t&15)===Zt.SHORT_TUPLE||t===Zt.LONG_TUPLE||t===Zt.EMPTY_TUPLE)return yX();if(t===Zt.MAP||t===Zt.EMPTY_MAP)return OX();if(t===Zt.POS_BITS||t===Zt.NEG_BITS)return cX();if(t===Zt.VARIANT)return xX();if(t===Zt.OBJECT){const n=e[1];return iX(Sv.hasOwnProperty(n),`Unsupported object type "${n}"`),Sv[n]}throw new sX(t)}};var SX=bX;const vX=Ik;let wX=class{constructor(e){this.name=e}valueOf(){throw new vX("Not implemented.")}accept(e){return e.visitData(this)}};var $n=wX;let $X=class extends Error{constructor(e){super(e),this.name="SerializerError"}};var zk=$X;const vv=zk;let CX=class{constructor(e){this.globalSerializer=e}serialize(e){throw new vv("Not implemented.")}deserialize(e,t){const[n,i]=this.deserializeStream(e,t);return n}deserializeStream(e,t){throw new vv("Not implemented.")}};var fr=CX;const Fk=r=>{const e=BigInt(r);return e<256n?new Uint8Array([Number(e)]):new Uint8Array([...Fk(e>>8n),Number(e&0xffn)])},n1=r=>[...r].map(e=>e.toString(16).padStart(2,"0")),TX=r=>{const e=n1(r);return BigInt("0x"+e.join(""))},PX=r=>{const e=n1(r).reverse();return BigInt("0x"+e.join(""))},_X=r=>n1(r).join("");var ua={Int2ByteArray:Fk,ByteArray2Int:TX,ByteArray2IntBE:PX,ByteArray2Hex:_X};let AX=class extends Error{constructor(e){super(e),this.name="FormatError"}};var i1=AX;const kX=i1,EX=r=>{const e=r.match(/^(0x)?([a-f0-9]*)$/i);if(!e)throw new kX(`Invalid hex string: ${r}`);return new Uint8Array(e[2].split(/(.{1,2})/).filter(t=>t).map(t=>parseInt(t,16)))};var QX=EX;let NX=class extends Error{constructor(e,t){super(t),this.name="FateTypeError",this.type=e}};var ks=NX;const IX=$n,{Int2ByteArray:RX}=ua,MX=QX,Dk=ks,BX=(r,e=0)=>{if(Array.isArray(r)||ArrayBuffer.isView(r))return new Uint8Array(r);if(typeof r=="string")return MX(r);if(typeof r!="bigint"&&!Number.isInteger(r))throw new Dk("byte_array",`Should be one of: Array, ArrayBuffer, hex string, Number, BigInt; got ${r} instead`);const t=RX(r);if(t.length>=e)return t;const n=new Uint8Array(e);return n.set(t,e-t.length),n};let zX=class extends IX{constructor(e,t,n="bytes"){if(super(n),this._value=BX(e,t),t&&this._value.byteLength!==t)throw new Dk(n,`Invalid length: got ${this._value.byteLength} bytes instead of ${t} bytes`);this._size=t}get value(){return this._value}get size(){return this._size}valueOf(){return this._value}};var yu=zX;const FX=yu;let DX=class extends FX{constructor(e,t,n){super(e,32,t),this._prefix=n}get prefix(){return this._prefix}accept(e){return e.visitAddress(this)}};var xu=DX;const UX=xu;let qX=class extends UX{constructor(e){super(e,"account_pubkey","ak")}};var Uk=qX;const wv=Hr,$v=Kr,LX=fr,jX=Uk;let VX=class extends LX{serialize(e){return[$v.OBJECT,$v.OTYPE_ADDRESS,...wv.encode(e.value)]}deserializeStream(e){const t=new Uint8Array(e),n=wv.decode(t.slice(2),!0);return[new jX(n.data),new Uint8Array(n.remainder)]}};var ZX=VX;const Cv=Hr,{Int2ByteArray:WX,ByteArray2Int:XX}=ua;var bu={encode(r){return new Uint8Array(Cv.encode(WX(r)))},decode(r){const e=Cv.decode(r,!0);return[XX(e.data),e.remainder]}};const YX=$n;let GX=class extends YX{constructor(e){super("bits"),this._value=BigInt(e)}get value(){return this._value}valueOf(){return this._value}};var qk=GX;const HX=r=>r>0?r:r*-1n;var Lk=HX;const Am=Kr,Tv=bu,KX=qk,JX=fr,eY=Lk;let tY=class extends JX{serialize(e){return[e.value>=0?Am.POS_BITS:Am.NEG_BITS,...Tv.encode(eY(e.value))]}deserializeStream(e){const t=new Uint8Array(e),n=t[0]===Am.POS_BITS?1n:-1n,[i,s]=Tv.decode(t.slice(1));return[new KX(i*n),new Uint8Array(s)]}};var rY=tY;const nY=$n,{FateTypeBool:iY}=Yt;let sY=class extends nY{constructor(e){super("bool"),this._value=!!e}get value(){return this._value}get type(){return iY()}valueOf(){return this._value}};var jk=sY;const wf=Kr,Pv=jk,oY=fr,aY=Pl;let lY=class extends oY{serialize(e){return e.valueOf()===!0?[wf.TRUE]:[wf.FALSE]}deserializeStream(e){const t=new Uint8Array(e),n=t[0],i=t.slice(1);if(n===wf.TRUE)return[new Pv(!0),i];if(n===wf.FALSE)return[new Pv(!1),i];throw new aY(n)}};var cY=lY;const uY=$n,{FateTypeByteArray:fY}=Yt;let hY=class extends uY{constructor(e=[]){super("byte_array"),this._value=new Uint8Array(e)}get length(){return this._value.length}get type(){return fY()}valueOf(){return this._value}};var Vk=hY;const dY=$n,{FateTypeInt:pY}=Yt;let mY=class extends dY{constructor(e){super("int"),this._value=BigInt(e)}get value(){return this._value}get type(){return pY()}valueOf(){return this._value}};var Zk=mY;const Ll=Kr,km=bu,$f=Zk,gY=fr,OY=Pl,yY=Lk,xY=1;let bY=class extends gY{serialize(e){const t=e instanceof $f?e.value:BigInt(e),n=yY(t);if(n<64){const i=Number(n);return t>=0?[i<<1]:[(128|i<<1)&254]}return t<0?[Ll.NEG_BIG_INT,...km.encode(n-64n)]:[Ll.POS_BIG_INT,...km.encode(n-64n)]}deserializeStream(e){const t=new Uint8Array(e),n=t[0];if(!(n&xY)){if(!(n&128))return[new $f(n>>1),t.slice(1)];const i=(n&126)>>1;return[new $f(-i),t.slice(1)]}if(n===Ll.POS_BIG_INT||n===Ll.NEG_BIG_INT){const i=n===Ll.POS_BIG_INT?1n:-1n,[s,o]=km.decode(t.slice(1));return[new $f((s+64n)*i),new Uint8Array(o)]}throw new OY(n)}};var s1=bY;const jl=Kr,SY=fr,Em=Vk,vY=s1,_v=new vY;let wY=class extends SY{serialize(e){return e.length===0?[jl.EMPTY_STRING]:e.length<64?[e.length<<2|jl.SHORT_STRING,...e.valueOf()]:[jl.LONG_STRING,..._v.serialize(e.length-64),...e.valueOf()]}deserializeStream(e){const t=new Uint8Array(e),n=t[0];if(n===jl.EMPTY_STRING)return[new Em,t.slice(1)];if(n===jl.LONG_STRING){const[s,o]=_v.deserializeStream(t.slice(1)),a=Number(s.valueOf())+64;return[new Em(o.slice(0,a)),o.slice(a)]}const i=(n>>2)+1;return[new Em(t.slice(1,i)),t.slice(i)]}};var o1=wY;const Av=Kr,$Y=o1,CY=yu,TY=fr,kv=new $Y;let PY=class extends TY{serialize(e){return[Av.OBJECT,Av.OTYPE_BYTES,...kv.serialize(e.value)]}deserializeStream(e){const t=new Uint8Array(e),[n,i]=kv.deserializeStream(t.slice(2));return[new CY(n.valueOf()),i]}};var Wk=PY;const _Y=xu;let AY=class extends _Y{constructor(e){super(e,"channel","ch")}};var Xk=AY;const Ev=Hr,Qv=Kr,kY=fr,EY=Xk;let QY=class extends kY{serialize(e){return[Qv.OBJECT,Qv.OTYPE_CHANNEL,...Ev.encode(e.value)]}deserializeStream(e){const t=new Uint8Array(e),n=Ev.decode(t.slice(2),!0);return[new EY(n.data),new Uint8Array(n.remainder)]}};var NY=QY;const IY=xu;let RY=class extends IY{constructor(e){super(e,"contract_pubkey","ct")}};var Yk=RY;const Nv=Hr,Iv=Kr,MY=fr,BY=Yk;let zY=class extends MY{serialize(e){return[Iv.OBJECT,Iv.OTYPE_CONTRACT,...Nv.encode(e.value)]}deserializeStream(e){const t=new Uint8Array(e),n=Nv.decode(t.slice(2),!0);return[new BY(n.data),new Uint8Array(n.remainder)]}};var FY=zY;const DY=$n,{FateTypeVoid:UY}=Yt;let qY=class extends DY{constructor(){super("void"),this._value=void 0}get value(){return this._value}get type(){return UY()}valueOf(){return this._value}};var LY=qY;const Rv=LY,jY=fr;let VY=class extends jY{serialize(){return""}deserialize(){return new Rv}deserializeStream(e){return[new Rv,e]}};var ZY=VY;const WY=$n,{FateTypeList:XY}=Yt;let YY=class extends WY{constructor(e,t=[]){super("list"),this._itemsType=e,this.items=Array.from(t)}get itemsType(){return this._itemsType}get type(){return XY(this.itemsType)}get length(){return this.items.length}valueOf(){return this.items.map(e=>e.valueOf())}accept(e){return e.visitList(this)}};var a1=YY;const Mv=bu,Cf=Kr,Bv=a1,GY=fr;let HY=class extends GY{serialize(e){const t=e.items.map(i=>this.globalSerializer.serialize(i)).flat(1/0),n=e.items.length;return n<16?[n<<4|Cf.SHORT_LIST,...t]:[Cf.LONG_LIST,...Mv.encode(n-16),...t]}deserializeStream(e,t){const n=new Uint8Array(e),i=n[0];let s=0n,o=n.slice(1);i===Cf.LONG_LIST&&([s,o]=Mv.decode(n.slice(1)),s+=16n),(i&15)===Cf.SHORT_LIST&&(s=BigInt((i&240)>>4));let a;typeof t<"u"&&(a=t.valuesType);let l;const c=[];for(let u=0n;u<s;u++)[l,o]=this.globalSerializer.deserializeStream(o,a),c.push(l);return s===0n?[new Bv,o]:(typeof t>"u"&&(a=c[0].type),[new Bv(a,c),o])}};var KY=HY;const JY=$n,{FateTypeMap:e7}=Yt,t7=r=>{const[e,t]=r;return{key:e,value:t}};let r7=class extends JY{constructor(e,t,n=[]){super("map"),this._keyType=e,this._valueType=t,this._type=e7(e,t),this._value=new Map(n)}get items(){return[...this._value.entries()].map(t7)}get keyType(){return this._keyType}get valueType(){return this._valueType}get type(){return this._type}get length(){return this._value.size}get iterator(){return this._value[Symbol.iterator]()}get keys(){return this._value.keys()}valueOf(){const e=new Map;for(const[t,n]of this.iterator)e.set(t.valueOf(),n.valueOf());return e}accept(e){return e.visitMap(this)}};var l1=r7;const n7=$n,{FateTypeTuple:i7}=Yt,s7=(r,e)=>{const t=(n,i,s)=>(n[i]=e[s],n);return r.reduce(t,{})};let o7=class extends n7{constructor(e=[],t=[]){super("tuple"),this._valueTypes=e.hasOwnProperty("valueTypes")?e.valueTypes:e,this._type=Array.isArray(e)?i7(e):e,this._items=Array.from(t)}get valueTypes(){return this._valueTypes}get type(){return this._type}get size(){return this._items.length}get items(){return this._items}valueOf(){return this.prepareItems(e=>e.valueOf())}prepareItems(e){const t=this._items.map(e);return this._type.name==="record"?s7(this._type.keys,t):t}accept(e){return e.visitTuple(this)}};var fa=o7;const a7=$n,{FateTypeSet:l7}=Yt;let c7=class extends a7{constructor(e,t=[]){super("set"),this._itemsType=e,this._items=new Set(t)}get items(){return Array.from(this._items.values())}get itemsType(){return this._itemsType}get type(){return l7(this.itemsType)}get length(){return this._items.size}valueOf(){return new Set(this.items.map(e=>e.valueOf()))}accept(e){return e.visitSet(this)}};var Gk=c7;const u7=fr,{FateTypeTuple:zv,FateTypeMap:f7}=Yt,h7=l1,d7=fa,p7=Gk;let m7=class extends u7{serialize(e){return this.globalSerializer.serialize(new h7(e.itemsType,zv(),e.items.map(t=>[t,new d7])))}deserializeStream(e,t){const n=f7(t.valuesType,zv()),[i,s]=this.globalSerializer.deserializeStream(e,n);return[new p7(t.valuesType,i.keys),s]}};var g7=m7;const Fv=r1,xd=a1,Dv=fa,{FateTypeTuple:O7,FateTypeInt:Uv}=Yt,Hk=(r,e)=>{if(r.length===0)return-1;if(e.length===0)return 1;const t=fo(r.itemsType);for(let n=0;n<r.length;n++){if(typeof e.items[n]>"u")return 1;const i=t(r.items[n],e.items[n]);if(i!==0)return i}return r.length===e.length?0:-1},y7=(r,e)=>{if(r.size===0)return-1;const t=r.size-e.size;if(t!==0)return t;for(let n=0;n<r.size;n++){const i=r.valueTypes[n],s=fo(i)(r.items[n],e.items[n]);if(s!==0)return s}return 0},x7=(r,e)=>{const t=r.arities.length-e.arities.length;if(t!==0)return t;const n=new xd(r.aritiesType,r.arities),i=new xd(e.aritiesType,e.arities),o=fo(n)(n,i);if(o!==0)return o;const a=r.tag-e.tag;return a!==0?a:fo(O7())(new Dv(r.valueTypes,r.value),new Dv(e.valueTypes,e.value))},qv=r=>{const e=fo(r);return(t,n)=>e(t.key,n.key)},b7=(r,e)=>{const t=[...r.items],n=[...e.items];t.sort(qv(r.keyType)),n.sort(qv(e.keyType));const i=fo(r.keyType),s=fo(r.valueType);for(let o=0;o<t.length;o++){if(typeof n[o]>"u")return 1;const a=t[o],l=n[o],c=i(a.key,l.key);if(c!==0)return c;const u=s(a.value,l.value);if(u!==0)return u}return t.length===n.length?0:-1},_a=(r,e)=>{const t=new xd(Uv(),r.valueOf()),n=new xd(Uv(),e.valueOf());return Hk(t,n)},S7=(r,e)=>{const t=r.toString(),n=e.toString();return t.length===n.length?t.localeCompare(n):t.length-n.length},YO=(r,e)=>Number(BigInt(r)-BigInt(e)),v7=(r,e)=>r-e,w7=(r,e)=>r<0||e<0?-YO(r,e):YO(r,e),Lv={int:YO,bool:v7,string:S7,bits:w7,list:Hk,tuple:y7,variant:x7,map:b7,bytes:_a,account_pubkey:_a,channel:_a,contract_pubkey:_a,oracle_query_id:_a,oracle_pubkey:_a},fo=r=>(Fv(r.hasOwnProperty("name"),`Cannot determine type name of ${JSON.stringify(r)}`),Fv(Lv.hasOwnProperty(r.name),`Unsupported comparator for ${r.name}`),Lv[r.name]);var $7=fo;const jv=Kr,Vv=bu,C7=fr,T7=$7,Zv=l1,P7=Pl;let _7=class extends C7{serialize(e){const t=e.length,n=T7(e.keyType),i=[...e.items];i.sort((o,a)=>n(o.key,a.key));const s=i.map(o=>[this.globalSerializer.serialize(o.key),this.globalSerializer.serialize(o.value)]);return[jv.MAP,...Vv.encode(t),...s.flat(1/0)]}deserializeStream(e,t){const n=new Uint8Array(e),i=n[0];if(i!==jv.MAP)throw new P7(i);const[s,o]=Vv.decode(n.slice(1));let a=o;if(s===0n)return[new Zv,a];let l,c;typeof t<"u"&&({keyType:l,valueType:c}=t);const u=[];for(let d=0n;d<s;d++){const[g,y]=this.globalSerializer.deserializeStream(a,l),[T,k]=this.globalSerializer.deserializeStream(y,c);u.push([g,T]),a=k}const f=u[0];return typeof t>"u"&&(l=f[0].type,c=f[1].type),[new Zv(l,c,u),a]}};var A7=_7;const k7=xu;let E7=class extends k7{constructor(e){super(e,"oracle_query_id","oq")}};var Kk=E7;const Wv=Hr,Xv=Kr,Q7=fr,N7=Kk;let I7=class extends Q7{serialize(e){return[Xv.OBJECT,Xv.OTYPE_ORACLE_QUERY,...Wv.encode(e.value)]}deserializeStream(e){const t=new Uint8Array(e),n=Wv.decode(t.slice(2),!0);return[new N7(n.data),new Uint8Array(n.remainder)]}};var R7=I7;const M7=xu;let B7=class extends M7{constructor(e){super(e,"oracle_pubkey","ok")}};var Jk=B7;const Yv=Hr,Gv=Kr,z7=fr,F7=Jk;let D7=class extends z7{serialize(e){return[Gv.OBJECT,Gv.OTYPE_ORACLE,...Yv.encode(e.value)]}deserializeStream(e){const t=new Uint8Array(e),n=Yv.decode(t.slice(2),!0);return[new F7(n.data),new Uint8Array(n.remainder)]}};var U7=D7;const q7=$n,{FateTypeString:L7}=Yt,j7=r=>r instanceof Uint8Array?new TextDecoder().decode(r):r.toString();let V7=class extends q7{constructor(e){super("string"),this._value=j7(e)}get type(){return L7()}toString(){return this._value}valueOf(){return this._value}};var eE=V7;const Qm=Kr,Z7=fr,W7=o1,X7=eE,Y7=Pl,Hv=new W7;let G7=class extends Z7{serialize(e){const n=new TextEncoder().encode(e);return Hv.serialize(n)}deserializeStream(e){const t=new Uint8Array(e),n=t[0];if((n&3)!==Qm.SHORT_STRING&&![Qm.EMPTY_STRING,Qm.LONG_STRING].includes(n))throw new Y7(n);const i=new TextDecoder,[s,o]=Hv.deserializeStream(t);return[new X7(i.decode(s.valueOf())),o]}};var H7=G7;const Aa=Kr,Kv=fa,K7=fr,Jv=bu;let J7=class extends K7{serialize(e){const t=e.size;if(t===0)return[Aa.EMPTY_TUPLE];const n=e.items.map(i=>this.globalSerializer.serialize(i)).flat(1/0);return t<16?[t<<4|Aa.SHORT_TUPLE,...n]:[Aa.LONG_TUPLE,...Jv.encode(t-16),...n]}deserializeStream(e,t){const n=new Uint8Array(e),i=n[0];let s=0n,o=n.slice(1);if(i===Aa.EMPTY_TUPLE)return[new Kv,o];(i&15)===Aa.SHORT_TUPLE&&(s=(i&240)>>4),i===Aa.LONG_TUPLE&&([s,o]=Jv.decode(n.slice(1)),s+=16n);let a=[];typeof t<"u"&&(a=t.valueTypes);const l=[];let c=null;for(let f=0n;f<s;f++)[c,o]=this.globalSerializer.deserializeStream(o,a[f]),l.push(c);let u=t;return typeof t>"u"&&(u=l.map(f=>f.type)),[new Kv(u,l),o]}};var eG=J7;const tG=$n,{FateTypeVariant:rG,FateTypeTuple:nG,FateTypeInt:iG}=Yt;let sG=class extends tG{constructor(e,t,n=[],i=[],s=[]){super("variant"),this.arities=Array.from(e),this._tag=t,this._value=n,this._valueTypes=i,this._type=rG(s)}get valueTypes(){return this._valueTypes}get type(){return this._type}get tag(){return this._tag}get value(){return this._value}get aritiesType(){return iG()}get variantType(){return nG(this._valueTypes)}get variants(){return this._type.variants}get variantName(){if(this.variants.length===0)return this.tag;const e=this.variants[this.tag];return Object.keys(e)[0]}valueOf(){if(this.variants.length===0)return this;const e=this._value.map(t=>t.valueOf());return{[this.variantName]:e}}accept(e){return e.visitVariant(this)}};var tE=sG;const ew=Hr,oG=Kr,aG=fa,lG=tE,{FateTypeTuple:cG}=Yt,uG=fr;let fG=class extends uG{serialize(e){const t=new aG(e.valueTypes,e.value);return[oG.VARIANT,...ew.encode(new Uint8Array(e.arities)),e.tag,...this.globalSerializer.serialize(t)]}deserializeStream(e,t){const n=new Uint8Array(e),i=ew.decode(n.slice(1),!0),s=[...i.data],o=i.remainder[0],a=i.remainder.slice(1);let l=[],c;typeof t<"u"&&typeof t.variants<"u"&&(l=t.variants,c=cG(Object.values(l[o])[0]));const[u,f]=this.globalSerializer.deserializeStream(a,c);return[new lG(s,o,u.items,u.valueTypes,l),f]}};var hG=fG;const dG=$n,tw=ks;let pG=class extends dG{constructor(e,t,n){if(super(n),!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new tw(n,`Should be one of: Array or ArrayBuffer; got ${e} instead`);const i=new Uint8Array(e);if(i.byteLength!==t)throw new tw(n,`Invalid length: got ${i.byteLength} bytes instead of ${t} bytes`);this._value=i,this._size=t}get value(){return this._value}get size(){return this._size}valueOf(){return this._value}};var rE=pG;const mG=rE,{FateTypeBls12381Fr:gG}=Yt,OG=32,yG="bls12_381.fr";let xG=class extends mG{constructor(e){super(e,OG,yG)}get type(){return gG()}accept(e){return e.visitBls12381Fr(this)}};var nE=xG;const bG=rE,{FateTypeBls12381Fp:SG}=Yt,vG=48,wG="bls12_381.fp";let $G=class extends bG{constructor(e){super(e,vG,wG)}get type(){return SG()}accept(e){return e.visitBls12381Fp(this)}};var iE=$G;const CG=fr,TG=Wk,PG=nE,_G=iE,rw=new TG,AG=(r,e)=>{switch(r.name){case"bls12_381.fr":return new PG(e);case"bls12_381.fp":return new _G(e);default:throw new Error(`Unsupported type "${r.name}"`)}};let kG=class extends CG{serialize(e){return rw.serialize(e)}deserializeStream(e,t){const[n,i]=rw.deserializeStream(e);return[AG(t,n.valueOf()),i]}};var EG=kG;const QG=$n;let NG=class extends QG{constructor(e,t,n){super("calldata"),this._functionId=new Uint8Array(e),this._argTypes=t,this._args=n}get functionId(){return this._functionId}get argTypes(){return this._argTypes}get args(){return this._args}valueOf(){return{functionId:this._functionId,args:this._args}}accept(e){return e.visitCalldata(this)}};var sE=NG;const nw=fa,IG=sE,RG=Vk,MG=fr,{FateTypeTuple:iw,FateTypeByteArray:BG}=Yt;let zG=class extends MG{serialize(e){const t=new RG(e.functionId),n=new nw(e.argTypes,e.args),i=new nw([t.type,n.type],[t,n]);return this.globalSerializer.serialize(i)}deserialize(e,t){const n=iw([BG(),iw(t.argumentTypes)]),[i]=this.globalSerializer.deserializeStream(e,n),[s,o]=i.items;return new IG(s.valueOf(),o.valueTypes,o.items)}};var FG=zG;const DG=SX,UG=$n,qG=fr,LG=ZX,jG=rY,VG=cY,ZG=o1,Nm=Wk,WG=NY,XG=FY,YG=s1,GG=ZY,HG=KY,KG=g7,JG=A7,e9=R7,t9=U7,r9=H7,sw=eG,n9=hG,ow=EG,i9=FG,To=zk;let s9=class extends qG{constructor(){super(),this.typeFactory=new DG,this._serializers={void:new GG,bool:new VG,int:new YG,tuple:new sw(this),record:new sw(this),list:new HG(this),set:new KG(this),map:new JG(this),byte_array:new ZG,string:new r9,hash:new Nm,signature:new Nm,bits:new jG,variant:new n9(this),bytes:new Nm,account_pubkey:new LG,contract_pubkey:new XG,oracle_pubkey:new t9,oracle_query_id:new e9,channel:new WG,"bls12_381.fr":new ow,"bls12_381.fp":new ow,calldata:new i9(this)}}_getSerializer(e){if(!e.hasOwnProperty("name"))throw new To("Unsupported type: "+JSON.stringify(e));const t=e.name;if(!this._serializers.hasOwnProperty(t))throw new To("Unsupported type: "+JSON.stringify(t));return this._serializers[t]}serialize(e){if(typeof e!="object")throw new To("Only object serialization is supported. Got: "+JSON.stringify(e));if(!(e instanceof UG))throw new To("Only instances of FateData is supported.");return this._getSerializer(e).serialize(e)}deserializeWithType(e,t){if(!(e instanceof Uint8Array))throw new To("Only instances of Uint8Array is supported.");return this._getSerializer(t).deserialize(e,t)}deserialize(e){if(!(e instanceof Uint8Array))throw new To("Only instances of Uint8Array is supported.");const t=this.typeFactory.createType(e);return this.deserializeWithType(e,t)}deserializeStream(e,t){if(!(e instanceof Uint8Array))throw new To("Only instances of Uint8Array is supported.");let n=t;return typeof t>"u"&&(n=this.typeFactory.createType(e)),this._getSerializer(n).deserializeStream(e,t)}};var oE=s9;const o9=fA,{Buffer:bd}=ra,a9=i1,aw=r=>new o9().update(r).digest(),aE=r=>aw(aw(r)).slice(0,4),lE=r=>{const e=bd.from(r),t=aE(r);return bd.concat([e,t],e.length+4)},cE=r=>{const e=bd.from(r),t=e.slice(0,-4),n=e.slice(-4),i=aE(t);if(!n.equals(i))throw new a9("Invalid checksum");return new Uint8Array(t)},l9=r=>lE(r).toString("base64"),c9=r=>{const e=bd.from(r,"base64");return cE(e)};var uE={addChecksum:lE,getPayload:cE,encode:l9,decode:c9};const fE=lA,{addChecksum:u9,getPayload:f9}=uE,h9=r=>fE.encode(u9(r)),d9=r=>f9(fE.decode(r));var p9={encode:h9,decode:d9};const m9=uE,Po=p9,Im=i1,Tf=ks,Vl={key_block_hash:{tag:"kh",size:32,encoder:Po},contract_bytearray:{tag:"cb",size:0,encoder:m9},contract_pubkey:{tag:"ct",size:32,encoder:Po},account_pubkey:{tag:"ak",size:32,encoder:Po},channel:{tag:"ch",size:32,encoder:Po},oracle_pubkey:{tag:"ok",size:32,encoder:Po},oracle_query_id:{tag:"oq",size:32,encoder:Po},peer_pubkey:{tag:"pp",size:32,encoder:Po}},lw={kh:"key_block_hash",cb:"contract_bytearray",ct:"contract_pubkey",ak:"account_pubkey",ch:"channel",ok:"oracle_pubkey",oq:"oracle_query_id",pp:"peer_pubkey"};let g9=class{encode(e,t){if(!Vl.hasOwnProperty(e))throw new Tf(e,`Unsupported API type ${e}`);const n=Vl[e];if(n.size>0&&t.length!==n.size)throw new Tf(e,`Invalid payload. Expected size ${n.size}, but got ${t.length}`);const i=n.encoder.encode(t);return`${n.tag}_${i}`}decode(e){const t=e.substring(0,2);if(!lw.hasOwnProperty(t))throw new Im(`Invalid API data format. Unsupported tag: ${t}`);if(e[2]!=="_")throw new Im(`Invalid API data format. Expected _ separator on position 2, got ${e[2]}`);const n=Vl[lw[t]],i=e.substring(3),s=n.encoder.decode(i);if(n.size>0&&s.length!==n.size)throw new Im(`Invalid API data format. Expected size ${n.size}, but got ${s.length}`);return s}decodeWithType(e,t){const n=e.substring(0,2);if(!Vl.hasOwnProperty(t))throw new Tf(t,"Unsupported API type");const i=Vl[t].tag;if(n!==i){const s=this.capitalizeType(t);throw new Tf(t,`${s} should start with ${i}_, got ${e} instead`)}return this.decode(e)}capitalizeType(e){const t=e.replace("_"," ");return t.charAt(0).toUpperCase()+t.slice(1)}};var Es=g9;const{Int2ByteArray:O9,ByteArray2IntBE:y9}=ua,hE={r:{R:1n<<256n,N:0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n},p:{R:1n<<384n,N:0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn}},dE=(r,e)=>{if(e===0n)return[1n,0n,r];const[t,n,i]=dE(e,r%e);return[n,t-n*(r/e),i]},x9=(r,e)=>{const[t,n,i]=dE(r,e);return(t+e)%e},b9=(r,e)=>{const t=hE[e],i=BigInt(r)*t.R%t.N;return O9(i)},S9=(r,e)=>{const t=hE[e],n=y9(r),i=x9(t.R,t.N);return n*i%t.N};var pE={Int2MontBytes:b9,MontBytes2Int:S9};const v9=Es,{MontBytes2Int:cw}=pE,{ByteArray2Hex:w9}=ua;let $9=class{constructor(){this._apiEncoder=new v9}toCanonical(e){return e.accept(this)}visitData(e){return e.valueOf()}visitAddress(e){return this._apiEncoder.encode(e.name,e.value)}visitList(e){return e.items.map(t=>t.accept(this))}visitSet(e){return new Set(e.items.map(t=>t.accept(this)))}visitMap(e){const t=new Map;for(const[n,i]of e.iterator)t.set(n.accept(this),i.accept(this));return t}visitTuple(e){return e.prepareItems(t=>t.accept(this))}visitVariant(e){const t=e.value.map(n=>n.accept(this));if(e.variantName!=="None")return e.variantName==="Some"?t[0]:{[e.variantName]:t}}visitBls12381Fr(e){return cw(e.valueOf(),"r")}visitBls12381Fp(e){return cw(e.valueOf(),"p")}visitCalldata(e){const{functionId:t,args:n}=e.valueOf();return{functionId:w9(t),args:n.map(i=>i.accept(this))}}};var hp=$9,C9=(r,...e)=>r.map((t,n)=>e.reduce((i,s)=>[...i,s[n]],[t]));const T9=yu;let P9=class extends T9{constructor(e){super(e,32,"hash")}};var _9=P9;const A9=yu;let k9=class extends A9{constructor(e){super(e,64,"signature")}};var E9=k9;let Q9=class{constructor(e){this._valueFactory=e}get valueFactory(){return this._valueFactory}supports({_name:e,_valueTypes:t}){return!1}create(e,t){throw new Error("Not implemented.")}};var ss=Q9;const N9=Zk,I9=jk,R9=eE,M9=_9,B9=E9,z9=yu,F9=qk,D9=Uk,U9=Yk,q9=Xk,L9=Jk,j9=Kk,V9=ss,Z9=["int","bool","string","bits","hash","bytes","signature","account_pubkey","contract_pubkey","channel","oracle_pubkey","oracle_query_id"];let W9=class extends V9{supports({name:e,_valueTypes:t}){return Z9.includes(e)}create(e,t){switch(e.name){case"int":return new N9(t);case"bool":return new I9(t);case"string":return new R9(t);case"bits":return new F9(t);case"hash":return new M9(t);case"bytes":return new z9(t,e.valueTypes);case"signature":return new B9(t);case"account_pubkey":return new D9(t);case"contract_pubkey":return new U9(t);case"channel":return new q9(t);case"oracle_pubkey":return new L9(t);case"oracle_query_id":return new j9(t);default:throw new Error(`Unsupported type "${e.name}"`)}}};var X9=W9;const Y9=a1,G9=ks,H9=ss;let K9=class extends H9{supports({name:e,_valueTypes:t}){return e==="list"}create(e,t){if(!Array.isArray(t))throw new G9(e.name,`Fate list must be an Array, got ${t} instead`);const n=t.map(i=>this.valueFactory.create(e.valuesType,i));return new Y9(e.valuesType,n)}};var J9=K9;const eH=Gk,tH=ss;let rH=class extends tH{supports({name:e,_valueTypes:t}){return e==="set"}create(e,t){const n=[];for(const i of t)n.push(this.valueFactory.create(e.valuesType,i));return new eH(e.valuesType,n)}};var nH=rH;const iH=l1,sH=ss;let oH=class extends sH{supports({name:e,_valueTypes:t}){return e==="map"}create(e,t){const n=[];for(const i of t)n.push([this.valueFactory.create(e.keyType,i[0]),this.valueFactory.create(e.valueType,i[1])]);return new iH(e.keyType,e.valueType,n)}};var aH=oH;const lH=fa,cH=ks,uH=ss;let fH=class extends uH{supports({name:e,_valueTypes:t}){return e==="tuple"}create(e,t){if(!Array.isArray(t))throw new cH(e.name,`Fate tuple must be an Array, got ${t} instead`);const n=e.valueTypes.map((i,s)=>this.valueFactory.create(i,t[s]));return n.length===1?n[0]:new lH(e.valueTypes,n)}};var hH=fH;const dH=ss,pH=fa,{FateTypeRecord:mH}=Yt,uw=ks;let gH=class extends dH{supports({name:e,_valueTypes:t}){return e==="record"}create(e,t){if(typeof t!="object")throw new uw(e.name,`Fate record must be an Object, got ${t} instead`);const n=Object.keys(t).length;if(n!==e.keys.length)throw new uw(e.name,`Number of expected keys (${e.keys.length}) and actual keys (${n}) should match`);const i=e.valueTypes.map((s,o)=>{const a=e.keys[o];return this.valueFactory.create(s,t[a])});return i.length===1?i[0]:new pH(mH(e.keys,e.valueTypes),i)}};var OH=gH;const yH=tE,Rm=ks,xH=ss,bH=["variant","Chain.ttl","AENS.pointee","AENS.name"];let SH=class extends xH{supports({name:e,_valueTypes:t}){return bH.includes(e)}create(e,t){if(!this.isValid(t))throw new Rm(e.name,`Variant should be an object mapping constructor to array of values, got "${t}" instead`);const[n,i]=Object.entries(t)[0],s=e.variants.map(c=>{const[[,u]]=Object.entries(c);return u.length}),o=e.variants.findIndex(c=>{const[[u,f]]=Object.entries(c);return u===n});if(o===-1)throw new Rm(e.name,`Unknown variant constructor: ${n}`);const[[,a]]=Object.entries(e.variants[o]);if(i.length!==a.length)throw new Rm(e.name,`"${n}" variant constructor expects ${a.length} argument(s) but got ${i.length} instead`);const l=this.valueFactory.createMultiple(a,i);return new yH(s,o,l,a,e.variants)}isValid(e){return typeof e=="object"&&e!==null&&Object.entries(e).length===1&&Array.isArray(Object.values(e)[0])}};var vH=SH;const wH=L2,$H=32,mE=r=>Array.from(wH.blake2b(r,null,$H)),CH=r=>mE(r).slice(0,4);var gE={hash:mE,symbolIdentifier:CH};let TH=class extends Error{constructor(e){super(e),this.name="TypeResolveError"}};var c1=TH;const{hash:PH}=gE,{ByteArray2Int:_H}=ua,fw=c1,AH=ss,kH=["string","signature","bytes"];let EH=class extends AH{supports({name:e,_valueTypes:t}){return e==="event"}create({variantType:e,topics:t},n){const[i,...s]=t;if(typeof i!="bigint")throw new fw(`Event name hash (first topic) should be of type "BigInt", got "${typeof i}" instead.`);const o=e.variants.map(f=>_H(PH(Object.keys(f)[0]))).findIndex(f=>f===i);if(o===-1)throw new fw("Event name hash does not match any event variant constructor");const a=e.variants[o],l=Object.keys(a)[0],[c]=Object.values(a),u=c.map(f=>this._isData(f)?n:s.shift());return this.valueFactory.create(e,{[l]:u})}_isData(e){return!(!kH.includes(e.name)||e.name==="bytes"&&e.size<=32)}};var QH=EH;const NH=nE,IH=iE,RH=ss,MH=["bls12_381.fr","bls12_381.fp"];let BH=class extends RH{supports({name:e,_valueTypes:t}){return MH.includes(e)}create(e,t){switch(e.name){case"bls12_381.fr":return new NH(t);case"bls12_381.fp":return new IH(t);default:throw new Error(`Unsupported type "${e.name}"`)}}};var zH=BH;const{symbolIdentifier:FH}=gE,DH=ks,UH=sE,qH=ss;let LH=class extends qH{supports({name:e,_valueTypes:t}){return e==="calldata"}create(e,t){if(!Array.isArray(t))throw new DH(e.name,`Fate calldata arguments must be an Array, got ${t} instead`);const n=this.valueFactory.createMultiple(e.argumentTypes,t),i=FH(e.functionName);return new UH(i,e.argumentTypes,n)}};var jH=LH;const hw=r1,VH=C9,ZH=X9,WH=J9,XH=nH,YH=aH,GH=hH,HH=OH,KH=vH,JH=QH,eK=zH,tK=jH;let rK=class{constructor(){this._factories=[new ZH(this),new WH(this),new XH(this),new YH(this),new GH(this),new HH(this),new JH(this),new KH(this),new eK(this),new tK(this)]}createMultiple(e,t){return hw(t.length===e.length,`Number of types (${e.length}) and values (${t.length}) should match`),VH(e,t).map(n=>this.create(...n))}create(e,t){const n=this._factories.find(i=>i.supports(e));return hw(n,`Unsupported type "${e.name}"`),n.create(e,t)}};var OE=rK;const nK=Es,{Int2MontBytes:dw}=pE,Mm=ks;let iK=class{constructor(){this._apiEncoder=new nK}toInternal(e,t){switch(e.name){case"account_pubkey":case"contract_pubkey":case"channel":case"oracle_pubkey":case"oracle_query_id":return this.toAddress(e,t);case"variant":return this.toVariant(e,t);case"map":return this.toMap(e,t);case"set":return this.toSet(e,t);case"record":return this.toRecord(e,t);case"bls12_381.fr":return this.toBls12381Fr(e,t);case"bls12_381.fp":return this.toBls12381Fp(e,t);default:return t}}toAddress({name:e,_:t},n){return this._apiEncoder.decodeWithType(n,e)}toVariant(e,t){if(!this.isOptionVariant(e))return t;if([void 0,null].includes(t))return{None:[]};const[n]=Object.keys(t);return["Some","None"].includes(n)?t:{Some:[t]}}isOptionVariant({_name:e,variants:t}){return t.some(({None:n})=>n&&n.length===0)&&t.some(({Some:n})=>n)}toMap(e,t){if(typeof t!="object"||t===null)throw new Mm("map",`Fate map must be one of: Map, Array, Object; got ${t} instead`);return Array.isArray(t)||t instanceof Map?t:Object.entries(t)}toSet(e,t){if(t instanceof Set)return t;if(Array.isArray(t))return new Set(t);throw new Mm("set",`Fate set must be a Set or Array, got "${t}" instead`)}toRecord(e,t){return e.keys.reduce((n,i)=>({...n,[i]:t[i]}),{})}validateBls12381Field(e,t){if(typeof t!="bigint"&&!Number.isInteger(t))throw new Mm(e.name,`Should be one of: BigInt or Number; got ${t} instead`)}toBls12381Fr(e,t){return this.validateBls12381Field(e,t),dw(t,"r")}toBls12381Fp(e,t){return this.validateBls12381Field(e,t),dw(t,"p")}};var sK=iK;const oK=OE,aK=sK;let lK=class extends oK{constructor(){super(),this._mapper=new aK}create(e,t){const n=this._mapper.toInternal(e,t);return super.create(e,n)}};var cK=lK;const uK=oE,fK=Es,hK=hp,dK=cK;let pK=class{constructor(){this._serializer=new uK,this._apiEncoder=new fK,this._externalDataFactory=new dK,this._canonicalMapper=new hK}encode(e,t){const n=this._externalDataFactory.create(e,t),i=this._serializer.serialize(n),s=new Uint8Array(i.flat(1/0));return this._apiEncoder.encode("contract_bytearray",s)}decode(e){const t=this._apiEncoder.decodeWithType(e,"contract_bytearray"),n=this._serializer.deserialize(t);return this._canonicalMapper.toCanonical(n)}decodeWithType(e,t){const n=this._apiEncoder.decodeWithType(e,"contract_bytearray"),i=this._serializer.deserializeWithType(n,t);return this._canonicalMapper.toCanonical(i)}};var dp=pK;const ka=c1,{FateTypeVoid:mK,FateTypeInt:gK,FateTypeBool:OK,FateTypeString:yK,FateTypeBits:xK,FateTypeBytes:bK,FateTypeHash:SK,FateTypeSignature:vK,FateTypeAccountAddress:wK,FateTypeContractAddress:$K,FateTypeOracleAddress:CK,FateTypeOracleQueryAddress:TK,FateTypeList:PK,FateTypeMap:_K,FateTypeTuple:pw,FateTypeRecord:AK,FateTypeSet:kK,FateTypeVariant:EK,FateTypeOption:QK,FateTypeChainTTL:NK,FateTypeChainGAMetaTx:IK,FateTypeChainPayingForTx:RK,FateTypeChainBaseTx:MK,FateTypeAENSPointee:BK,FateTypeAENSName:zK,FateTypeEvent:FK,FateTypeBls12381Fr:DK,FateTypeBls12381Fp:UK}=Yt,yE=r=>r&&typeof r=="object"&&r.constructor===Object,qK=({type:r})=>{let e=r,t;return yE(e)&&([[e,t]]=Object.entries(e)),e==="option"};let LK=class{constructor(e){this.aci=e}getCallTypes(e,t){const n=this.getNamespaceAci(e).functions.find(i=>i.name===t);if(n){const i=n.arguments.map(o=>this.resolveType(o.type)),s=n.arguments.filter(qK);return{types:i,required:i.length-s.length}}if(t==="init")return{types:[],required:0};throw new ka(`Unknown function ${t}`)}getReturnType(e,t){if(t==="init")return this.resolveType("void");const n=this.getNamespaceAci(e).functions.find(i=>i.name===t);if(!n)throw new ka(`Unknown function ${t}`);return this.resolveType(n.returns)}getEventType(e,t){const n=this.getNamespaceAci(e);if(!n.hasOwnProperty("event"))throw new ka("Missing event declaration");return FK(this.resolveType(n.event),t)}isCustomType(e){if(typeof e!="string"||this.isStdType(e))return!1;const[t,n]=e.split(".");return!!this.getNamespaceAci(t)}isStdType(e){return e==="Set.set"}getNamespaceAci(e){for(const t of this.aci){const[[n,i]]=Object.entries(t);if(i.name===e)return i}return null}resolveType(e,t={}){let n=e,i=[],s=[];if(yE(e)&&([[n,i]]=Object.entries(e)),this.isCustomType(n)){const[o,a]=this.resolveTypeDef(n,i);return this.resolveType(o,a)}if(Array.isArray(i)&&n!=="variant"&&(s=i.map(o=>{const a=o.hasOwnProperty("type")?o.type:o,l=t.hasOwnProperty(a)?t[a]:a;return this.resolveType(l,t)})),n==="void")return mK();if(n==="unit")return pw([]);if(n==="int")return gK();if(n==="bool")return OK();if(n==="string")return yK();if(n==="bits")return xK();if(n==="hash")return SK();if(n==="signature")return vK();if(n==="address")return wK();if(n==="contract_pubkey")return $K();if(n==="Chain.ttl")return NK();if(n==="Chain.ga_meta_tx")return IK();if(n==="Chain.paying_for_tx")return RK();if(n==="Chain.base_tx")return MK();if(n==="AENS.pointee")return BK();if(n==="AENS.name")return zK();if(n==="Set.set")return kK(...s);if(n==="MCL_BLS12_381.fr")return DK();if(n==="MCL_BLS12_381.fp")return UK();if(n==="bytes")return bK(i);if(n==="list")return PK(...s);if(n==="map")return _K(...s);if((n==="tuple"||n==="record")&&s.length===1)return s[0];if(n==="tuple")return pw(s);if(n==="record"){const o=i.map(a=>a.name);return AK(o,s)}if(n==="variant")return this.resolveVariant(i,t);if(n==="option")return QK(s);if(n==="oracle")return CK(...s);if(n==="oracle_query")return TK(...s);throw new ka("Cannot resolve type: "+JSON.stringify(e))}resolveVariant(e,t){const n=e.map(i=>{const[[s,o]]=Object.entries(i),a=o.map(l=>{const c=t.hasOwnProperty(l)?t[l]:l;return this.resolveType(c,t)});return{[s]:a}});return EK(n)}resolveTypeDef(e,t=[]){const[n,i]=e.split("."),s=this.getNamespaceAci(n);if(!s)throw new ka("Unknown namespace for "+JSON.stringify(e));if(s.name===e)return["contract_pubkey",[]];const o=[...s.typedefs||s.type_defs,...s.state?[{name:"state",typedef:s.state,vars:[]}]:[]].find(c=>c.name===i);if(!o)throw new ka("Unknown type definition: "+JSON.stringify(e));const a={};return o.vars.forEach((c,u)=>{const[[f,d]]=Object.entries(c);a[d]=t[u]}),[a.hasOwnProperty(o.typedef)?a[o.typedef]:o.typedef,a]}};var xE=LK;const jK=Es,VK=OE,ZK=hp;let WK=class{constructor(){this._dataFactory=new VK,this._apiEncoder=new jK,this._canonicalMapper=new ZK}decodeWithType(e,t){const n=this._apiEncoder.decode(e),i=this._dataFactory.create(t,n);return this._canonicalMapper.toCanonical(i)}};var u1=WK;let XK=class extends Error{constructor(e){super(e),this.name="EncoderError"}};var f1=XK;const YK=dp,GK=xE,HK=Es,KK=u1,JK=hp,{FateTypeCalldata:eJ,FateTypeString:tJ}=Yt,rJ=f1;let nJ=class{constructor(e){this._byteArrayEncoder=new YK,this._typeResolver=new GK(e),this._apiEncoder=new HK,this._eventEncoder=new KK,this._canonicalMapper=new JK}encode(e,t,n){const{types:i,required:s}=this._typeResolver.getCallTypes(e,t);if(n.length>i.length||n.length<s)throw new rJ(`Non matching number of arguments. ${t} expects between ${s} and ${i.length} number of arguments but got ${n.length}`);for(;n.length<i.length;)n.push(void 0);return this._byteArrayEncoder.encode(eJ(t,i),n)}decode(e,t,n){const i=this._typeResolver.getReturnType(e,t);return this._byteArrayEncoder.decodeWithType(n,i)}decodeContractByteArray(e){return this._byteArrayEncoder.decode(e)}decodeString(e){const t=new TextDecoder,n=this._apiEncoder.decodeWithType(e,"contract_bytearray");return t.decode(n)}decodeFateString(e){return this._byteArrayEncoder.decodeWithType(e,tJ())}decodeEvent(e,t,n){const i=this._typeResolver.getEventType(e,n);return this._eventEncoder.decodeWithType(t,i)}};var iJ=nJ;const sJ=iJ;let oJ=class{constructor(e){this._internalEncoder=new sJ(e)}encode(e,t,n){return this._internalEncoder.encode(e,t,n)}decode(e,t,n){return this._internalEncoder.decode(e,t,n)}decodeContractByteArray(e){return this._internalEncoder.decodeContractByteArray(e)}decodeString(e){return this._internalEncoder.decodeString(e)}decodeFateString(e){return this._internalEncoder.decodeFateString(e)}decodeEvent(e,t,n){return this._internalEncoder.decodeEvent(e,t,n)}};var aJ=oJ;const lJ=dp,cJ=xE,uJ=Es,fJ=u1,hJ=hp,{FateTypeCalldata:mw,FateTypeString:dJ}=Yt,gw=f1;let pJ=class{constructor(e){this._byteArrayEncoder=new lJ,this._typeResolver=new cJ(e),this._apiEncoder=new uJ,this._eventEncoder=new fJ,this._canonicalMapper=new hJ}encodeCall(e,t,n){const{types:i,required:s}=this._typeResolver.getCallTypes(e,t);if(n.length>i.length||n.length<s)throw new gw(`Non matching number of arguments. ${t} expects between ${s} and ${i.length} number of arguments but got ${n.length}`);for(;n.length<i.length;)n.push(void 0);return this._byteArrayEncoder.encode(mw(t,i),n)}decodeCall(e,t,n){const{types:i,_required:s}=this._typeResolver.getCallTypes(e,t),o=mw(t,i);return this._byteArrayEncoder.decodeWithType(n,o)}decodeResult(e,t,n,i="ok"){if(i==="ok"){const s=this._typeResolver.getReturnType(e,t);return this._byteArrayEncoder.decodeWithType(n,s)}if(i==="error"){const s=new TextDecoder,o=this._apiEncoder.decodeWithType(n,"contract_bytearray");return s.decode(o)}if(i==="revert")return this._byteArrayEncoder.decodeWithType(n,dJ());throw new gw(`Unknown call result type: "${i}"`)}decodeEvent(e,t,n){const i=this._typeResolver.getEventType(e,n);return this._eventEncoder.decodeWithType(t,i)}};var mJ=pJ;const gJ=mJ;let OJ=class{constructor(e){this._internalEncoder=new gJ(e)}encodeCall(e,t,n){return this._internalEncoder.encodeCall(e,t,n)}decodeCall(e,t,n){return this._internalEncoder.decodeCall(e,t,n)}decodeResult(e,t,n,i="ok"){return this._internalEncoder.decodeResult(e,t,n,i)}decodeEvent(e,t,n){return this._internalEncoder.decodeEvent(e,t,n)}};var yJ=OJ;const Zr=Kr,xJ=fr,bJ=s1,Ow=Pl,{FateTypeInt:SJ,FateTypeBool:vJ,FateTypeString:wJ,FateTypeBits:$J,FateTypeBytes:CJ,FateTypeAccountAddress:TJ,FateTypeContractAddress:PJ,FateTypeOracleAddress:_J,FateTypeOracleQueryAddress:AJ,FateTypeChannelAddress:kJ,FateTypeList:EJ,FateTypeMap:QJ,FateTypeTuple:NJ,FateTypeVariant:IJ,FateTypeVar:RJ,FateTypeAny:MJ}=Yt,yw={[Zr.TYPE_INTEGER]:SJ(),[Zr.TYPE_BOOLEAN]:vJ(),[Zr.TYPE_BITS]:$J(),[Zr.TYPE_STRING]:wJ(),[Zr.TYPE_ANY]:MJ()},xw={[Zr.OTYPE_ADDRESS]:TJ(),[Zr.OTYPE_CONTRACT]:PJ(),[Zr.OTYPE_ORACLE]:_J(),[Zr.OTYPE_ORACLE_QUERY]:AJ(),[Zr.OTYPE_CHANNEL]:kJ()};let BJ=class extends xJ{constructor(e){super(e),this._intSerializer=new bJ}deserializeStream(e){const t=new Uint8Array(e),n=t[0];if(yw.hasOwnProperty(n))return[yw[n],t.slice(1)];if(n===Zr.TYPE_OBJECT){const i=t[1];if(!xw.hasOwnProperty(i))throw new Ow(i,"Unsupported object type");return[xw[i],t.slice(2)]}if(n===Zr.TYPE_VAR)return[RJ(t[1]),t.slice(2)];if(n===Zr.TYPE_BYTES){const[i,s]=this._intSerializer.deserializeStream(t.slice(1));return[CJ(i.valueOf()),s]}if(n===Zr.TYPE_LIST){const[i,s]=this.deserializeStream(t.slice(1));return[EJ(i),s]}if(n===Zr.TYPE_MAP){const[i,s]=this.deserializeStream(t.slice(1)),[o,a]=this.deserializeStream(s);return[QJ(i,o),a]}if(n===Zr.TYPE_TUPLE){const i=t[1],s=[];let o=t.slice(2),a;for(let l=0;l<i;l++)[a,o]=this.deserializeStream(o),s.push(a);return[NJ(s),o]}if(n===Zr.TYPE_VARIANT){const i=t[1],s=[];let o=t.slice(2),a;for(let l=0;l<i;l++)[a,o]=this.deserializeStream(o),s.push(a);return[IJ(s),o]}throw new Ow(n)}};var zJ=BJ,FJ=Object.freeze({0:{mnemonic:"RETURN",args:0,end:!0},1:{mnemonic:"RETURNR",args:1,end:!0},2:{mnemonic:"CALL",args:1,end:!0},3:{mnemonic:"CALL_R",args:5,end:!0},4:{mnemonic:"CALL_T",args:1,end:!0},5:{mnemonic:"CALL_GR",args:6,end:!0},6:{mnemonic:"JUMP",args:1,end:!0},7:{mnemonic:"JUMPIF",args:2,end:!0},8:{mnemonic:"SWITCH_V2",args:3,end:!0},9:{mnemonic:"SWITCH_V3",args:4,end:!0},10:{mnemonic:"SWITCH_VN",args:2,end:!0},11:{mnemonic:"CALL_VALUE",args:1,end:!1},12:{mnemonic:"PUSH",args:1,end:!1},13:{mnemonic:"DUPA",args:0,end:!1},14:{mnemonic:"DUP",args:1,end:!1},15:{mnemonic:"POP",args:1,end:!1},16:{mnemonic:"INCA",args:0,end:!1},17:{mnemonic:"INC",args:1,end:!1},18:{mnemonic:"DECA",args:0,end:!1},19:{mnemonic:"DEC",args:1,end:!1},20:{mnemonic:"ADD",args:3,end:!1},21:{mnemonic:"SUB",args:3,end:!1},22:{mnemonic:"MUL",args:3,end:!1},23:{mnemonic:"DIV",args:3,end:!1},24:{mnemonic:"MOD",args:3,end:!1},25:{mnemonic:"POW",args:3,end:!1},26:{mnemonic:"STORE",args:2,end:!1},27:{mnemonic:"SHA3",args:2,end:!1},28:{mnemonic:"SHA256",args:2,end:!1},29:{mnemonic:"BLAKE2B",args:2,end:!1},30:{mnemonic:"LT",args:3,end:!1},31:{mnemonic:"GT",args:3,end:!1},32:{mnemonic:"EQ",args:3,end:!1},33:{mnemonic:"ELT",args:3,end:!1},34:{mnemonic:"EGT",args:3,end:!1},35:{mnemonic:"NEQ",args:3,end:!1},36:{mnemonic:"AND",args:3,end:!1},37:{mnemonic:"OR",args:3,end:!1},38:{mnemonic:"NOT",args:2,end:!1},39:{mnemonic:"TUPLE",args:2,end:!1},40:{mnemonic:"ELEMENT",args:3,end:!1},41:{mnemonic:"SETELEMENT",args:4,end:!1},42:{mnemonic:"MAP_EMPTY",args:1,end:!1},43:{mnemonic:"MAP_LOOKUP",args:3,end:!1},44:{mnemonic:"MAP_LOOKUPD",args:4,end:!1},45:{mnemonic:"MAP_UPDATE",args:4,end:!1},46:{mnemonic:"MAP_DELETE",args:3,end:!1},47:{mnemonic:"MAP_MEMBER",args:3,end:!1},48:{mnemonic:"MAP_FROM_LIST",args:2,end:!1},49:{mnemonic:"MAP_SIZE",args:2,end:!1},50:{mnemonic:"MAP_TO_LIST",args:2,end:!1},51:{mnemonic:"IS_NIL",args:2,end:!1},52:{mnemonic:"CONS",args:3,end:!1},53:{mnemonic:"HD",args:2,end:!1},54:{mnemonic:"TL",args:2,end:!1},55:{mnemonic:"LENGTH",args:2,end:!1},56:{mnemonic:"NIL",args:1,end:!1},57:{mnemonic:"APPEND",args:3,end:!1},58:{mnemonic:"STR_JOIN",args:3,end:!1},59:{mnemonic:"INT_TO_STR",args:2,end:!1},60:{mnemonic:"ADDR_TO_STR",args:2,end:!1},61:{mnemonic:"STR_REVERSE",args:2,end:!1},62:{mnemonic:"STR_LENGTH",args:2,end:!1},63:{mnemonic:"BYTES_TO_INT",args:2,end:!1},64:{mnemonic:"BYTES_TO_STR",args:2,end:!1},65:{mnemonic:"BYTES_CONCAT",args:3,end:!1},66:{mnemonic:"BYTES_SPLIT",args:3,end:!1},67:{mnemonic:"INT_TO_ADDR",args:2,end:!1},68:{mnemonic:"VARIANT",args:4,end:!1},69:{mnemonic:"VARIANT_TEST",args:3,end:!1},70:{mnemonic:"VARIANT_ELEMENT",args:3,end:!1},71:{mnemonic:"BITS_NONEA",args:0,end:!1},72:{mnemonic:"BITS_NONE",args:1,end:!1},73:{mnemonic:"BITS_ALLA",args:0,end:!1},74:{mnemonic:"BITS_ALL",args:1,end:!1},75:{mnemonic:"BITS_ALL_N",args:2,end:!1},76:{mnemonic:"BITS_SET",args:3,end:!1},77:{mnemonic:"BITS_CLEAR",args:3,end:!1},78:{mnemonic:"BITS_TEST",args:3,end:!1},79:{mnemonic:"BITS_SUM",args:2,end:!1},80:{mnemonic:"BITS_OR",args:3,end:!1},81:{mnemonic:"BITS_AND",args:3,end:!1},82:{mnemonic:"BITS_DIFF",args:3,end:!1},83:{mnemonic:"BALANCE",args:1,end:!1},84:{mnemonic:"ORIGIN",args:1,end:!1},85:{mnemonic:"CALLER",args:1,end:!1},86:{mnemonic:"BLOCKHASH",args:2,end:!1},87:{mnemonic:"BENEFICIARY",args:1,end:!1},88:{mnemonic:"TIMESTAMP",args:1,end:!1},89:{mnemonic:"GENERATION",args:1,end:!1},90:{mnemonic:"MICROBLOCK",args:1,end:!1},91:{mnemonic:"DIFFICULTY",args:1,end:!1},92:{mnemonic:"GASLIMIT",args:1,end:!1},93:{mnemonic:"GAS",args:1,end:!1},94:{mnemonic:"ADDRESS",args:1,end:!1},95:{mnemonic:"GASPRICE",args:1,end:!1},96:{mnemonic:"LOG0",args:1,end:!1},97:{mnemonic:"LOG1",args:2,end:!1},98:{mnemonic:"LOG2",args:3,end:!1},99:{mnemonic:"LOG3",args:4,end:!1},100:{mnemonic:"LOG4",args:5,end:!1},101:{mnemonic:"SPEND",args:2,end:!1},102:{mnemonic:"ORACLE_REGISTER",args:7,end:!1},103:{mnemonic:"ORACLE_QUERY",args:8,end:!1},104:{mnemonic:"ORACLE_RESPOND",args:6,end:!1},105:{mnemonic:"ORACLE_EXTEND",args:3,end:!1},106:{mnemonic:"ORACLE_GET_ANSWER",args:5,end:!1},107:{mnemonic:"ORACLE_GET_QUESTION",args:5,end:!1},108:{mnemonic:"ORACLE_QUERY_FEE",args:2,end:!1},109:{mnemonic:"AENS_RESOLVE",args:4,end:!1},110:{mnemonic:"AENS_PRECLAIM",args:3,end:!1},111:{mnemonic:"AENS_CLAIM",args:5,end:!1},112:{mnemonic:"AENS_UPDATE",args:6,end:!1},113:{mnemonic:"AENS_TRANSFER",args:4,end:!1},114:{mnemonic:"AENS_REVOKE",args:3,end:!1},115:{mnemonic:"BALANCE_OTHER",args:2,end:!1},116:{mnemonic:"VERIFY_SIG",args:4,end:!1},117:{mnemonic:"VERIFY_SIG_SECP256K1",args:4,end:!1},118:{mnemonic:"CONTRACT_TO_ADDRESS",args:2,end:!1},119:{mnemonic:"AUTH_TX_HASH",args:1,end:!1},120:{mnemonic:"ORACLE_CHECK",args:4,end:!1},121:{mnemonic:"ORACLE_CHECK_QUERY",args:5,end:!1},122:{mnemonic:"IS_ORACLE",args:2,end:!1},123:{mnemonic:"IS_CONTRACT",args:2,end:!1},124:{mnemonic:"IS_PAYABLE",args:2,end:!1},125:{mnemonic:"CREATOR",args:1,end:!1},126:{mnemonic:"ECVERIFY_SECP256K1",args:4,end:!1},127:{mnemonic:"ECRECOVER_SECP256K1",args:3,end:!1},128:{mnemonic:"ADDRESS_TO_CONTRACT",args:2,end:!1},129:{mnemonic:"BLS12_381_G1_NEG",args:2,end:!1},130:{mnemonic:"BLS12_381_G1_NORM",args:2,end:!1},131:{mnemonic:"BLS12_381_G1_VALID",args:2,end:!1},132:{mnemonic:"BLS12_381_G1_IS_ZERO",args:2,end:!1},133:{mnemonic:"BLS12_381_G1_ADD",args:3,end:!1},134:{mnemonic:"BLS12_381_G1_MUL",args:3,end:!1},135:{mnemonic:"BLS12_381_G2_NEG",args:2,end:!1},136:{mnemonic:"BLS12_381_G2_NORM",args:2,end:!1},137:{mnemonic:"BLS12_381_G2_VALID",args:2,end:!1},138:{mnemonic:"BLS12_381_G2_IS_ZERO",args:2,end:!1},139:{mnemonic:"BLS12_381_G2_ADD",args:3,end:!1},140:{mnemonic:"BLS12_381_G2_MUL",args:3,end:!1},141:{mnemonic:"BLS12_381_GT_INV",args:2,end:!1},142:{mnemonic:"BLS12_381_GT_ADD",args:3,end:!1},143:{mnemonic:"BLS12_381_GT_MUL",args:3,end:!1},144:{mnemonic:"BLS12_381_GT_POW",args:3,end:!1},145:{mnemonic:"BLS12_381_GT_IS_ONE",args:2,end:!1},146:{mnemonic:"BLS12_381_PAIRING",args:3,end:!1},147:{mnemonic:"BLS12_381_MILLER_LOOP",args:3,end:!1},148:{mnemonic:"BLS12_381_FINAL_EXP",args:2,end:!1},149:{mnemonic:"BLS12_381_INT_TO_FR",args:2,end:!1},150:{mnemonic:"BLS12_381_INT_TO_FP",args:2,end:!1},151:{mnemonic:"BLS12_381_FR_TO_INT",args:2,end:!1},152:{mnemonic:"BLS12_381_FP_TO_INT",args:2,end:!1},153:{mnemonic:"AENS_LOOKUP",args:2,end:!1},154:{mnemonic:"ORACLE_EXPIRY",args:2,end:!1},155:{mnemonic:"AUTH_TX",args:1,end:!1},156:{mnemonic:"STR_TO_LIST",args:2,end:!1},157:{mnemonic:"STR_FROM_LIST",args:2,end:!1},158:{mnemonic:"STR_TO_UPPER",args:2,end:!1},159:{mnemonic:"STR_TO_LOWER",args:2,end:!1},160:{mnemonic:"CHAR_TO_INT",args:2,end:!1},161:{mnemonic:"CHAR_FROM_INT",args:2,end:!1},162:{mnemonic:"CALL_PGR",args:7,end:!0},163:{mnemonic:"CREATE",args:3,end:!0},164:{mnemonic:"CLONE",args:4,end:!0},165:{mnemonic:"CLONE_G",args:5,end:!0},166:{mnemonic:"BYTECODE_HASH",args:2,end:!1},167:{mnemonic:"FEE",args:1,end:!1},168:{mnemonic:"ADDRESS_TO_BYTES",args:2,end:!1},169:{mnemonic:"POSEIDON",args:3,end:!1},170:{mnemonic:"MULMOD",args:4,end:!1},171:{mnemonic:"BAND",args:3,end:!1},172:{mnemonic:"BOR",args:3,end:!1},173:{mnemonic:"BXOR",args:3,end:!1},174:{mnemonic:"BNOT",args:2,end:!1},175:{mnemonic:"BSL",args:3,end:!1},176:{mnemonic:"BSR",args:3,end:!1},250:{mnemonic:"DEACTIVATE",args:0,end:!1},251:{mnemonic:"ABORT",args:1,end:!0},252:{mnemonic:"EXIT",args:1,end:!0},253:{mnemonic:"NOP",args:0,end:!1},254:{mnemonic:"FUNCTION",args:0,end:!1},255:{mnemonic:"EXTEND",args:0,end:!1}});const Bm=Hr,DJ=fr,UJ=zJ,{ByteArray2Hex:bw,ByteArray2Int:qJ}=ua,Sw=FJ,{FateTypeByteArray:LJ,FateTypeString:jJ,FateTypeMap:VJ}=Yt,ZJ={3:"immediate",2:"var",1:"arg",0:"stack"},WJ=(r,e=1)=>{const t=[];let n=Number(qJ(r));for(let i=0;i<e*2;i+=2)t.push(n&3),n>>=2;if(n!==0)throw new Error(`Invalid argument modifier data. Unexpected padding: 0b${n.toString(2)}`);return t};let XJ=class extends DJ{constructor(e){super(e),this._typeSerializer=new UJ}deserialize(e){const t=Bm.decode(e,!0),n=Bm.decode(t.remainder,!0),i=Bm.decode(n.remainder),s=this.deserializeSymbols(n.data),o=this.deserializeFunctions(t.data,s),a=this.deserializeAnnotations(i);return{functions:o,symbols:s,annotations:a}}deserializeFunctions(e,t){let n={},i=e;const s=[];for(;i.length;)[n,i]=this.deserializeFunction(i,t),s.push(n);return s}deserializeFunction(e,t){const n=e[0],i=bw(e.slice(1,5));if(n!==254)throw new Error(`Wrong function prefix, expeted 0xfe got 0x${e[0].toString(16)}`);const s=t[i],[o,a]=this.deserializeAttributes(e.slice(5)),[l,c,u]=this.deserializeSigniture(a),[f,d]=this.deserializeInstructions(u);return[{id:i,name:s,attributes:o,args:l,returnType:c,instructions:f},d]}deserializeInstructions(e){let t={},n=e;const i=[];let s=0,o=!1;for(;n.length&&n[0]!==254;)i[s]===void 0&&(i[s]=[]),[t,n,o]=this.deserializeInstruction(n),i[s].push(t),o&&s++;return[i,n]}deserializeInstruction(e){const t=e[0],n=e.slice(1);if(!Sw.hasOwnProperty(t))throw new Error(`Unsupported opcode: 0x${t.toString(16)}`);const i=Sw[t],{mnemonic:s,end:o}=i;if(i.args===0)return[{mnemonic:s,args:[]},n,o];const[a,l]=this.deserializeArguments(n,i.args);return[{mnemonic:s,args:a},l,o]}deserializeArguments(e,t){const n=t<=4?1:2,i=e.subarray(0,n),s=e.slice(n),o=WJ(i,t),a=[];let l=s,c;return o.forEach(u=>{[c,l]=this.deserializeArgument(u,l),a.push(c)}),[a,l]}deserializeArgument(e,t){const n=ZJ[e];if(n==="stack")return[{mod:n,arg:0},t];const[i,s]=this.globalSerializer.deserializeStream(t);return[{mod:n,arg:i.valueOf()},s]}deserializeSigniture(e){const[t,n]=this._typeSerializer.deserializeStream(e),[i,s]=this._typeSerializer.deserializeStream(n);return[t,i,s]}deserializeAttributes(e){const[t,n]=this.globalSerializer.deserializeStream(e),i=Number(t.valueOf()),s=[];return i&1&&s.push("private"),i&2&&s.push("payable"),[s,n]}deserializeSymbols(e){const t=VJ(LJ(),jJ()),n=this.globalSerializer.deserializeWithType(e,t).valueOf(),i={};return n.forEach((s,o)=>{const a=bw(o);i[a]=s}),i}deserializeAnnotations(e){return this.globalSerializer.deserialize(e).valueOf()}};var YJ=XJ;const GJ=Hr,HJ=Es,KJ=oE,JJ=YJ,{ByteArray2Int:vw,ByteArray2Hex:eee}=ua;let tee=class{constructor(){this._apiEncoder=new HJ,this._bytecodeSerializer=new JJ(new KJ)}decode(e){const t=this._apiEncoder.decodeWithType(e,"contract_bytearray"),n=GJ.decode(t,!0),i=new TextDecoder;return{tag:vw(n.data[0]),vsn:vw(n.data[1]),sourceHash:eee(n.data[2]),aevmTypeInfo:n.data[3],compilerVersion:i.decode(n.data[5]),payable:!!n.data[6][0],bytecode:this._bytecodeSerializer.deserialize(new Uint8Array(n.data[4]))}}};var bE=tee;const ree=bE,zm=c1,{FateTypeVoid:nee,FateTypeTuple:iee,FateTypeEvent:see,FateTypeList:oee,FateTypeMap:aee,FateTypeVariant:lee,FateTypeOracleAddress:cee,FateTypeOracleQueryAddress:uee}=Yt;let fee=class{constructor(e){this._contractEncoder=new ree,this._encodedContract=e,this._contract=null}get _bytecode(){return this._contract===null&&(this._contract=this._contractEncoder.decode(this._encodedContract)),this._contract.bytecode}getFunctionId(e){const{symbols:t}=this._bytecode;return Object.keys(t).find(n=>t[n]===e)}getFunction(e){const{functions:t}=this._bytecode;return t.find(n=>n.id===e)}getFunctionName(e){const{name:t}=this.getFunction(e);return t}getCallTypes(e){const t=this.getFunction(this.getFunctionId(e));if(t){const n=t.args.valueTypes.map(i=>this.resolveType(i));return{types:n,required:n.length}}if(e==="init")return{types:[],required:0};throw new zm(`Unknown function ${e}`)}getReturnType(e){if(e==="init")return nee();const t=this.getFunction(this.getFunctionId(e));if(t)return this.resolveType(t.returnType);throw new zm(`Unknown function ${e}`)}getEventType(e){const t=this.getFunction(this.getFunctionId("Chain.event"));if(!t)throw new zm("The contract does not have event declaration");const n=t.args.valueTypes[0];return see(this.resolveType(n),e)}resolveType(e){if(e.name==="variant"){const n=e.variants.map((i,s)=>{const o=i.valueTypes.map(a=>this.resolveType(a));return{[s]:o}});return lee(n)}let t=[];return Array.isArray(e.valueTypes)&&(t=e.valueTypes.map(n=>this.resolveType(n))),e.name==="tuple"?iee(t):e.name==="list"?oee(...t):e.name==="map"?aee(...t):e.name==="oracle"?cee(...t):e.name==="oracle_query"?uee(...t):e}};var hee=fee;const dee=dp,pee=hee,mee=Es,gee=u1,{FateTypeCalldata:ww,FateTypeString:Oee}=Yt,$w=f1;let yee=class{constructor(e){this._byteArrayEncoder=new dee,this._typeResolver=new pee(e),this._apiEncoder=new mee,this._eventEncoder=new gee}encodeCall(e,t){const{types:n,required:i}=this._typeResolver.getCallTypes(e);if(t.length>n.length||t.length<i)throw new $w(`Non matching number of arguments. ${e} expects between ${i} and ${n.length} number of arguments but got ${t.length}`);return this._byteArrayEncoder.encode(ww(e,n),t)}decodeCall(e){const{functionId:t,args:n}=this._byteArrayEncoder.decodeWithType(e,ww()),i=this._typeResolver.getFunctionName(t);return{functionId:t,functionName:i,args:n}}decodeResult(e,t,n="ok"){if(n==="ok"){const i=this._typeResolver.getReturnType(e);return this._byteArrayEncoder.decodeWithType(t,i)}if(n==="error"){const i=new TextDecoder,s=this._apiEncoder.decodeWithType(t,"contract_bytearray");return i.decode(s)}if(n==="revert")return this._byteArrayEncoder.decodeWithType(t,Oee());throw new $w(`Unknown call resutls type: "${n}"`)}};var xee=yee;const bee=xee;let See=class{constructor(e){this._internalEncoder=new bee(e)}encodeCall(e,t){return this._internalEncoder.encodeCall(e,t)}decodeCall(e){return this._internalEncoder.decodeCall(e)}decodeResult(e,t="ok"){return this._internalEncoder.decodeResult(e,t)}};var vee=See;const wee=dp;let $ee=class{constructor(){this._internalEncoder=new wee}decode(e){return this._internalEncoder.decode(e)}};var Cee=$ee;const Tee=Es;let Pee=class{constructor(){this._internalEncoder=new Tee}encode(e,t){return this._internalEncoder.encode(e,t)}decode(e){return this._internalEncoder.decode(e)}};var _ee=Pee;const Aee=bE;let kee=class{constructor(){this._internalEncoder=new Aee}decode(e){return this._internalEncoder.decode(e)}};var Eee=kee;const Qee=aJ,Nee=yJ,Iee=vee,Ree=Cee,Mee=_ee,Bee=Eee;var zee={Encoder:Qee,AciContractCallEncoder:Nee,BytecodeContractCallEncoder:Iee,ContractByteArrayEncoder:Ree,FateApiEncoder:Mee,ContractEncoder:Bee};function Fee(r,e,t){SE(r,e),e.set(r,t)}function Pf(r,e){SE(r,e),e.add(r)}function SE(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Eo(r,e,t){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return t}const{Encoder:Dee}=zee;var Fm=new WeakSet,Dm=new WeakSet,GO=new WeakSet,Cw=new WeakSet,ic=new WeakMap;let Uee=class{async $compile(){if(this.$options.bytecode!=null)return this.$options.bytecode;if(this.$options.onCompiler==null)throw new Vr("Can't compile without compiler");if(this.$options.sourceCode!=null){const{bytecode:e}=await this.$options.onCompiler.compileBySourceCode(this.$options.sourceCode,this.$options.fileSystem);this.$options.bytecode=e}if(this.$options.sourceCodePath!=null){const{bytecode:e}=await this.$options.onCompiler.compile(this.$options.sourceCodePath);this.$options.bytecode=e}if(this.$options.bytecode==null)throw new Vr("Can't compile without sourceCode and sourceCodePath");return this.$options.bytecode}async $getCallResultByTxHash(e,t,n){const{callInfo:i}=await this.$options.onNode.getTransactionInfoByHash(e);if(i==null)throw new Gn(`callInfo is not available for transaction ${e}`);const s=i;return{...Eo(this,Fm,Tw).call(this,s,t,void 0,n),result:s}}async _estimateGas(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{result:i}=await this.$call(e,t,{...n,callStatic:!0});if(i==null)throw new fu;const{gasUsed:s}=i;return Math.floor(s*1.25)}async $deploy(e,t){var n,i;const{callStatic:s,...o}={...this.$options,...t};if(this.$options.bytecode==null&&await this.$compile(),s===!0)return this.$call("init",e,{...o,callStatic:s});if(this.$options.address!=null)throw new h4;if(o.onAccount==null)throw new Vr("Can't deploy without account");const a=o.onAccount.address;if(this.$options.bytecode==null)throw new Vr("Can't deploy without bytecode");const l=await Qr({...o,tag:V.ContractCreateTx,gasLimit:(n=o.gasLimit)!==null&&n!==void 0?n:await this._estimateGas("init",e,o),callData:this._calldata.encode(this._name,"init",e),code:this.$options.bytecode,ownerId:a});this.$options.address=QA(l);const{hash:c,...u}=await Eo(this,Dm,Pw).call(this,l,"init",{...o,onAccount:o.onAccount});return{...u,...((i=u.result)===null||i===void 0?void 0:i.log)!=null&&{decodedEvents:this.$decodeEvents(u.result.log,o)},owner:a,transaction:c,address:this.$options.address}}async $call(e,t){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{callStatic:s,top:o,...a}={...this.$options,...i},l=Eo(this,GO,vE).call(this,e),c=this.$options.address,{onNode:u}=a;if(e==null)throw new g4;if(e==="init"&&s!==!0)throw new p4('"init" can be called only via dryRun');if(e!=="init"&&a.amount!=null&&a.amount>0&&!l.payable)throw new x4(a.amount,e);let f;try{if(a.onAccount==null)throw new Xn("Use fallback account");f=a.onAccount.address}catch(y){if(!(s===!0&&(y instanceof sd&&y.message==="Account should be an address (ak-prefixed string), or instance of AccountBase, got undefined instead"||y instanceof Ay)))throw y;f=EA.pub}const d=this._calldata.encode(this._name,e,t);if(s===!0){if(a.nonce==null&&o!=null){const G=typeof o=="number"?"height":"hash";a.nonce=(await up(f,{[G]:o,onNode:u})).nonce+1}const y={...a,onNode:u,callData:d};let T;if(e==="init"){if(this.$options.bytecode==null)throw new Vr(`Can't dry-run "init" without bytecode`);T=await Qr({...y,tag:V.ContractCreateTx,code:this.$options.bytecode,ownerId:f})}else{if(c==null)throw new uf("Can't dry-run contract without address");T=await Qr({...y,tag:V.ContractCallTx,callerId:f,contractId:c})}const{callObj:k,...U}=await Ak(T,f,{...a,top:o});if(k==null)throw new Xn(`callObj is not available for transaction ${T}`);const _=k;return{...U,...Eo(this,Fm,Tw).call(this,_,e,T,a),tx:Hn(T),result:_,rawTx:T,hash:Wy(T),txData:void 0}}if(o!=null)throw new Vr("Can't handle `top` option in on-chain contract call");if(c==null)throw new uf("Can't call contract without address");const g=await Qr({...a,tag:V.ContractCallTx,gasLimit:(n=a.gasLimit)!==null&&n!==void 0?n:await this._estimateGas(e,t,a),callerId:f,contractId:c,callData:d});if(a.onAccount==null)throw new Vr("Can't call contract on chain without account");return Eo(this,Dm,Pw).call(this,g,e,{...a,onAccount:a.onAccount})}$decodeEvents(e){let{omitUnknown:t,...n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.map(i=>{const s=i.topics.map(u=>BigInt(u));let o;try{o=Eo(this,Cw,qee).call(this,i.address,s[0],n)}catch(u){if((t??!1)&&u instanceof N2)return null;throw u}const a=this._calldata.decodeEvent(o,i.data,s),[l,c]=Object.entries(a)[0];return{name:l,args:c,contract:{name:o,address:i.address}}}).filter(i=>i!=null)}static async initialize(e){let{onCompiler:t,onNode:n,bytecode:i,aci:s,address:o,sourceCodePath:a,sourceCode:l,fileSystem:c,validateBytecode:u,...f}=e;if(s==null&&t!=null){let g;if(a!=null&&(g=await t.compile(a)),l!=null&&(g=await t.compileBySourceCode(l,c)),g!=null){var d;s=g.aci,(d=i)!==null&&d!==void 0||(i=g.bytecode)}}if(s==null)throw new m4;if(o!=null&&(o=await fp(o,"contract_pubkey",{resolveByNode:!0,onNode:n})),o==null&&l==null&&a==null&&i==null)throw new uf("Can't create instance by ACI without address");if(o!=null&&(await Ek(o,{onNode:n})).active==null)throw new d4(o);if(u===!0){if(o==null)throw new uf("Can't validate bytecode without contract address");const g=(await kk(o,{onNode:n})).bytecode;let y=!1;if(i!=null)y=i===g;else if(l!=null){if(t==null)throw new Vr("Can't validate bytecode without compiler");y=await t.validateBySourceCode(g,l,c)}else if(a!=null){if(t==null)throw new Vr("Can't validate bytecode without compiler");y=await t.validate(g,a)}if(!y)throw new f4((l??a)!=null?"source code":"bytecode")}return new wE({onCompiler:t,onNode:n,sourceCode:l,sourceCodePath:a,bytecode:i,aci:s,address:o,fileSystem:c,...f})}constructor(e){var t=this;let{aci:n,...i}=e;Pf(this,Cw),Pf(this,GO),Pf(this,Dm),Pf(this,Fm),Fee(this,ic,{writable:!0,value:void 0}),this._aci=n;const s=n[n.length-1];if(s.contract==null)throw new Vr(`The last 'aci' item should have 'contract' key, got ${Object.keys(s)} keys instead`);ln(this,ic,s.contract),this._name=mt(this,ic).name,this._calldata=new Dee(n),this.$options=i,Object.assign(this,Object.fromEntries(mt(this,ic).functions.map(o=>{let{name:a,arguments:l,stateful:c}=o;const u=a!=="init"&&!c;return[a,async function(){for(var f=arguments.length,d=new Array(f),g=0;g<f;g++)d[g]=arguments[g];const y=d.length===l.length+1?d.pop():{};if(typeof y!="object")throw new sd(`Options should be an object: ${y}`);return a==="init"?t.$deploy(d,{callStatic:u,...y}):t.$call(a,d,{callStatic:u,...y})}]})))}};function Tw(r,e,t,n){let{returnType:i,returnValue:s,log:o}=r,a;switch(i){case"ok":{const l=Eo(this,GO,vE).call(this,e);return{decodedResult:this._calldata.decode(this._name,l.name,s),decodedEvents:this.$decodeEvents(o,n)}}case"revert":a=this._calldata.decodeFateString(s);break;case"error":a=St(s).toString();break;default:throw new Xn(`Unknown return type: ${i}`)}throw new O4(a,t)}async function Pw(r,e,t){const n=await wn(r,{...this.$options,...t});return{hash:n.hash,tx:Hn(n.rawTx),txData:n,rawTx:n.rawTx,...n.blockHeight!=null&&await this.$getCallResultByTxHash(n.hash,e,t)}}function vE(r){const e=mt(this,ic).functions.find(t=>t.name===r);if(e!=null)return e;if(r==="init")return{arguments:[],name:"init",payable:!1,returns:"unit",stateful:!0};throw new y4(`Function ${r} doesn't exist in contract`)}function qee(r,e,t){let{contractAddressToName:n}=t;const i={...this.$options.contractAddressToName,...n};if(i[r]!=null)return i[r];const s=(l,c)=>JSON.stringify(l)===JSON.stringify(c),a=this._aci.map(l=>{let{contract:c}=l;return c}).filter(l=>l==null?void 0:l.event).map(l=>[l.name,l.event.variant]).map(l=>{let[c,u]=l;return u.map(f=>[c,Object.keys(f)[0],Object.values(f)[0]])}).flat().filter(l=>{let[,c]=l;return BigInt(`0x${Yn(c).toString("hex")}`)===e}).filter((l,c,u)=>{let[,,f]=l;return!u.slice(0,c).some(d=>s(d[2],f))});switch(a.length){case 0:throw new N2(e.toString(),r);case 1:return a[0][0];default:throw new b4(r,a)}}const wE=Uee,$E=wE;function CE(r,e,t){var n;let{interval:i,onNode:s,...o}=t;(n=i)!==null&&n!==void 0||(i=Ou("microblock",o));const a=new Set,l=async()=>{var u;((u=(await s.getOracleQueriesByPubkey(r)).oracleQueries)!==null&&u!==void 0?u:[]).filter(d=>{let{id:g}=d;return!a.has(g)}).forEach(d=>{a.add(d.id),e(d)})};let c=!1;return(async()=>{for(;!c;)await l().catch(console.error),await $l(i)})(),()=>{c=!0}}async function TE(r,e,t){var n;let{interval:i,onNode:s,...o}=t;(n=i)!==null&&n!==void 0||(i=Ou("microblock",o));let a,l,c;do{({response:c,ttl:l}=await s.getOracleQueryByPubkeyAndQueryId(r,e));const u=St(c);if(u.length>0)return u.toString();await $l(i),a=await gd({onNode:s})}while(l>=a);throw new JD(a)}async function h1(r,e,t){const n=await t.onNode.getOracleQueryByPubkeyAndQueryId(r,e);return{...n,decodedQuery:St(n.query).toString(),decodedResponse:St(n.response).toString(),respond:async(i,s)=>d1(e,i,{...t,...s}),pollForResponse:async i=>TE(r,e,{...t,...i})}}async function PE(r,e,t){var n;(n=t.queryFee)!==null&&n!==void 0||(t.queryFee=(await t.onNode.getOracleByPubkey(r)).queryFee.toString());const i=t.onAccount.address,s=await Qr({queryTtlType:cv.type,queryTtlValue:cv.value,responseTtlType:fd.type,responseTtlValue:fd.value,...t,tag:V.OracleQueryTx,oracleId:r,senderId:i,query:e}),{nonce:o}=Hn(s,V.OracleQueryTx),a=gL(i,o,r);return{...await wn(s,t),...await h1(r,a,t)}}async function _E(r){const e=sr(St(r.onAccount.address),j.OracleAddress),t=await Qr({oracleTtlType:ud.type,oracleTtlValue:ud.value,...r,tag:V.OracleExtendTx,oracleId:e});return{...await wn(t,r),...await pp(e,r)}}async function d1(r,e,t){const n=sr(St(t.onAccount.address),j.OracleAddress),i=await Qr({responseTtlType:fd.type,responseTtlValue:fd.value,...t,tag:V.OracleResponseTx,oracleId:n,queryId:r,response:e});return{...await wn(i,t),...await pp(n,t)}}async function pp(r,e){return{...await e.onNode.getOracleByPubkey(r),queries:(await e.onNode.getOracleQueriesByPubkey(r)).oracleQueries,...du({pollQueries:CE,postQuery:PE,respondToQuery:d1,extendOracle:_E,getQuery:h1},t=>{let[n,i]=t;return[n,function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];const l=o[o.length-1];return l!=null&&typeof l=="object"&&l.constructor===Object?Object.assign(l,{...e,...l}):o.push(e),i(...["extendOracle","respondToQuery"].includes(n)?[]:[r],...o)}]})}}async function Lee(r,e,t){const n=t.onAccount.address,i=await Qr({oracleTtlValue:ud.value,oracleTtlType:ud.type,...t,tag:V.OracleRegisterTx,accountId:n,queryFormat:r,responseFormat:e});return{...await wn(i,t),...await pp(sr(St(n),j.OracleAddress),t)}}const jee=Object.freeze(Object.defineProperty({__proto__:null,extendOracleTtl:_E,getOracleObject:pp,getQueryObject:h1,pollForQueries:CE,pollForQueryResponse:TE,postQueryToOracle:PE,registerOracle:Lee,respondToQuery:d1},Symbol.toStringTag,{value:"Module"}));async function Vee(r,e,t){return wn(await Qr({...t,tag:V.SpendTx,senderId:t.onAccount.address,recipientId:await fp(e,"account_pubkey",t),amount:r}),t)}async function Zee(r,e,t){if(r<0||r>1)throw new Dt("fraction","a number between 0 and 1",r);const n=await fp(e,"account_pubkey",t),i=t.onAccount.address,s=new Ir(await Pk.bind(t.onAccount)(i,t)),o=s.times(r).integerValue(Ir.ROUND_HALF_UP),{fee:a}=Hn(await Qr({...t,tag:V.SpendTx,senderId:i,recipientId:n,amount:o}),V.SpendTx),l=o.plus(a).gt(s)?s.minus(a):o;return wn(await Qr({...t,tag:V.SpendTx,senderId:i,recipientId:n,amount:l}),t)}async function Wee(r,e){return wn(await Qr({...e,tag:V.PayingForTx,payerId:e.onAccount.address,tx:r}),e)}const Xee=Object.freeze(Object.defineProperty({__proto__:null,payForTransaction:Wee,spend:Vee,transferFunds:Zee},Symbol.toStringTag,{value:"Module"})),{Buffer:Yee}=ur;async function Gee(r,e,t){var n;let{onAccount:i,onCompiler:s,onNode:o,bytecode:a,aci:l,sourceCodePath:c,sourceCode:u,fileSystem:f,...d}=t;const g=i.address;if((await up(g,{onNode:o})).kind==="generalized")throw new Vr(`Account ${g} is already GA`);const y=await $E.initialize({onAccount:i,onCompiler:s,onNode:o,bytecode:a,aci:l,sourceCodePath:c,sourceCode:u,fileSystem:f}),T=await Qr({...d,tag:V.GaAttachTx,onNode:o,code:await y.$compile(),gasLimit:(n=d.gasLimit)!==null&&n!==void 0?n:await y._estimateGas("init",e,d),ownerId:g,callData:y._calldata.encode(y._name,"init",e),authFun:Yn(r)}),k=QA(T),{hash:U,rawTx:_}=await wn(T,{onNode:o,onAccount:i,onCompiler:s,...d});return Object.freeze({owner:g,transaction:U,rawTx:_,gaContractId:k})}async function AE(r,e){let{fee:t,gasPrice:n,onNode:i}=e;const{nodeNetworkId:s,consensusProtocolVersion:o}=await i.getNodeInfo();let a=Yn($s([Yee.from(s),St(r)]));if(o===Cs.Ceres){if(t==null)throw new Dt("fee","provided (in Ceres)",t);if(n==null)throw new Dt("gasPrice","provided (in Ceres)",n);a=Yn(St(Mn({tag:V.GaMetaTxAuthData,fee:t,gasPrice:n,txHash:sr(a,j.TxHash)})))}return a}async function Hee(r,e){let{onNode:t}=e;const n=Hn(r,V.SignedTx);if(n.encodedTx.tag!==V.GaMetaTx)throw new Dt("transaction","to include GaMetaTx",V[n.encodedTx.tag]);return AE(Mn(n.encodedTx.tx.encodedTx),{fee:n.encodedTx.fee,gasPrice:n.encodedTx.gasPrice,onNode:t})}const Kee=Object.freeze(Object.defineProperty({__proto__:null,buildAuthTxHash:AE,buildAuthTxHashByGaMetaTx:Hee,createGeneralizedAccount:Gee},Symbol.toStringTag,{value:"Module"}));var HO={},Jee={get exports(){return HO},set exports(r){HO=r}},KO={},ete={get exports(){return KO},set exports(r){KO=r}},JO={},tte={get exports(){return JO},set exports(r){JO=r}},_f=function(r){return r&&r.Math==Math&&r},pi=_f(typeof globalThis=="object"&&globalThis)||_f(typeof window=="object"&&window)||_f(typeof self=="object"&&self)||_f(typeof zS=="object"&&zS)||function(){return this}()||Function("return this")(),Cn=function(r){try{return!!r()}catch{return!0}},rte=Cn,mp=!rte(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),nte=mp,kE=Function.prototype,_w=kE.apply,Aw=kE.call,EE=typeof Reflect=="object"&&Reflect.apply||(nte?Aw.bind(_w):function(){return Aw.apply(_w,arguments)}),QE=mp,NE=Function.prototype,e0=NE.call,ite=QE&&NE.bind.bind(e0,e0),Jr=QE?ite:function(r){return function(){return e0.apply(r,arguments)}},IE=Jr,ste=IE({}.toString),ote=IE("".slice),_l=function(r){return ote(ste(r),8,-1)},ate=_l,lte=Jr,RE=function(r){if(ate(r)==="Function")return lte(r)},t0=typeof document=="object"&&document.all,cte=typeof t0>"u"&&t0!==void 0,ME={all:t0,IS_HTMLDDA:cte},BE=ME,ute=BE.all,Tn=BE.IS_HTMLDDA?function(r){return typeof r=="function"||r===ute}:function(r){return typeof r=="function"},p1={},fte=Cn,Qs=!fte(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),hte=mp,Af=Function.prototype.call,ha=hte?Af.bind(Af):function(){return Af.apply(Af,arguments)},m1={},zE={}.propertyIsEnumerable,FE=Object.getOwnPropertyDescriptor,dte=FE&&!zE.call({1:2},1);m1.f=dte?function(e){var t=FE(this,e);return!!t&&t.enumerable}:zE;var Su=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}},pte=Jr,mte=Cn,gte=_l,Um=Object,Ote=pte("".split),DE=mte(function(){return!Um("z").propertyIsEnumerable(0)})?function(r){return gte(r)=="String"?Ote(r,""):Um(r)}:Um,UE=function(r){return r==null},yte=UE,xte=TypeError,g1=function(r){if(yte(r))throw xte("Can't call method on "+r);return r},bte=DE,Ste=g1,da=function(r){return bte(Ste(r))},kw=Tn,qE=ME,vte=qE.all,yo=qE.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:kw(r)||r===vte}:function(r){return typeof r=="object"?r!==null:kw(r)},vu={},qm=vu,Lm=pi,wte=Tn,Ew=function(r){return wte(r)?r:void 0},Ns=function(r,e){return arguments.length<2?Ew(qm[r])||Ew(Lm[r]):qm[r]&&qm[r][e]||Lm[r]&&Lm[r][e]},$te=Jr,LE=$te({}.isPrototypeOf),Cte=typeof navigator<"u"&&String(navigator.userAgent)||"",jE=pi,jm=Cte,Qw=jE.process,Nw=jE.Deno,Iw=Qw&&Qw.versions||Nw&&Nw.version,Rw=Iw&&Iw.v8,$i,Sd;Rw&&($i=Rw.split("."),Sd=$i[0]>0&&$i[0]<4?1:+($i[0]+$i[1]));!Sd&&jm&&($i=jm.match(/Edge\/(\d+)/),(!$i||$i[1]>=74)&&($i=jm.match(/Chrome\/(\d+)/),$i&&(Sd=+$i[1])));var O1=Sd,Mw=O1,Tte=Cn,Al=!!Object.getOwnPropertySymbols&&!Tte(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&Mw&&Mw<41}),Pte=Al,VE=Pte&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_te=Ns,Ate=Tn,kte=LE,Ete=VE,Qte=Object,wu=Ete?function(r){return typeof r=="symbol"}:function(r){var e=_te("Symbol");return Ate(e)&&kte(e.prototype,Qte(r))},Nte=String,ZE=function(r){try{return Nte(r)}catch{return"Object"}},Ite=Tn,Rte=ZE,Mte=TypeError,WE=function(r){if(Ite(r))return r;throw Mte(Rte(r)+" is not a function")},Bte=WE,zte=UE,Fte=function(r,e){var t=r[e];return zte(t)?void 0:Bte(t)},Vm=ha,Zm=Tn,Wm=yo,Dte=TypeError,Ute=function(r,e){var t,n;if(e==="string"&&Zm(t=r.toString)&&!Wm(n=Vm(t,r))||Zm(t=r.valueOf)&&!Wm(n=Vm(t,r))||e!=="string"&&Zm(t=r.toString)&&!Wm(n=Vm(t,r)))return n;throw Dte("Can't convert object to primitive value")},ho={},qte={get exports(){return ho},set exports(r){ho=r}},Bw=pi,Lte=Object.defineProperty,jte=function(r,e){try{Lte(Bw,r,{value:e,configurable:!0,writable:!0})}catch{Bw[r]=e}return e},Vte=pi,Zte=jte,zw="__core-js_shared__",Wte=Vte[zw]||Zte(zw,{}),y1=Wte,Fw=y1;(qte.exports=function(r,e){return Fw[r]||(Fw[r]=e!==void 0?e:{})})("versions",[]).push({version:"3.29.1",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Xte=g1,Yte=Object,$u=function(r){return Yte(Xte(r))},Gte=Jr,Hte=$u,Kte=Gte({}.hasOwnProperty),mi=Object.hasOwn||function(e,t){return Kte(Hte(e),t)},Jte=Jr,ere=0,tre=Math.random(),rre=Jte(1 .toString),x1=function(r){return"Symbol("+(r===void 0?"":r)+")_"+rre(++ere+tre,36)},nre=pi,ire=ho,Dw=mi,sre=x1,ore=Al,are=VE,Wa=nre.Symbol,Xm=ire("wks"),lre=are?Wa.for||Wa:Wa&&Wa.withoutSetter||sre,zn=function(r){return Dw(Xm,r)||(Xm[r]=ore&&Dw(Wa,r)?Wa[r]:lre("Symbol."+r)),Xm[r]},cre=ha,Uw=yo,qw=wu,ure=Fte,fre=Ute,hre=zn,dre=TypeError,pre=hre("toPrimitive"),mre=function(r,e){if(!Uw(r)||qw(r))return r;var t=ure(r,pre),n;if(t){if(e===void 0&&(e="default"),n=cre(t,r,e),!Uw(n)||qw(n))return n;throw dre("Can't convert object to primitive value")}return e===void 0&&(e="number"),fre(r,e)},gre=mre,Ore=wu,gp=function(r){var e=gre(r,"string");return Ore(e)?e:e+""},yre=pi,Lw=yo,r0=yre.document,xre=Lw(r0)&&Lw(r0.createElement),XE=function(r){return xre?r0.createElement(r):{}},bre=Qs,Sre=Cn,vre=XE,YE=!bre&&!Sre(function(){return Object.defineProperty(vre("div"),"a",{get:function(){return 7}}).a!=7}),wre=Qs,$re=ha,Cre=m1,Tre=Su,Pre=da,_re=gp,Are=mi,kre=YE,jw=Object.getOwnPropertyDescriptor;p1.f=wre?jw:function(e,t){if(e=Pre(e),t=_re(t),kre)try{return jw(e,t)}catch{}if(Are(e,t))return Tre(!$re(Cre.f,e,t),e[t])};var Ere=Cn,Qre=Tn,Nre=/#|\.prototype\./,Cu=function(r,e){var t=Rre[Ire(r)];return t==Bre?!0:t==Mre?!1:Qre(e)?Ere(e):!!e},Ire=Cu.normalize=function(r){return String(r).replace(Nre,".").toLowerCase()},Rre=Cu.data={},Mre=Cu.NATIVE="N",Bre=Cu.POLYFILL="P",zre=Cu,Vw=RE,Fre=WE,Dre=mp,Ure=Vw(Vw.bind),GE=function(r,e){return Fre(r),e===void 0?r:Dre?Ure(r,e):function(){return r.apply(e,arguments)}},os={},qre=Qs,Lre=Cn,HE=qre&&Lre(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),jre=yo,Vre=String,Zre=TypeError,Op=function(r){if(jre(r))return r;throw Zre(Vre(r)+" is not an object")},Wre=Qs,Xre=YE,Yre=HE,kf=Op,Zw=gp,Gre=TypeError,Ym=Object.defineProperty,Hre=Object.getOwnPropertyDescriptor,Gm="enumerable",Hm="configurable",Km="writable";os.f=Wre?Yre?function(e,t,n){if(kf(e),t=Zw(t),kf(n),typeof e=="function"&&t==="prototype"&&"value"in n&&Km in n&&!n[Km]){var i=Hre(e,t);i&&i[Km]&&(e[t]=n.value,n={configurable:Hm in n?n[Hm]:i[Hm],enumerable:Gm in n?n[Gm]:i[Gm],writable:!1})}return Ym(e,t,n)}:Ym:function(e,t,n){if(kf(e),t=Zw(t),kf(n),Xre)try{return Ym(e,t,n)}catch{}if("get"in n||"set"in n)throw Gre("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Kre=Qs,Jre=os,ene=Su,Tu=Kre?function(r,e,t){return Jre.f(r,e,ene(1,t))}:function(r,e,t){return r[e]=t,r},Ef=pi,tne=EE,rne=RE,nne=Tn,ine=p1.f,sne=zre,Ea=vu,one=GE,Qa=Tu,Ww=mi,ane=function(r){var e=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,n)}return new r(t,n,i)}return tne(r,this,arguments)};return e.prototype=r.prototype,e},as=function(r,e){var t=r.target,n=r.global,i=r.stat,s=r.proto,o=n?Ef:i?Ef[t]:(Ef[t]||{}).prototype,a=n?Ea:Ea[t]||Qa(Ea,t,{})[t],l=a.prototype,c,u,f,d,g,y,T,k,U;for(d in e)c=sne(n?d:t+(i?".":"#")+d,r.forced),u=!c&&o&&Ww(o,d),y=a[d],u&&(r.dontCallGetSet?(U=ine(o,d),T=U&&U.value):T=o[d]),g=u&&T?T:e[d],!(u&&typeof y==typeof g)&&(r.bind&&u?k=one(g,Ef):r.wrap&&u?k=ane(g):s&&nne(g)?k=rne(g):k=g,(r.sham||g&&g.sham||y&&y.sham)&&Qa(k,"sham",!0),Qa(a,d,k),s&&(f=t+"Prototype",Ww(Ea,f)||Qa(Ea,f,{}),Qa(Ea[f],d,g),r.real&&l&&(c||!l[d])&&Qa(l,d,g)))},lne=as,cne=Qs,Xw=os.f;lne({target:"Object",stat:!0,forced:Object.defineProperty!==Xw,sham:!cne},{defineProperty:Xw});var une=vu,KE=une.Object,fne=tte.exports=function(e,t,n){return KE.defineProperty(e,t,n)};KE.defineProperty.sham&&(fne.sham=!0);var hne=JO,dne=hne,pne=dne,mne=pne,gne=mne,One=gne;(function(r){r.exports=One})(ete);(function(r){r.exports=KO})(Jee);const yne=rp(HO);var n0={},xne={get exports(){return n0},set exports(r){n0=r}},i0={},bne={get exports(){return i0},set exports(r){i0=r}},Sne=_l,b1=Array.isArray||function(e){return Sne(e)=="Array"},vne=Math.ceil,wne=Math.floor,$ne=Math.trunc||function(e){var t=+e;return(t>0?wne:vne)(t)},Cne=$ne,S1=function(r){var e=+r;return e!==e||e===0?0:Cne(e)},Tne=S1,Pne=Math.min,_ne=function(r){return r>0?Pne(Tne(r),9007199254740991):0},Ane=_ne,yp=function(r){return Ane(r.length)},kne=TypeError,Ene=9007199254740991,Qne=function(r){if(r>Ene)throw kne("Maximum allowed index exceeded");return r},Nne=gp,Ine=os,Rne=Su,JE=function(r,e,t){var n=Nne(e);n in r?Ine.f(r,n,Rne(0,t)):r[n]=t},Mne=zn,Bne=Mne("toStringTag"),eQ={};eQ[Bne]="z";var v1=String(eQ)==="[object z]",zne=v1,Fne=Tn,ph=_l,Dne=zn,Une=Dne("toStringTag"),qne=Object,Lne=ph(function(){return arguments}())=="Arguments",jne=function(r,e){try{return r[e]}catch{}},xp=zne?ph:function(r){var e,t,n;return r===void 0?"Undefined":r===null?"Null":typeof(t=jne(e=qne(r),Une))=="string"?t:Lne?ph(e):(n=ph(e))=="Object"&&Fne(e.callee)?"Arguments":n},Vne=Jr,Zne=Tn,s0=y1,Wne=Vne(Function.toString);Zne(s0.inspectSource)||(s0.inspectSource=function(r){return Wne(r)});var Xne=s0.inspectSource,Yne=Jr,Gne=Cn,tQ=Tn,Hne=xp,Kne=Ns,Jne=Xne,rQ=function(){},eie=[],nQ=Kne("Reflect","construct"),w1=/^\s*(?:class|function)\b/,tie=Yne(w1.exec),rie=!w1.exec(rQ),Zl=function(e){if(!tQ(e))return!1;try{return nQ(rQ,eie,e),!0}catch{return!1}},iQ=function(e){if(!tQ(e))return!1;switch(Hne(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rie||!!tie(w1,Jne(e))}catch{return!0}};iQ.sham=!0;var nie=!nQ||Gne(function(){var r;return Zl(Zl.call)||!Zl(Object)||!Zl(function(){r=!0})||r})?iQ:Zl,Yw=b1,iie=nie,sie=yo,oie=zn,aie=oie("species"),Gw=Array,lie=function(r){var e;return Yw(r)&&(e=r.constructor,iie(e)&&(e===Gw||Yw(e.prototype))?e=void 0:sie(e)&&(e=e[aie],e===null&&(e=void 0))),e===void 0?Gw:e},cie=lie,sQ=function(r,e){return new(cie(r))(e===0?0:e)},uie=Cn,fie=zn,hie=O1,die=fie("species"),pie=function(r){return hie>=51||!uie(function(){var e=[],t=e.constructor={};return t[die]=function(){return{foo:1}},e[r](Boolean).foo!==1})},mie=as,gie=Cn,Oie=b1,yie=yo,xie=$u,bie=yp,Hw=Qne,Kw=JE,Sie=sQ,vie=pie,wie=zn,$ie=O1,oQ=wie("isConcatSpreadable"),Cie=$ie>=51||!gie(function(){var r=[];return r[oQ]=!1,r.concat()[0]!==r}),Tie=function(r){if(!yie(r))return!1;var e=r[oQ];return e!==void 0?!!e:Oie(r)},Pie=!Cie||!vie("concat");mie({target:"Array",proto:!0,arity:1,forced:Pie},{concat:function(e){var t=xie(this),n=Sie(t,0),i=0,s,o,a,l,c;for(s=-1,a=arguments.length;s<a;s++)if(c=s===-1?t:arguments[s],Tie(c))for(l=bie(c),Hw(i+l),o=0;o<l;o++,i++)o in c&&Kw(n,i,c[o]);else Hw(i+1),Kw(n,i++,c);return n.length=i,n}});var _ie=xp,Aie=String,Pu=function(r){if(_ie(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Aie(r)},$1={},kie=S1,Eie=Math.max,Qie=Math.min,aQ=function(r,e){var t=kie(r);return t<0?Eie(t+e,0):Qie(t,e)},Nie=da,Iie=aQ,Rie=yp,Jw=function(r){return function(e,t,n){var i=Nie(e),s=Rie(i),o=Iie(n,s),a;if(r&&t!=t){for(;s>o;)if(a=i[o++],a!=a)return!0}else for(;s>o;o++)if((r||o in i)&&i[o]===t)return r||o||0;return!r&&-1}},Mie={includes:Jw(!0),indexOf:Jw(!1)},bp={},Bie=Jr,Jm=mi,zie=da,Fie=Mie.indexOf,Die=bp,e$=Bie([].push),lQ=function(r,e){var t=zie(r),n=0,i=[],s;for(s in t)!Jm(Die,s)&&Jm(t,s)&&e$(i,s);for(;e.length>n;)Jm(t,s=e[n++])&&(~Fie(i,s)||e$(i,s));return i},C1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Uie=lQ,qie=C1,cQ=Object.keys||function(e){return Uie(e,qie)},Lie=Qs,jie=HE,Vie=os,Zie=Op,Wie=da,Xie=cQ;$1.f=Lie&&!jie?Object.defineProperties:function(e,t){Zie(e);for(var n=Wie(t),i=Xie(t),s=i.length,o=0,a;s>o;)Vie.f(e,a=i[o++],n[a]);return e};var Yie=Ns,Gie=Yie("document","documentElement"),Hie=ho,Kie=x1,t$=Hie("keys"),Sp=function(r){return t$[r]||(t$[r]=Kie(r))},Jie=Op,ese=$1,r$=C1,tse=bp,rse=Gie,nse=XE,ise=Sp,n$=">",i$="<",o0="prototype",a0="script",uQ=ise("IE_PROTO"),eg=function(){},fQ=function(r){return i$+a0+n$+r+i$+"/"+a0+n$},s$=function(r){r.write(fQ("")),r.close();var e=r.parentWindow.Object;return r=null,e},sse=function(){var r=nse("iframe"),e="java"+a0+":",t;return r.style.display="none",rse.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(fQ("document.F=Object")),t.close(),t.F},Qf,mh=function(){try{Qf=new ActiveXObject("htmlfile")}catch{}mh=typeof document<"u"?document.domain&&Qf?s$(Qf):sse():s$(Qf);for(var r=r$.length;r--;)delete mh[o0][r$[r]];return mh()};tse[uQ]=!0;var T1=Object.create||function(e,t){var n;return e!==null?(eg[o0]=Jie(e),n=new eg,eg[o0]=null,n[uQ]=e):n=mh(),t===void 0?n:ese.f(n,t)},P1={},ose=lQ,ase=C1,lse=ase.concat("length","prototype");P1.f=Object.getOwnPropertyNames||function(e){return ose(e,lse)};var hQ={},o$=aQ,cse=yp,use=JE,fse=Array,hse=Math.max,dse=function(r,e,t){for(var n=cse(r),i=o$(e,n),s=o$(t===void 0?n:t,n),o=fse(hse(s-i,0)),a=0;i<s;i++,a++)use(o,a,r[i]);return o.length=a,o},pse=_l,mse=da,dQ=P1.f,gse=dse,pQ=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ose=function(r){try{return dQ(r)}catch{return gse(pQ)}};hQ.f=function(e){return pQ&&pse(e)=="Window"?Ose(e):dQ(mse(e))};var _1={};_1.f=Object.getOwnPropertySymbols;var yse=Tu,vp=function(r,e,t,n){return n&&n.enumerable?r[e]=t:yse(r,e,t),r},xse=os,bse=function(r,e,t){return xse.f(r,e,t)},_u={},Sse=zn;_u.f=Sse;var a$=vu,vse=mi,wse=_u,$se=os.f,hr=function(r){var e=a$.Symbol||(a$.Symbol={});vse(e,r)||$se(e,r,{value:wse.f(r)})},Cse=ha,Tse=Ns,Pse=zn,_se=vp,mQ=function(){var r=Tse("Symbol"),e=r&&r.prototype,t=e&&e.valueOf,n=Pse("toPrimitive");e&&!e[n]&&_se(e,n,function(i){return Cse(t,this)},{arity:1})},Ase=v1,kse=xp,Ese=Ase?{}.toString:function(){return"[object "+kse(this)+"]"},Qse=v1,Nse=os.f,Ise=Tu,Rse=mi,Mse=Ese,Bse=zn,l$=Bse("toStringTag"),Au=function(r,e,t,n){if(r){var i=t?r:r.prototype;Rse(i,l$)||Nse(i,l$,{configurable:!0,value:e}),n&&!Qse&&Ise(i,"toString",Mse)}},zse=pi,Fse=Tn,c$=zse.WeakMap,Dse=Fse(c$)&&/native code/.test(String(c$)),Use=Dse,gQ=pi,qse=yo,Lse=Tu,tg=mi,rg=y1,jse=Sp,Vse=bp,u$="Object already initialized",l0=gQ.TypeError,Zse=gQ.WeakMap,vd,Zc,wd,Wse=function(r){return wd(r)?Zc(r):vd(r,{})},Xse=function(r){return function(e){var t;if(!qse(e)||(t=Zc(e)).type!==r)throw l0("Incompatible receiver, "+r+" required");return t}};if(Use||rg.state){var Bi=rg.state||(rg.state=new Zse);Bi.get=Bi.get,Bi.has=Bi.has,Bi.set=Bi.set,vd=function(r,e){if(Bi.has(r))throw l0(u$);return e.facade=r,Bi.set(r,e),e},Zc=function(r){return Bi.get(r)||{}},wd=function(r){return Bi.has(r)}}else{var Na=jse("state");Vse[Na]=!0,vd=function(r,e){if(tg(r,Na))throw l0(u$);return e.facade=r,Lse(r,Na,e),e},Zc=function(r){return tg(r,Na)?r[Na]:{}},wd=function(r){return tg(r,Na)}}var A1={set:vd,get:Zc,has:wd,enforce:Wse,getterFor:Xse},Yse=GE,Gse=Jr,Hse=DE,Kse=$u,Jse=yp,eoe=sQ,f$=Gse([].push),zs=function(r){var e=r==1,t=r==2,n=r==3,i=r==4,s=r==6,o=r==7,a=r==5||s;return function(l,c,u,f){for(var d=Kse(l),g=Hse(d),y=Yse(c,u),T=Jse(g),k=0,U=f||eoe,_=e?U(l,T):t||o?U(l,0):void 0,G,D;T>k;k++)if((a||k in g)&&(G=g[k],D=y(G,k,d),r))if(e)_[k]=D;else if(D)switch(r){case 3:return!0;case 5:return G;case 6:return k;case 2:f$(_,G)}else switch(r){case 4:return!1;case 7:f$(_,G)}return s?-1:n||i?i:_}},toe={forEach:zs(0),map:zs(1),filter:zs(2),some:zs(3),every:zs(4),find:zs(5),findIndex:zs(6),filterReject:zs(7)},wp=as,k1=pi,E1=ha,roe=Jr,Ol=Qs,yl=Al,noe=Cn,Dr=mi,ioe=LE,c0=Op,$p=da,Q1=gp,soe=Pu,u0=Su,Wc=T1,OQ=cQ,ooe=P1,yQ=hQ,aoe=_1,xQ=p1,bQ=os,loe=$1,SQ=m1,h$=vp,coe=bse,N1=ho,uoe=Sp,vQ=bp,d$=x1,foe=zn,hoe=_u,doe=hr,poe=mQ,moe=Au,wQ=A1,Cp=toe.forEach,Qn=uoe("hidden"),Tp="Symbol",Xc="prototype",goe=wQ.set,p$=wQ.getterFor(Tp),Pi=Object[Xc],Go=k1.Symbol,sc=Go&&Go[Xc],Ooe=k1.TypeError,ng=k1.QObject,$Q=xQ.f,Bo=bQ.f,CQ=yQ.f,yoe=SQ.f,TQ=roe([].push),Ts=N1("symbols"),ku=N1("op-symbols"),xoe=N1("wks"),f0=!ng||!ng[Xc]||!ng[Xc].findChild,h0=Ol&&noe(function(){return Wc(Bo({},"a",{get:function(){return Bo(this,"a",{value:7}).a}})).a!=7})?function(r,e,t){var n=$Q(Pi,e);n&&delete Pi[e],Bo(r,e,t),n&&r!==Pi&&Bo(Pi,e,n)}:Bo,ig=function(r,e){var t=Ts[r]=Wc(sc);return goe(t,{type:Tp,tag:r,description:e}),Ol||(t.description=e),t},Pp=function(e,t,n){e===Pi&&Pp(ku,t,n),c0(e);var i=Q1(t);return c0(n),Dr(Ts,i)?(n.enumerable?(Dr(e,Qn)&&e[Qn][i]&&(e[Qn][i]=!1),n=Wc(n,{enumerable:u0(0,!1)})):(Dr(e,Qn)||Bo(e,Qn,u0(1,{})),e[Qn][i]=!0),h0(e,i,n)):Bo(e,i,n)},I1=function(e,t){c0(e);var n=$p(t),i=OQ(n).concat(kQ(n));return Cp(i,function(s){(!Ol||E1(PQ,n,s))&&Pp(e,s,n[s])}),e},boe=function(e,t){return t===void 0?Wc(e):I1(Wc(e),t)},PQ=function(e){var t=Q1(e),n=E1(yoe,this,t);return this===Pi&&Dr(Ts,t)&&!Dr(ku,t)?!1:n||!Dr(this,t)||!Dr(Ts,t)||Dr(this,Qn)&&this[Qn][t]?n:!0},_Q=function(e,t){var n=$p(e),i=Q1(t);if(!(n===Pi&&Dr(Ts,i)&&!Dr(ku,i))){var s=$Q(n,i);return s&&Dr(Ts,i)&&!(Dr(n,Qn)&&n[Qn][i])&&(s.enumerable=!0),s}},AQ=function(e){var t=CQ($p(e)),n=[];return Cp(t,function(i){!Dr(Ts,i)&&!Dr(vQ,i)&&TQ(n,i)}),n},kQ=function(r){var e=r===Pi,t=CQ(e?ku:$p(r)),n=[];return Cp(t,function(i){Dr(Ts,i)&&(!e||Dr(Pi,i))&&TQ(n,Ts[i])}),n};yl||(Go=function(){if(ioe(sc,this))throw Ooe("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:soe(arguments[0]),t=d$(e),n=function(i){this===Pi&&E1(n,ku,i),Dr(this,Qn)&&Dr(this[Qn],t)&&(this[Qn][t]=!1),h0(this,t,u0(1,i))};return Ol&&f0&&h0(Pi,t,{configurable:!0,set:n}),ig(t,e)},sc=Go[Xc],h$(sc,"toString",function(){return p$(this).tag}),h$(Go,"withoutSetter",function(r){return ig(d$(r),r)}),SQ.f=PQ,bQ.f=Pp,loe.f=I1,xQ.f=_Q,ooe.f=yQ.f=AQ,aoe.f=kQ,hoe.f=function(r){return ig(foe(r),r)},Ol&&coe(sc,"description",{configurable:!0,get:function(){return p$(this).description}}));wp({global:!0,constructor:!0,wrap:!0,forced:!yl,sham:!yl},{Symbol:Go});Cp(OQ(xoe),function(r){doe(r)});wp({target:Tp,stat:!0,forced:!yl},{useSetter:function(){f0=!0},useSimple:function(){f0=!1}});wp({target:"Object",stat:!0,forced:!yl,sham:!Ol},{create:boe,defineProperty:Pp,defineProperties:I1,getOwnPropertyDescriptor:_Q});wp({target:"Object",stat:!0,forced:!yl},{getOwnPropertyNames:AQ});poe();moe(Go,Tp);vQ[Qn]=!0;var Soe=Al,EQ=Soe&&!!Symbol.for&&!!Symbol.keyFor,voe=as,woe=Ns,$oe=mi,Coe=Pu,QQ=ho,Toe=EQ,sg=QQ("string-to-symbol-registry"),Poe=QQ("symbol-to-string-registry");voe({target:"Symbol",stat:!0,forced:!Toe},{for:function(r){var e=Coe(r);if($oe(sg,e))return sg[e];var t=woe("Symbol")(e);return sg[e]=t,Poe[t]=e,t}});var _oe=as,Aoe=mi,koe=wu,Eoe=ZE,Qoe=ho,Noe=EQ,m$=Qoe("symbol-to-string-registry");_oe({target:"Symbol",stat:!0,forced:!Noe},{keyFor:function(e){if(!koe(e))throw TypeError(Eoe(e)+" is not a symbol");if(Aoe(m$,e))return m$[e]}});var Ioe=Jr,Roe=Ioe([].slice),Moe=Jr,g$=b1,Boe=Tn,O$=_l,zoe=Pu,y$=Moe([].push),Foe=function(r){if(Boe(r))return r;if(g$(r)){for(var e=r.length,t=[],n=0;n<e;n++){var i=r[n];typeof i=="string"?y$(t,i):(typeof i=="number"||O$(i)=="Number"||O$(i)=="String")&&y$(t,zoe(i))}var s=t.length,o=!0;return function(a,l){if(o)return o=!1,l;if(g$(this))return l;for(var c=0;c<s;c++)if(t[c]===a)return l}}},Doe=as,NQ=Ns,IQ=EE,Uoe=ha,Eu=Jr,RQ=Cn,x$=Tn,b$=wu,MQ=Roe,qoe=Foe,Loe=Al,joe=String,to=NQ("JSON","stringify"),Nf=Eu(/./.exec),S$=Eu("".charAt),Voe=Eu("".charCodeAt),Zoe=Eu("".replace),Woe=Eu(1 .toString),Xoe=/[\uD800-\uDFFF]/g,v$=/^[\uD800-\uDBFF]$/,w$=/^[\uDC00-\uDFFF]$/,$$=!Loe||RQ(function(){var r=NQ("Symbol")();return to([r])!="[null]"||to({a:r})!="{}"||to(Object(r))!="{}"}),C$=RQ(function(){return to("\uDF06\uD834")!=='"\\udf06\\ud834"'||to("\uDEAD")!=='"\\udead"'}),Yoe=function(r,e){var t=MQ(arguments),n=qoe(e);if(!(!x$(n)&&(r===void 0||b$(r))))return t[1]=function(i,s){if(x$(n)&&(s=Uoe(n,this,joe(i),s)),!b$(s))return s},IQ(to,null,t)},Goe=function(r,e,t){var n=S$(t,e-1),i=S$(t,e+1);return Nf(v$,r)&&!Nf(w$,i)||Nf(w$,r)&&!Nf(v$,n)?"\\u"+Woe(Voe(r,0),16):r};to&&Doe({target:"JSON",stat:!0,arity:3,forced:$$||C$},{stringify:function(e,t,n){var i=MQ(arguments),s=IQ($$?Yoe:to,null,i);return C$&&typeof s=="string"?Zoe(s,Xoe,Goe):s}});var Hoe=as,Koe=Al,Joe=Cn,BQ=_1,eae=$u,tae=!Koe||Joe(function(){BQ.f(1)});Hoe({target:"Object",stat:!0,forced:tae},{getOwnPropertySymbols:function(e){var t=BQ.f;return t?t(eae(e)):[]}});var rae=hr;rae("asyncIterator");var nae=hr;nae("hasInstance");var iae=hr;iae("isConcatSpreadable");var sae=hr;sae("iterator");var oae=hr;oae("match");var aae=hr;aae("matchAll");var lae=hr;lae("replace");var cae=hr;cae("search");var uae=hr;uae("species");var fae=hr;fae("split");var hae=hr,dae=mQ;hae("toPrimitive");dae();var pae=Ns,mae=hr,gae=Au;mae("toStringTag");gae(pae("Symbol"),"Symbol");var Oae=hr;Oae("unscopables");var yae=pi,xae=Au;xae(yae.JSON,"JSON",!0);var bae=vu,Sae=bae.Symbol,_p={},d0=Qs,vae=mi,zQ=Function.prototype,wae=d0&&Object.getOwnPropertyDescriptor,R1=vae(zQ,"name"),$ae=R1&&function(){}.name==="something",Cae=R1&&(!d0||d0&&wae(zQ,"name").configurable),Tae={EXISTS:R1,PROPER:$ae,CONFIGURABLE:Cae},Pae=Cn,_ae=!Pae(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),Aae=mi,kae=Tn,Eae=$u,Qae=Sp,Nae=_ae,T$=Qae("IE_PROTO"),p0=Object,Iae=p0.prototype,FQ=Nae?p0.getPrototypeOf:function(r){var e=Eae(r);if(Aae(e,T$))return e[T$];var t=e.constructor;return kae(t)&&e instanceof t?t.prototype:e instanceof p0?Iae:null},Rae=Cn,Mae=Tn,Bae=yo,zae=T1,P$=FQ,Fae=vp,Dae=zn,m0=Dae("iterator"),DQ=!1,Ss,og,ag;[].keys&&(ag=[].keys(),"next"in ag?(og=P$(P$(ag)),og!==Object.prototype&&(Ss=og)):DQ=!0);var Uae=!Bae(Ss)||Rae(function(){var r={};return Ss[m0].call(r)!==r});Uae?Ss={}:Ss=zae(Ss);Mae(Ss[m0])||Fae(Ss,m0,function(){return this});var UQ={IteratorPrototype:Ss,BUGGY_SAFARI_ITERATORS:DQ},qae=UQ.IteratorPrototype,Lae=T1,jae=Su,Vae=Au,Zae=_p,Wae=function(){return this},Xae=function(r,e,t,n){var i=e+" Iterator";return r.prototype=Lae(qae,{next:jae(+!n,t)}),Vae(r,i,!1,!0),Zae[i]=Wae,r},Yae=as,Gae=ha,Hae=Tae,Kae=Xae,Jae=FQ,ele=Au,_$=vp,tle=zn,A$=_p,rle=UQ,nle=Hae.PROPER,If=rle.BUGGY_SAFARI_ITERATORS,lg=tle("iterator"),k$="keys",Rf="values",E$="entries",ile=function(){return this},qQ=function(r,e,t,n,i,s,o){Kae(t,e,n);var a=function(U){if(U===i&&d)return d;if(!If&&U in u)return u[U];switch(U){case k$:return function(){return new t(this,U)};case Rf:return function(){return new t(this,U)};case E$:return function(){return new t(this,U)}}return function(){return new t(this)}},l=e+" Iterator",c=!1,u=r.prototype,f=u[lg]||u["@@iterator"]||i&&u[i],d=!If&&f||a(i),g=e=="Array"&&u.entries||f,y,T,k;if(g&&(y=Jae(g.call(new r)),y!==Object.prototype&&y.next&&(ele(y,l,!0,!0),A$[l]=ile)),nle&&i==Rf&&f&&f.name!==Rf&&(c=!0,d=function(){return Gae(f,this)}),i)if(T={values:a(Rf),keys:s?d:a(k$),entries:a(E$)},o)for(k in T)(If||c||!(k in u))&&_$(u,k,T[k]);else Yae({target:e,proto:!0,forced:If||c},T);return o&&u[lg]!==d&&_$(u,lg,d,{name:i}),A$[e]=d,T},LQ=function(r,e){return{value:r,done:e}},sle=da,Q$=_p,jQ=A1;os.f;var ole=qQ,Mf=LQ,VQ="Array Iterator",ale=jQ.set,lle=jQ.getterFor(VQ);ole(Array,"Array",function(r,e){ale(this,{type:VQ,target:sle(r),index:0,kind:e})},function(){var r=lle(this),e=r.target,t=r.kind,n=r.index++;return!e||n>=e.length?(r.target=void 0,Mf(void 0,!0)):t=="keys"?Mf(n,!1):t=="values"?Mf(e[n],!1):Mf([n,e[n]],!1)},"values");Q$.Arguments=Q$.Array;var cle={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ule=cle,fle=pi,hle=xp,dle=Tu,N$=_p,ple=zn,I$=ple("toStringTag");for(var cg in ule){var R$=fle[cg],ug=R$&&R$.prototype;ug&&hle(ug)!==I$&&dle(ug,I$,cg),N$[cg]=N$.Array}var mle=Sae,gle=mle,Ole=hr;Ole("dispose");var yle=gle,xle=yle,ble=hr;ble("asyncDispose");var Sle=as,vle=Ns,wle=Jr,ZQ=vle("Symbol"),$le=ZQ.keyFor,Cle=wle(ZQ.prototype.valueOf);Sle({target:"Symbol",stat:!0},{isRegistered:function(e){try{return $le(Cle(e))!==void 0}catch{return!1}}});var Tle=as,Ple=ho,WQ=Ns,_le=Jr,Ale=wu,kle=zn,$d=WQ("Symbol"),M$=$d.isWellKnown,XQ=WQ("Object","getOwnPropertyNames"),Ele=_le($d.prototype.valueOf),B$=Ple("wks");for(var fg=0,z$=XQ($d),Qle=z$.length;fg<Qle;fg++)try{var F$=z$[fg];Ale($d[F$])&&kle(F$)}catch{}Tle({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(e){if(M$&&M$(e))return!0;try{for(var t=Ele(e),n=0,i=XQ(B$),s=i.length;n<s;n++)if(B$[i[n]]==t)return!0}catch{}return!1}});var Nle=hr;Nle("matcher");var Ile=hr;Ile("metadataKey");var Rle=hr;Rle("observable");var Mle=hr;Mle("metadata");var Ble=hr;Ble("patternMatch");var zle=hr;zle("replaceAll");var Fle=xle,Dle=Fle;(function(r){r.exports=Dle})(bne);(function(r){r.exports=i0})(xne);const Bf=rp(n0);var g0={},Ule={get exports(){return g0},set exports(r){g0=r}},O0={},qle={get exports(){return O0},set exports(r){O0=r}},M1=Jr,Lle=S1,jle=Pu,Vle=g1,Zle=M1("".charAt),D$=M1("".charCodeAt),Wle=M1("".slice),U$=function(r){return function(e,t){var n=jle(Vle(e)),i=Lle(t),s=n.length,o,a;return i<0||i>=s?r?"":void 0:(o=D$(n,i),o<55296||o>56319||i+1===s||(a=D$(n,i+1))<56320||a>57343?r?Zle(n,i):o:r?Wle(n,i,i+2):(o-55296<<10)+(a-56320)+65536)}},Xle={codeAt:U$(!1),charAt:U$(!0)},Yle=Xle.charAt,Gle=Pu,YQ=A1,Hle=qQ,q$=LQ,GQ="String Iterator",Kle=YQ.set,Jle=YQ.getterFor(GQ);Hle(String,"String",function(r){Kle(this,{type:GQ,string:Gle(r),index:0})},function(){var e=Jle(this),t=e.string,n=e.index,i;return n>=t.length?q$(void 0,!0):(i=Yle(t,n),e.index+=i.length,q$(i,!1))});var ece=_u,tce=ece.f("iterator"),rce=tce,nce=rce,ice=nce,sce=ice,oce=sce,ace=oce;(function(r){r.exports=ace})(qle);(function(r){r.exports=O0})(Ule);const lce=rp(g0);function Yc(r){return Yc=typeof Bf=="function"&&typeof lce=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Bf=="function"&&e.constructor===Bf&&e!==Bf.prototype?"symbol":typeof e},Yc(r)}var y0={},cce={get exports(){return y0},set exports(r){y0=r}},x0={},uce={get exports(){return x0},set exports(r){x0=r}},fce=_u,hce=fce.f("toPrimitive"),dce=hce,pce=dce,mce=pce,gce=mce,Oce=gce,yce=Oce;(function(r){r.exports=yce})(uce);(function(r){r.exports=x0})(cce);const xce=rp(y0);function bce(r,e){if(Yc(r)!=="object"||r===null)return r;var t=r[xce];if(t!==void 0){var n=t.call(r,e||"default");if(Yc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Sce(r){var e=bce(r,"string");return Yc(e)==="symbol"?e:String(e)}function wr(r,e,t){return e=Sce(e),e in r?yne(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}const{Buffer:vce}=ur;async function wce(r,e,t){return t.onAccount.sign($s([vce.from(await t.onNode.getNetworkId()),...t.omitAddress===!0?[]:[St(t.onAccount.address)],...e.map(n=>Vy(n)?Ly(n):n).map(n=>St(n)),St(r)]),t)}function b0(r){return new Proxy({},{...Object.fromEntries(["apply","construct","defineProperty","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"].map(e=>[e,()=>{throw new pl(`${e} proxy request`)}])),get(e,t,n){const i=r(),s=Reflect.get(i,t,n);return typeof s=="function"?s.bind(i):s},has(e,t){return Reflect.has(r(),t)}})}const{InvalidTxError:Zde,...$ce}=CW,Cce={...$ce,..._W,...Xee,...jee,createDelegationSignature:wce,...Kee};class HQ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wr(this,"_options",{}),Object.assign(this._options,e)}_resolveAccount(e){if(typeof e=="string")throw new pl("Address in AccountResolver");if(typeof e=="object")return e;throw new sd(`Account should be an address (ak-prefixed string), or instance of AccountBase, got ${String(e)} instead`)}_getOptions(){return{...this._options,onAccount:b0(()=>this._resolveAccount())}}async buildTx(e){return Qr({...this._getOptions(),...e})}async initializeContract(e){const{onNode:t,onCompiler:n,...i}=this._getOptions();if(n==null||t==null)throw new Dt("onCompiler, onNode","provided",null);return $E.initialize({...i,onNode:t,onCompiler:n,...e})}}Object.assign(HQ.prototype,du(Cce,r=>{let[e,t]=r;return[e,function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];s.length=t.length;const a=s[s.length-1];return s[s.length-1]={...this._getOptions(),...a,...(a==null?void 0:a.onAccount)!=null&&{onAccount:this._resolveAccount(a.onAccount)}},t(...s)}]}));const Tce=HQ;class KQ extends Tce{constructor(){let{nodes:e=[],...t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),wr(this,"pool",new Map),e.forEach((n,i)=>{let{name:s,instance:o}=n;return this.addNode(s,o,i===0)})}get compilerApi(){if(this._options.onCompiler==null)throw new E2("You can't use Compiler API. Compiler is not ready!");return this._options.onCompiler}get api(){return this.ensureNodeConnected(),this.pool.get(this.selectedNodeName)}addNode(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.pool.has(e))throw new C4(e);this.pool.set(e,t),(n||this.selectedNodeName==null)&&this.selectNode(e)}selectNode(e){if(!this.pool.has(e))throw new IS(`Node with name ${e} not in pool`);this.selectedNodeName=e}isNodeConnected(){return this.selectedNodeName!=null}ensureNodeConnected(){if(!this.isNodeConnected())throw new IS("You can't use Node API. Node is not connected or not defined!")}async getNodeInfo(){return this.ensureNodeConnected(),{name:this.selectedNodeName,...await this.api.getNodeInfo()}}async getNodesInPool(){return Promise.all(Array.from(this.pool.entries()).map(async e=>{let[t,n]=e;return{name:t,...await n.getNodeInfo()}}))}addresses(){return[]}get address(){return this._resolveAccount().address}async sign(e){let{onAccount:t,...n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._resolveAccount(t).sign(e,n)}async signTransaction(e){let{onAccount:t,...n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.selectedNodeName!==null?await this.api.getNetworkId():void 0;return this._resolveAccount(t).signTransaction(e,{networkId:i,...n})}async signMessage(e){let{onAccount:t,...n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._resolveAccount(t).signMessage(e,n)}_getOptions(){return{...super._getOptions(),onNode:b0(()=>this.api),onCompiler:b0(()=>this.compilerApi)}}}class Pce extends KQ{constructor(){let{accounts:e,...t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),wr(this,"accounts",{}),e==null||e.forEach((n,i)=>this.addAccount(n,{select:i===0}))}_resolveAccount(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedAddress;if(typeof e=="string"){const t=e;if(St(t),this.accounts[t]==null)throw new ym(e);e=this.accounts[t]}return super._resolveAccount(e)}addresses(){return Object.keys(this.accounts)}addAccount(e){let{select:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{address:n}=e;this.accounts[n]=e,t===!0&&this.selectAccount(n)}removeAccount(e){if(this.accounts[e]==null)throw new ym(e);delete this.accounts[e],this.selectedAddress===e&&delete this.selectedAddress}selectAccount(e){if(St(e),this.accounts[e]==null)throw new ym(e);this.selectedAddress=e}}let Gc;(function(r){r.to_waellet="to_waellet",r.to_aepp="to_aepp"})(Gc||(Gc={}));let L$;(function(r){r.window="window",r.extension="extension"})(L$||(L$={}));let S0;(function(r){r.subscribe="subscribe",r.unsubscribe="unsubscribe"})(S0||(S0={}));let Ln;(function(r){r.readyToConnect="connection.announcePresence",r.updateAddress="address.update",r.address="address.get",r.connect="connection.open",r.sign="transaction.sign",r.signMessage="message.sign",r.subscribeAddress="address.subscribe",r.updateNetwork="networkId.update",r.closeConnection="connection.close"})(Ln||(Ln={}));let j$;(function(r){r.CONNECTED="CONNECTED",r.DISCONNECTED="DISCONNECTED",r.WAITING_FOR_CONNECTION_REQUEST="WAITING_FOR_CONNECTION_REQUEST"})(j$||(j$={}));const ls=[];class Qi extends Tr{toJSON(){return{code:this.code,message:this.message,data:this.data}}static deserialize(e){const t=ls.find(n=>n.code===e.code);if(t==null)throw new Xn(`Can't find RpcError with code: ${e.code}`);return new t(e.data)}}class JQ extends Qi{constructor(e){super("Invalid transaction"),wr(this,"code",2),this.data=e,this.name="RpcInvalidTransactionError"}}wr(JQ,"code",2);ls.push(JQ);class eN extends Qi{constructor(e){super("Broadcast failed"),wr(this,"code",3),this.data=e,this.name="RpcBroadcastError"}}wr(eN,"code",3);ls.push(eN);class tN extends Qi{constructor(e){super("Operation rejected by user"),wr(this,"code",4),this.data=e,this.name="RpcRejectedByUserError"}}wr(tN,"code",4);ls.push(tN);class rN extends Qi{constructor(){super("Unsupported Protocol Version"),wr(this,"code",5),this.name="RpcUnsupportedProtocolError"}}wr(rN,"code",5);ls.push(rN);class nN extends Qi{constructor(e){super("Wallet deny your connection request"),wr(this,"code",9),this.data=e,this.name="RpcConnectionDenyError"}}wr(nN,"code",9);ls.push(nN);class iN extends Qi{constructor(){super("You are not connected to the wallet"),wr(this,"code",10),this.name="RpcNotAuthorizeError"}}wr(iN,"code",10);ls.push(iN);class sN extends Qi{constructor(e){super(`You are not subscribed for account ${e}`),wr(this,"code",11),this.data=e,this.name="RpcPermissionDenyError"}}wr(sN,"code",11);ls.push(sN);class B1 extends Qi{constructor(){super("The peer failed to execute your request due to unknown error"),wr(this,"code",12),this.name="RpcInternalError"}}wr(B1,"code",12);ls.push(B1);class z1 extends Qi{constructor(){super("Method not found"),wr(this,"code",-32601),this.name="RpcMethodNotFoundError"}}wr(z1,"code",-32601);ls.push(z1);const{Buffer:_ce}=ur;class Ace extends xk{constructor(e,t){super(),this._rpcClient=e,this.address=t}async sign(){throw new pl("RAW signing using wallet")}async signTransaction(e){let{innerTx:t,networkId:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!=null)throw new pl("innerTx option in AccountRpc");if(n==null)throw new Dt("networkId","provided",n);const i=await this._rpcClient.request(Ln.sign,{onAccount:this.address,tx:e,returnSigned:!0,networkId:n});if(i.signedTransaction==null)throw new r4("signedTransaction is missed in wallet response");return i.signedTransaction}async signMessage(e){const{signature:t}=await this._rpcClient.request(Ln.signMessage,{onAccount:this.address,message:e});return _ce.from(t,"hex")}}const kce=1;function zf(r,e){oN(r,e),e.add(r)}function hg(r,e,t){oN(r,e),e.set(r,t)}function oN(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xc(r,e,t){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return t}var Cd=new WeakMap,Ff=new WeakMap,Td=new WeakMap,V$=new WeakSet,dg=new WeakSet,aN=new WeakSet,lN=new WeakSet;class Ece{constructor(e,t,n){zf(this,lN),zf(this,aN),zf(this,dg),zf(this,V$),hg(this,Cd,{writable:!0,value:new Map}),hg(this,Ff,{writable:!0,value:0}),hg(this,Td,{writable:!0,value:void 0}),this.connection=e,ln(this,Td,n),e.connect(xc(this,V$,Qce).bind(this),t)}async request(e,t){return xc(this,dg,Z$).call(this,ln(this,Ff,mt(this,Ff)+1),e,t),new Promise((n,i)=>{mt(this,Cd).set(mt(this,Ff),{resolve:n,reject:i})})}notify(e,t){xc(this,dg,Z$).call(this,void 0,e,t)}}async function Qce(r,e){if((r==null?void 0:r.jsonrpc)!=="2.0")throw new a4(JSON.stringify(r));if("result"in r||"error"in r){xc(this,lN,Ice).call(this,r);return}const t=r;let n,i;try{if(!(t.method in mt(this,Td)))throw new z1;const s=t.method;n=await mt(this,Td)[s](t.params,e)}catch(s){i=s instanceof Qi?s:new B1}t.id!=null&&xc(this,aN,Nce).call(this,t.id,t.method,n,i)}function Z$(r,e,t){this.connection.sendMessage({jsonrpc:"2.0",...r!=null?{id:r}:{},method:e,...t!=null?{params:t}:{}})}function Nce(r,e,t,n){this.connection.sendMessage({jsonrpc:"2.0",id:r,method:e,...n!=null?{error:n.toJSON()}:{result:t}})}function Ice(r){let{id:e,error:t,result:n}=r;const i=mt(this,Cd).get(e);if(i==null)throw new l4(e);t!=null?i.reject(Qi.deserialize(t)):i.resolve(n),mt(this,Cd).delete(e)}class W$ extends KQ{constructor(e){let{name:t,onAddressChange:n=()=>{},onDisconnect:i=()=>{},onNetworkChange:s=()=>{},...o}=e;super(o),this.onAddressChange=n,this.onDisconnect=i,this.onNetworkChange=s,this.name=t}_resolveAccount(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.addresses()[0];if(typeof e=="string"){const t=e;if(St(t),!this.addresses().includes(t))throw new c4(t);this._ensureConnected(),e=new Ace(this.rpcClient,t)}return e==null&&this._ensureAccountAccess(),super._resolveAccount(e)}addresses(){if(this._accounts==null)return[];const e=Object.keys(this._accounts.current)[0];return[...e!=null?[e]:[],...Object.keys(this._accounts.connected)]}async connectToWallet(e){let{connectNode:t=!1,name:n="wallet-node"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.rpcClient!=null)throw new I2("You are already connected to wallet");let i;const s=l=>{if(t){var c;if(((c=l.node)===null||c===void 0?void 0:c.url)==null)throw new R2("Missing URLs of the Node");this.pool.delete(n),this.addNode(n,new Vc(l.node.url),!0)}this.onNetworkChange(l)},o=new Ece(e,()=>{delete this.rpcClient,delete this._accounts,this.onDisconnect(i)},{[Ln.updateAddress]:l=>{this._accounts=l,this.onAddressChange(l)},[Ln.updateNetwork]:s,[Ln.closeConnection]:l=>{i=l,o.connection.disconnect()},[Ln.readyToConnect]:()=>{}}),a=await o.request(Ln.connect,{name:this.name,version:kce,connectNode:t});return s(a),this.rpcClient=o,a}disconnectWallet(){this._ensureConnected(),this.rpcClient.notify(Ln.closeConnection,{reason:"bye"}),this.rpcClient.connection.disconnect()}async askAddresses(){return this._ensureAccountAccess(),this.rpcClient.request(Ln.address,void 0)}async subscribeAddress(e,t){this._ensureConnected();const n=await this.rpcClient.request(Ln.subscribeAddress,{type:e,value:t});return this._accounts=n.address,n}_ensureConnected(){if(this.rpcClient==null)throw new Ay("You are not connected to Wallet")}_ensureAccountAccess(){if(this._ensureConnected(),this.addresses().length===0)throw new u4}}class Rce{}const cN={type:{name:"Composite",className:"Contract",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},options:{serializedName:"options",type:{name:"Composite",className:"CompileOpts"}}}}},Mce={type:{name:"Composite",className:"CompileOpts",modelProperties:{fileSystem:{serializedName:"file_system",type:{name:"Dictionary",value:{type:{name:"any"}}}},srcFile:{serializedName:"src_file",type:{name:"String"}}}}},uN={type:{name:"Composite",className:"Aci",modelProperties:{encodedAci:{serializedName:"encoded_aci",required:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}},externalEncodedAci:{serializedName:"external_encoded_aci",type:{name:"Sequence",element:{type:{name:"Dictionary",value:{type:{name:"any"}}}}}},interface:{serializedName:"interface",required:!0,type:{name:"String"}}}}},Bce={type:{name:"Composite",className:"CompilerError",modelProperties:{type:{serializedName:"type",required:!0,type:{name:"String"}},pos:{serializedName:"pos",type:{name:"Composite",className:"ErrorPos"}},message:{serializedName:"message",required:!0,type:{name:"String"}},context:{serializedName:"context",type:{name:"String"}}}}},zce={type:{name:"Composite",className:"ErrorPos",modelProperties:{file:{serializedName:"file",type:{name:"String"}},line:{serializedName:"line",required:!0,type:{name:"Number"}},col:{serializedName:"col",required:!0,type:{name:"Number"}}}}},fN={type:{name:"Composite",className:"CompileResult",modelProperties:{bytecode:{serializedName:"bytecode",required:!0,type:{name:"String"}},aci:{serializedName:"aci",required:!0,type:{name:"Sequence",element:{type:{name:"Dictionary",value:{type:{name:"any"}}}}}}}}},hN={type:{name:"Composite",className:"SophiaCallResultInput",modelProperties:{source:{serializedName:"source",required:!0,type:{name:"String"}},options:{serializedName:"options",type:{name:"Composite",className:"CompileOpts"}},function:{serializedName:"function",required:!0,type:{name:"String"}},callResult:{serializedName:"call-result",required:!0,type:{name:"String"}},callValue:{serializedName:"call-value",required:!0,type:{name:"String"}}}}},dN={type:{name:"Composite",className:"BytecodeCallResultInput",modelProperties:{bytecode:{serializedName:"bytecode",required:!0,type:{name:"String"}},function:{serializedName:"function",required:!0,type:{name:"String"}},callResult:{serializedName:"call-result",required:!0,type:{name:"String"}},callValue:{serializedName:"call-value",required:!0,type:{name:"String"}}}}},pN={type:{name:"Composite",className:"DecodedCallresult",modelProperties:{function:{serializedName:"function",required:!0,type:{name:"String"}},result:{serializedName:"result",required:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},mN={type:{name:"Composite",className:"FunctionCallInput",modelProperties:{source:{serializedName:"source",required:!0,type:{name:"String"}},options:{serializedName:"options",type:{name:"Composite",className:"CompileOpts"}},function:{serializedName:"function",required:!0,type:{name:"String"}},arguments:{serializedName:"arguments",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}}}}},gN={type:{name:"Composite",className:"Calldata",modelProperties:{calldata:{serializedName:"calldata",required:!0,type:{name:"String"}}}}},ON={type:{name:"Composite",className:"DecodeCalldataBytecode",modelProperties:{calldata:{serializedName:"calldata",required:!0,type:{name:"String"}},bytecode:{serializedName:"bytecode",required:!0,type:{name:"String"}}}}},F1={type:{name:"Composite",className:"DecodedCalldata",modelProperties:{function:{serializedName:"function",required:!0,type:{name:"String"}},arguments:{serializedName:"arguments",required:!0,type:{name:"Sequence",element:{type:{name:"Dictionary",value:{type:{name:"any"}}}}}}}}},pa={type:{name:"Composite",className:"ErrorModel",modelProperties:{reason:{serializedName:"reason",required:!0,type:{name:"String"}}}}},yN={type:{name:"Composite",className:"DecodeCalldataSource",modelProperties:{source:{serializedName:"source",required:!0,type:{name:"String"}},options:{serializedName:"options",type:{name:"Composite",className:"CompileOpts"}},calldata:{serializedName:"calldata",required:!0,type:{name:"String"}},function:{serializedName:"function",required:!0,type:{name:"String"}}}}},xN={type:{name:"Composite",className:"ByteCodeInput",modelProperties:{bytecode:{serializedName:"bytecode",required:!0,type:{name:"String"}}}}},bN={type:{name:"Composite",className:"FateAssembler",modelProperties:{fateAssembler:{serializedName:"fate-assembler",required:!0,type:{name:"String"}}}}},SN={type:{name:"Composite",className:"ValidateByteCodeInput",modelProperties:{bytecode:{serializedName:"bytecode",required:!0,type:{name:"String"}},source:{serializedName:"source",required:!0,type:{name:"String"}},options:{serializedName:"options",type:{name:"Composite",className:"CompileOpts"}}}}},D1={type:{name:"Composite",className:"CompilerVersion",modelProperties:{version:{serializedName:"version",required:!0,type:{name:"String"}}}}},vN={type:{name:"Composite",className:"ApiVersion",modelProperties:{apiVersion:{serializedName:"api-version",required:!0,type:{name:"String"}}}}},Fce={type:{name:"Composite",className:"SophiaBinaryData",modelProperties:{sophiaType:{serializedName:"sophia-type",required:!0,type:{name:"String"}},data:{serializedName:"data",required:!0,type:{name:"String"}}}}},Dce={type:{name:"Composite",className:"SophiaJsonData",modelProperties:{data:{serializedName:"data",required:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},Uce=Object.freeze(Object.defineProperty({__proto__:null,Aci:uN,ApiVersion:vN,ByteCodeInput:xN,BytecodeCallResultInput:dN,Calldata:gN,CompileOpts:Mce,CompileResult:fN,CompilerError:Bce,CompilerVersion:D1,Contract:cN,DecodeCalldataBytecode:ON,DecodeCalldataSource:yN,DecodedCalldata:F1,DecodedCallresult:pN,ErrorModel:pa,ErrorPos:zce,FateAssembler:bN,FunctionCallInput:mN,SophiaBinaryData:Fce,SophiaCallResultInput:hN,SophiaJsonData:Dce,ValidateByteCodeInput:SN},Symbol.toStringTag,{value:"Module"})),cs={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},wN={parameterPath:"body",mapper:cN},Kn={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},Jn={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},qce={parameterPath:"body",mapper:hN},Lce={parameterPath:"body",mapper:dN},jce={parameterPath:"body",mapper:mN},Vce={parameterPath:"body",mapper:ON},Zce={parameterPath:"body",mapper:yN},$N={parameterPath:"body",mapper:xN},Wce={parameterPath:"body",mapper:SN};class Xce extends qA{constructor(e,t){var n,i;if(e===void 0)throw new Error("'$host' cannot be null");t||(t={});const s={requestContentType:"application/json; charset=utf-8"},o="azsdk-js-compiler/1.0.0-beta.1",a=t.userAgentOptions&&t.userAgentOptions.userAgentPrefix?`${t.userAgentOptions.userAgentPrefix} ${o}`:`${o}`,l={...s,...t,userAgentOptions:{userAgentPrefix:a},endpoint:(n=(i=t.endpoint)!==null&&i!==void 0?i:t.baseUri)!==null&&n!==void 0?n:"{$host}"};super(l),this.$host=e}generateACI(e,t){return this.sendOperationRequest({body:e,options:t},Yce)}compileContract(e,t){return this.sendOperationRequest({body:e,options:t},Gce)}decodeCallResult(e,t){return this.sendOperationRequest({body:e,options:t},Hce)}decodeCallResultBytecode(e,t){return this.sendOperationRequest({body:e,options:t},Kce)}encodeCalldata(e,t){return this.sendOperationRequest({body:e,options:t},Jce)}decodeCalldataBytecode(e,t){return this.sendOperationRequest({body:e,options:t},eue)}decodeCalldataSource(e,t){return this.sendOperationRequest({body:e,options:t},tue)}getFateAssemblerCode(e,t){return this.sendOperationRequest({body:e,options:t},rue)}validateByteCode(e,t){return this.sendOperationRequest({body:e,options:t},nue)}getCompilerVersion(e,t){return this.sendOperationRequest({body:e,options:t},iue)}version(e){return this.sendOperationRequest({options:e},sue)}apiVersion(e){return this.sendOperationRequest({options:e},oue)}api(e){return this.sendOperationRequest({options:e},aue)}}const ei=BA(Uce,!1),Yce={path:"/aci",httpMethod:"POST",responses:{200:{bodyMapper:uN},400:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"CompilerError"}}}},isError:!0}},requestBody:wN,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},Gce={path:"/compile",httpMethod:"POST",responses:{200:{bodyMapper:fN},400:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"CompilerError"}}}},isError:!0}},requestBody:wN,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},Hce={path:"/decode-call-result",httpMethod:"POST",responses:{200:{bodyMapper:{type:{name:"any"}}},400:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"CompilerError"}}}},isError:!0}},requestBody:qce,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},Kce={path:"/decode-call-result/bytecode",httpMethod:"POST",responses:{200:{bodyMapper:pN},400:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"CompilerError"}}}},isError:!0}},requestBody:Lce,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},Jce={path:"/encode-calldata",httpMethod:"POST",responses:{200:{bodyMapper:gN},400:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"CompilerError"}}}},isError:!0}},requestBody:jce,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},eue={path:"/decode-calldata/bytecode",httpMethod:"POST",responses:{200:{bodyMapper:F1},400:{bodyMapper:pa,isError:!0}},requestBody:Vce,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},tue={path:"/decode-calldata/source",httpMethod:"POST",responses:{200:{bodyMapper:F1},400:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"CompilerError"}}}},isError:!0}},requestBody:Zce,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},rue={path:"/fate-assembler",httpMethod:"POST",responses:{200:{bodyMapper:bN},400:{bodyMapper:pa,isError:!0}},requestBody:$N,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},nue={path:"/validate-byte-code",httpMethod:"POST",responses:{200:{},400:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"CompilerError"}}}},isError:!0}},requestBody:Wce,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},iue={path:"/compiler-version",httpMethod:"POST",responses:{200:{bodyMapper:D1},400:{bodyMapper:pa,isError:!0}},requestBody:$N,urlParameters:[Jn],headerParameters:[cs,Kn],mediaType:"json",serializer:ei},sue={path:"/version",httpMethod:"GET",responses:{200:{bodyMapper:D1},500:{bodyMapper:pa,isError:!0}},urlParameters:[Jn],headerParameters:[Kn],serializer:ei},oue={path:"/api-version",httpMethod:"GET",responses:{200:{bodyMapper:vN},500:{bodyMapper:pa,isError:!0}},urlParameters:[Jn],headerParameters:[Kn],serializer:ei},aue={path:"/api",httpMethod:"GET",responses:{200:{bodyMapper:{type:{name:"Dictionary",value:{type:{name:"any"}}}}},400:{bodyMapper:pa,isError:!0}},urlParameters:[Jn],headerParameters:[Kn],serializer:ei};class X$ extends Rce{constructor(e){let{ignoreVersion:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(super(),this.api=new Xce(e,{allowInsecureConnection:!0,additionalPolicies:[NA(n=>{let i="";return"reason"in n&&(i+=` ${n.reason}${n.parameter!=null?` in ${n.parameter}`:""}${n.info!=null?` (${JSON.stringify(n.info)})`:""}`),Array.isArray(n)&&(i+=`
${n.map(s=>`${s.type}:${s.pos.line}:${s.pos.col}: ${s.message}${s.context!=null?` (${s.context})`:""}`).join(`
`)}`),i})]}),t!==!0){const n=this.api.apiVersion().then(i=>{let{apiVersion:s}=i;return s},i=>i);this.api.pipeline.addPolicy(IA("compiler","/api-version",n,"7.1.1","8.0.0"))}}async compileBySourceCode(e,t){try{return await this.api.compileContract({code:e,options:{fileSystem:t}})}catch(n){throw n instanceof vn&&n.statusCode===400?new E2(n.message.replace(/^aci error:/,"compile error:")):n}}async compile(e){throw new pl("File system access, use CompilerHttpNode instead")}async validateBySourceCode(e,t,n){try{return await this.api.validateByteCode({bytecode:e,source:t,options:{fileSystem:n}}),!0}catch{return!1}}async validate(e,t){throw new pl("File system access, use CompilerHttpNode instead")}async version(){return(await this.api.version()).version}}class lue{constructor(e){let{debug:t=!1}=e;this.debug=t}connect(e,t){if(this.isConnected())throw new I2("You already connected")}disconnect(){if(!this.isConnected())throw new Ay("You dont have connection. Please connect before")}receiveMessage(e){this.debug&&console.log("Receive message:",e)}sendMessage(e){this.debug&&console.log("Send message:",e)}}function pg(r,e,t){cue(r,e),e.set(r,t)}function cue(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}var Wl=new WeakMap,Ia=new WeakMap,Df=new WeakMap;class CN extends lue{constructor(){let{target:e,self:t=window,origin:n,sendDirection:i,receiveDirection:s=Gc.to_aepp,...o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(o),pg(this,Wl,{writable:!0,value:void 0}),pg(this,Ia,{writable:!0,value:void 0}),pg(this,Df,{writable:!0,value:void 0}),ln(this,Ia,e),ln(this,Df,t),this.origin=n,this.sendDirection=i,this.receiveDirection=s}isConnected(){return this.listener!=null}connect(e,t){super.connect(e,t),this.listener=n=>{var i,s;if(typeof n.data!="object"||((i=n.data.jsonrpc)!==null&&i!==void 0?i:(s=n.data.data)===null||s===void 0?void 0:s.jsonrpc)!=="2.0"||this.origin!=null&&this.origin!==n.origin||mt(this,Ia)!=null&&mt(this,Ia)!==n.source)return;this.receiveMessage(n);let{data:o}=n;if(o.type!=null){if(n.data.type!==this.receiveDirection)return;o=o.data}e(o,n.origin,n.source)},mt(this,Df).addEventListener("message",this.listener),ln(this,Wl,t)}disconnect(){if(super.disconnect(),this.listener==null||mt(this,Wl)==null)throw new Xn("Expected to not happen, required for TS");mt(this,Df).removeEventListener("message",this.listener),delete this.listener,mt(this,Wl).call(this),ln(this,Wl,void 0)}sendMessage(e){var t;if(mt(this,Ia)==null)throw new R2("Can't send messages without target");const n=this.sendDirection!=null?{type:this.sendDirection,data:e}:e;super.sendMessage(n),mt(this,Ia).postMessage(n,(t=this.origin)!==null&&t!==void 0?t:"*")}}const uue=(r,e)=>{if(window==null)throw new t4("Window object not found, you can run wallet detector only in browser");const t={};return r.connect((n,i,s)=>{let{method:o,params:a}=n;if(o!==Ln.readyToConnect||t[a.id]!=null)return;const l={info:a,getConnection(){const c=a.type==="extension";return new CN({sendDirection:c?Gc.to_waellet:void 0,receiveDirection:c?Gc.to_aepp:void 0,target:s,origin:c?window.origin:a.origin})}};t[l.info.id]=l,e({wallets:t,newWallet:l})},()=>{}),Object.keys(t).length>0&&e({wallets:t}),()=>r.disconnect()},Y$="https://v7.compiler.aepps.com",TN=[{name:"ae_uat",instance:new Vc("https://testnet.aeternity.io")},{name:"ae_mainnet",instance:new Vc("https://mainnet.aeternity.io")}];function mg(r){return r.trim()===""?[]:r.split(",").map(e=>e.trim())}const gg=`@compiler >= 4

contract Example =
  entrypoint example(x : int) = x`,Uf={gasPrice:1e9,amount:0,fee:null,gas:null,callData:""};class ds{constructor(){El(this,"error");El(this,"info");El(this,"final",!1);El(this,"data")}setError(e){this.error=e,this.info=void 0,this.final=!1,this.data=void 0}setInfo(e){this.info=e,this.error=void 0,this.final=!1,this.data=void 0}setFinal(e,t){this.info=e,this.error=void 0,this.final=!0,this.data=t}}function fue(r){window.localStorage.setItem("secret-key",r)}function hue(){return window.localStorage.getItem("secret-key")}function qf(r,e,t){window.localStorage.setItem("contract-code",r),window.localStorage.setItem("aci",e),t&&window.localStorage.setItem("contract-address",t)}function due(){const r=window.localStorage.getItem("contract-code"),e=window.localStorage.getItem("aci"),t=window.localStorage.getItem("contract-address");return{contractCode:r,aci:e,contractAddress:t}}var Xa=(r=>(r.UNINITIALIZED="Uninitialized",r.FETCHING_INFO="Fetching Information",r.CONNECTED="Connected",r.CHECK_FUNDING="Checking Funding",r.WALLET_SCANNING="Wallet Scanning, Please Confirm Connection",r.CONNECTION_ERROR="Connection Error",r))(Xa||{});function G$(r){return r?{nodes:[{name:"custom",instance:new Vc(r)}]}:{nodes:TN}}const Ap=xT("sdk",()=>{let r;const e=yr(),t=yr("Uninitialized"),n=yr(),i=yr(),s=yr(),o=yr(!0),a=eu(()=>r);async function l(){return t.value="Wallet Scanning, Please Confirm Connection",new Promise((T,k)=>{if(r instanceof W$){const U=async({wallets:D,newWallet:Y})=>{Y=Y||Object.values(D)[0],G();try{r.disconnectWallet()}catch{}const{networkId:ee}=await r.connectToWallet(Y.getConnection());r.selectNode(ee),await r.subscribeAddress(S0.subscribe,"current"),T()},_=new CN,G=uue(_,U)}else k("AeSdk instance needed for wallet connection")})}async function c(T){o.value=!1,r=new W$({name:"Contract Editor",...G$(T),onCompiler:new X$(Y$,{ignoreVersion:!0}),onNetworkChange:async({networkId:k})=>{if(r){const[{name:U}]=(await r.getNodesInPool()).filter(_=>_.nodeNetworkId===k);r.selectNode(U),await d()}},onAddressChange:()=>d(),onDisconnect:()=>alert("Aepp is disconnected")}),await l()}function u(T,k){o.value=!0,r=new Pce({onCompiler:new X$(Y$,{ignoreVersion:!0}),accounts:[new Ky(T)],...G$(k)})}async function f(T=!0,k){t.value="Uninitialized",k?s.value=k:s.value=TN[0].instance.$host;try{T?(e.value=g(),e.value&&u(e.value,k)):await c(k),await d()}catch{t.value="Connection Error"}}async function d(){var T;t.value="Fetching Information",i.value=await((T=r==null?void 0:r.api)==null?void 0:T.getNetworkId()),s.value=r==null?void 0:r.api.$host,n.value=r==null?void 0:r.address,t.value="Checking Funding",await y(),t.value="Connected"}function g(){return hue()||xA().secretKey}async function y(){const T=n.value&&await(r==null?void 0:r.getBalance(n.value))||0;i.value==="ae_uat"&&n.value&&new Ir(1e16).gt(T)&&(await fetch(`https://faucet.aepps.com/account/${n.value}`,{method:"POST"}).catch(console.error),o.value&&e.value&&fue(e.value))}return{aeSdk:a,initSdk:f,status:t,address:n,networkId:i,secretKey:e,nodeUrl:s,isStatic:o}});BigInt.prototype.toJSON=function(){return Ir(this.toString()).toNumber()};Uint8Array.prototype.toString=function(){return Buffer.from(this).toString("hex")};Uint8Array.prototype.toJSON=function(){return this.toString()};Map.prototype.toJSON=function(){return Object.fromEntries(this)};const Qu=xT("contract",()=>{const r=yr({contractCode:structuredClone(gg)}),e=yr(new ds),t=yr({args:"",options:structuredClone(Uf)}),n=yr(new ds),i=yr({func:"example",gas:1e6,args:""}),s=yr(new ds),o=yr({func:"example",args:"",options:structuredClone(Uf)}),a=yr(new ds);let l;const c=Ap();async function u(){var _;e.value.setInfo("Compiling contract source"),k(),await((_=c.aeSdk)==null?void 0:_.compilerApi.compileBySourceCode(r.value.contractCode).then(G=>{var D;e.value.setFinal("Compiled from source",{aci:JSON.stringify(G==null?void 0:G.aci,null,2),byteCode:G.bytecode}),qf(r.value.contractCode,((D=e.value.data)==null?void 0:D.aci)||"",n.value.data)}).catch(G=>{G instanceof Error&&e.value.setError(G.message.replaceAll(`compile error:
`,""))}))}async function f(_,G){var D;k(),n.value.setInfo("Instantiating Contract at address ..."),await((D=c.aeSdk)==null?void 0:D.initializeContract({aci:JSON.parse(G),address:_}).then(Y=>{var ee;l=Y,e.value.setFinal("Initialized from ACI",{aci:G,byteCode:"calling at address doesn't need bytecode"}),n.value.setFinal(`Instantiated Contract at address: ${_}`,_),qf(r.value.contractCode,((ee=e.value.data)==null?void 0:ee.aci)||"",n.value.data)}).catch(Y=>{Y instanceof Error&&n.value.setError(Y.message)}))}async function d(){var D;k(),n.value.setInfo("Deploying Contract ...");const _=mg(t.value.args);l=await((D=c.aeSdk)==null?void 0:D.initializeContract({sourceCode:r.value.contractCode}));const G=Object.fromEntries(Object.entries(t.value.options).filter(([,Y])=>Y!=null));l==null||l.$deploy(_,G).then(Y=>{var ee,re,S,b;n.value.setFinal(`Deployed, and mined at this address: ${(ee=Y.result)==null?void 0:ee.contractId}`,(re=Y.result)==null?void 0:re.contractId),qf(r.value.contractCode,((S=e.value.data)==null?void 0:S.aci)||"",(b=Y==null?void 0:Y.result)==null?void 0:b.contractId)}).catch(Y=>{Y instanceof Error&&n.value.setError(Y.message)})}async function g(){s.value.setInfo("Dry-Running ...");const _=mg(i.value.args),G={callStatic:!0,gas:i.value.gas};l==null||l.$call(i.value.func,_,G).then(D=>{var Y,ee,re;s.value.setFinal(`Dry-Run Gas Estimate: ${(Y=D==null?void 0:D.result)==null?void 0:Y.gasUsed}, Fee Estimate: ${BS((ee=D==null?void 0:D.tx)==null?void 0:ee.fee)} ae (${(re=D==null?void 0:D.tx)==null?void 0:re.fee} aetto)`,JSON.stringify(D==null?void 0:D.decodedResult))}).catch(D=>{D instanceof Error&&s.value.setError(D.message)})}async function y(){a.value.setInfo("Calling Contract ...");const _=mg(o.value.args),G=Object.fromEntries(Object.entries(o.value.options).filter(([,D])=>D!=null));l==null||l.$call(o.value.func,_,G).then(D=>{var Y,ee,re,S,b;a.value.setFinal(`Gas Used: ${(Y=D==null?void 0:D.result)==null?void 0:Y.gasUsed}, Fee: ${BS((re=(ee=D==null?void 0:D.tx)==null?void 0:ee.encodedTx)==null?void 0:re.fee)} ae (${(b=(S=D==null?void 0:D.tx)==null?void 0:S.encodedTx)==null?void 0:b.fee} aetto)`,JSON.stringify(D==null?void 0:D.decodedResult))}).catch(D=>{D instanceof Error&&a.value.setError(D.message)})}async function T(){const _=due();r.value.contractCode=_.contractCode||structuredClone(gg),_.aci&&_.contractAddress&&await f(_.contractAddress,_.aci)}function k(){t.value={args:"",options:structuredClone(Uf)},n.value=new ds,i.value={func:"example",gas:1e6,args:""},s.value=new ds,o.value={func:"example",args:"",options:structuredClone(Uf)},a.value=new ds}async function U(){var _;l=void 0,r.value.contractCode=structuredClone(gg),e.value=new ds,n.value=new ds,k(),await qf(r.value.contractCode,((_=e.value.data)==null?void 0:_.aci)||"",n.value.data)}return{initContractState:T,resetContractState:U,compileData:r,compileResult:e,compileContractFromSource:u,deployData:t,deployResult:n,deployContract:d,initializeContractFromAci:f,callStaticData:i,callStaticResult:s,callContractStatic:g,callData:o,callResult:a,callContract:y}}),pue={class:"w-full p-4 bg-gray-200 rounded-sm shadow"},mue=YR('<div class="flex"><div class="relative w-8/12"><h2 class="py-2 inline-block">Sophia Contract&#39;s Code:</h2><h2 class="py-2 inline-block float-right pr-4">or</h2></div><div class="relative w-4/12"><h2 class="py-2 inline-block">ACI:</h2></div></div>',1),gue={class:"flex"},Oue={class:"relative w-8/12 pr-1"},yue={class:"relative w-4/12"},xue={key:0,class:"mt-2 mb-2"},bue=he("label",{class:"text-xs block mb-1 text-red"},"Compile Errors:",-1),Sue={class:"flex"},vue={class:"relative w-8/12"},wue={class:"relative w-4/12"},$ue=mo({__name:"CodeAci",setup(r){const e=[VD(),lD],t=Qu(),{compileData:n,compileResult:i,deployResult:s}=xl(t),{compileContractFromSource:o,initializeContractFromAci:a,resetContractState:l}=t,c=yr(""),u=yr("");return sn(s,()=>{c.value=s.value.data||""},{deep:!0}),sn(i,()=>{var f;u.value=((f=i.value.data)==null?void 0:f.aci)||""},{deep:!0}),(f,d)=>(nr(),gr("div",pue,[mue,he("div",gue,[he("div",Oue,[xr(ge(uS),{modelValue:ge(n).contractCode,"onUpdate:modelValue":d[0]||(d[0]=g=>ge(n).contractCode=g),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:e,style:{height:"300px",resize:"vertical",overflow:"auto !important"}},null,8,["modelValue"])]),he("div",yue,[xr(ge(uS),{modelValue:u.value,"onUpdate:modelValue":d[1]||(d[1]=g=>u.value=g),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:e,style:{height:"300px",resize:"vertical",overflow:"auto !important"}},null,8,["modelValue"])])]),ge(i).error?(nr(),gr("div",xue,[bue,Ht(he("textarea",{"onUpdate:modelValue":d[2]||(d[2]=g=>ge(i).error=g),class:"h-16 w-full text-red-500 bg-black text-xs mb-4 p-4 font-mono"},null,512),[[Kt,ge(i).error]])])):cn("v-if",!0),he("div",Sue,[he("div",vue,[he("button",{class:"mt-2 mr-2 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:d[3]||(d[3]=(...g)=>ge(o)&&ge(o)(...g))}," Compile "),he("button",{class:"mt-2 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:d[4]||(d[4]=(...g)=>ge(l)&&ge(l)(...g))}," Reset ")]),he("div",wue,[Ht(he("input",{"onUpdate:modelValue":d[5]||(d[5]=g=>c.value=g),class:"mt-2 rounded-l-full bg-black hover:bg-purple-500 text-white p-2 px-4"},null,512),[[Kt,c.value]]),he("button",{class:"mt-2 mr-2 rounded-r-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:d[6]||(d[6]=g=>ge(a)(c.value,u.value))}," at Address ")])])]))}}),ma=(r,e)=>{const t=r.__vccOpts||r;for(const[n,i]of e)t[n]=i;return t},Cue=ma($ue,[["__file","/Users/philipp/Develop/aeternity/aepp-contracts/src/components/CodeAci.vue"]]),Tue={key:0,class:"w-1/2 p-4 bg-gray-200 rounded-sm shadow"},Pue={class:"py-2"},_ue={class:"block w-full text-xs"},Aue={key:0,class:"mt-2 mb-2"},kue=he("label",{class:"text-xs block mb-1 text-red"},"Deploy Errors:",-1),Eue={class:"flex -mx-2 mt-4 mb-4"},Que=he("div",{class:"mx-2 w-1/3"},[he("label",{class:"text-xs block mb-1",for:"deployFunc"},"Function"),he("input",{id:"deployFunc",value:"init",class:"w-full p-2",type:"text",disabled:""})],-1),Nue={class:"mx-2 w-2/3"},Iue=he("label",{class:"text-xs block mb-1",for:"deployArgs"},"Arguments",-1),Rue={class:"flex -mx-2 mt-4 mb-4"},Mue={class:"mx-2 w-1/4"},Bue=he("label",{class:"text-xs block mb-1",for:"dGasPrice"},[Ji("Gas Price "),he("a",{class:"text-black no-underline",target:"_blank",href:"https://en.wikipedia.org/wiki/Atto-"}," (aetto)")],-1),zue={class:"mx-2 w-1/4"},Fue=he("label",{class:"text-xs block mb-1",for:"dAmount"},[Ji("Amount "),he("a",{class:"text-black no-underline",target:"_blank",href:"https://en.wikipedia.org/wiki/Atto-"}," (aetto)")],-1),Due={class:"mx-2 w-1/4"},Uue=he("label",{class:"text-xs block mb-1",for:"dFee"},[Ji("Fee "),he("a",{class:"text-black no-underline",target:"_blank",href:"https://en.wikipedia.org/wiki/Atto-"}," (aetto)")],-1),que={class:"mx-2 w-1/4"},Lue=he("label",{class:"text-xs block mb-1",for:"dGas"},"Gas Limit",-1),jue=mo({__name:"Deploy",setup(r){const e=Qu(),{compileResult:t,deployData:n,deployResult:i}=xl(e),{deployContract:s}=e;return(o,a)=>ge(t).final?(nr(),gr("div",Tue,[he("h2",Pue,[Ji(" Byte Code "),he("span",_ue,si(ge(i).info),1)]),Ht(he("textarea",{"onUpdate:modelValue":a[0]||(a[0]=l=>ge(t).data.byteCode=l),class:"h-16 w-full font-mono bg-black text-white text-xs mb-4 p-4"},null,512),[[Kt,ge(t).data.byteCode]]),ge(i).error?(nr(),gr("div",Aue,[kue,Ht(he("textarea",{"onUpdate:modelValue":a[1]||(a[1]=l=>ge(i).error=l),class:"h-16 w-full text-red-500 bg-black text-xs mb-4 p-4 font-mono"},null,512),[[Kt,ge(i).error]])])):cn("v-if",!0),he("div",Eue,[Que,he("div",Nue,[Iue,Ht(he("input",{id:"deployArgs","onUpdate:modelValue":a[2]||(a[2]=l=>ge(n).args=l),class:"w-full p-2",type:"text",placeholder:"comma separated args"},null,512),[[Kt,ge(n).args]])])]),he("div",Rue,[he("div",Mue,[Bue,Ht(he("input",{id:"dGasPrice","onUpdate:modelValue":a[3]||(a[3]=l=>ge(n).options.gasPrice=l),class:"w-full p-2",type:"number",min:"1000000000",placeholder:"gas price"},null,512),[[Kt,ge(n).options.gasPrice,void 0,{number:!0}]])]),he("div",zue,[Fue,Ht(he("input",{id:"dAmount","onUpdate:modelValue":a[4]||(a[4]=l=>ge(n).options.amount=l),class:"w-full p-2",type:"number",min:"0",placeholder:"amount"},null,512),[[Kt,ge(n).options.amount,void 0,{number:!0}]])]),he("div",Due,[Uue,Ht(he("input",{id:"dFee","onUpdate:modelValue":a[5]||(a[5]=l=>ge(n).options.fee=l),class:"w-full p-2",type:"number",placeholder:"auto"},null,512),[[Kt,ge(n).options.fee,void 0,{number:!0}]])]),he("div",que,[Lue,Ht(he("input",{id:"dGas","onUpdate:modelValue":a[6]||(a[6]=l=>ge(n).options.gas=l),class:"w-full p-2",type:"number",min:"0",placeholder:"auto"},null,512),[[Kt,ge(n).options.gas,void 0,{number:!0}]])]),Ht(he("input",{"onUpdate:modelValue":a[7]||(a[7]=l=>ge(n).options.callData=l),class:"w-full p-2",type:"hidden"},null,512),[[Kt,ge(n).options.callData]])]),he("button",{class:"py-2 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:a[8]||(a[8]=(...l)=>ge(s)&&ge(s)(...l))}," Deploy ")])):cn("v-if",!0)}}),Vue=ma(jue,[["__file","/Users/philipp/Develop/aeternity/aepp-contracts/src/components/Deploy.vue"]]),Zue={class:"flex"},Wue={key:0},Xue={key:1},Yue={key:1,class:"mt-4 text-sm text-purple"},Gue=he("span",{class:"font-mono text-black"},"Account: ",-1),Hue={key:0},Kue={class:"flex mt-8 mb-8"},Jue={class:"w-full p-4 bg-gray-200 rounded-sm shadow"},efe=he("h2",{class:"py-2"},"Settings",-1),tfe={class:"flex -mx-2 mt-4 mb-4"},rfe={class:"mx-2 w-1/3"},nfe=he("label",{class:"text-xs block mb-1",for:"host"},"Host",-1),ife={class:"mx-2 w-1/3"},sfe=he("label",{class:"text-xs block mb-1",for:"accountPrivateKey"},"Private Key",-1),ofe={class:"py-2"},afe={key:0,class:"text-sm text-green-500"},lfe={key:1,class:"text-sm text-red-500"},cfe={key:2,class:"text-sm text-yellow-500"},ufe=mo({__name:"Account",setup(r){const e=Ap(),{isStatic:t,address:n,nodeUrl:i,secretKey:s,status:o}=xl(e),{initSdk:a}=e,l=yr(!1),c=yr("");sn(i,()=>{c.value=i.value});async function u(){s.value=void 0,await a(!0,c.value),l.value=!1}return(f,d)=>(nr(),gr(vi,null,[he("div",Zue,[ge(t)?(nr(),gr("button",{key:0,class:"mt-2 mr-2 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:d[0]||(d[0]=g=>ge(a)(!1))}," Connect Wallet Extension ")):cn("v-if",!0),he("button",{class:"mt-2 mr-4 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:d[1]||(d[1]=g=>l.value=!l.value)},[ge(t)?(nr(),gr("span",Wue,"Modify Local Account")):(nr(),gr("span",Xue,"Use Local Account"))]),!l.value&&ge(n)?(nr(),gr("h6",Yue,[Gue,Ji(" "+si(ge(n)),1)])):cn("v-if",!0)]),!ge(s)||!ge(n)||!ge(i)||l.value?(nr(),gr("div",Hue,[he("div",Kue,[he("div",Jue,[efe,he("div",tfe,[he("div",rfe,[nfe,Ht(he("input",{id:"host","onUpdate:modelValue":d[2]||(d[2]=g=>c.value=g),class:"w-full p-2",type:"text",placeholder:"https://testnet.aeternity.io"},null,512),[[Kt,c.value]])]),he("div",ife,[sfe,Ht(he("input",{id:"accountPrivateKey","onUpdate:modelValue":d[3]||(d[3]=g=>jt(s)?s.value=g:null),class:"w-full p-2",type:"text",placeholder:"Private Key"},null,512),[[Kt,ge(s)]])])]),he("button",{class:"mt-2 mr-2 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:u}," Use Local Account ")])])])):cn("v-if",!0),he("h1",ofe,[Ji(" Test contracts "),ge(o)===ge(Xa).CONNECTED?(nr(),gr("span",afe," ("+si(ge(o))+" "+si(ge(i))+") ",1)):cn("v-if",!0),ge(o)===ge(Xa).CONNECTION_ERROR?(nr(),gr("span",lfe," ("+si(ge(o))+" "+si(ge(i))+") ",1)):cn("v-if",!0),ge(o)!==ge(Xa).CONNECTION_ERROR&&ge(o)!==ge(Xa).CONNECTED?(nr(),gr("span",cfe," ("+si(ge(o))+" "+si(ge(i))+") ",1)):cn("v-if",!0)])],64))}}),ffe=ma(ufe,[["__file","/Users/philipp/Develop/aeternity/aepp-contracts/src/components/Account.vue"]]),hfe={key:0,class:"w-1/2 ml-8 p-4 bg-gray-200 rounded-sm shadow"},dfe=he("h2",{class:"py-2"}," Call Static Function",-1),pfe={class:"flex -mx-2 mt-4 mb-4"},mfe={class:"mx-2 w-2/3"},gfe=he("label",{class:"text-xs block mb-1",for:"staticFunc"},"Function",-1),Ofe={class:"mx-2 w-1/3"},yfe=he("label",{class:"text-xs block mb-1",for:"staticGas"},"Gas Limit",-1),xfe={class:"flex -mx-2 mt-4 mb-4"},bfe={class:"mx-2 w-full"},Sfe=he("label",{class:"text-xs block mb-1",for:"staticArgs"},"Arguments",-1),vfe={class:"mt-2 mb-2"},wfe={class:"text-xs block mb-1"},$fe={key:0,class:"w-full text-white bg-black text-xs mb-4 p-4 overflow-x-scroll font-mono"},Cfe={key:0,class:"mt-2 mb-2"},Tfe=he("label",{class:"text-xs block mb-1 text-red"},"Errors",-1),Pfe=mo({__name:"CallStatic",setup(r){const e=Qu(),{deployResult:t,callStaticData:n,callStaticResult:i}=xl(e),{callContractStatic:s}=e;return(o,a)=>ge(t).final?(nr(),gr("div",hfe,[dfe,he("div",pfe,[he("div",mfe,[gfe,Ht(he("input",{id:"staticFunc","onUpdate:modelValue":a[0]||(a[0]=l=>ge(n).func=l),class:"w-full p-2",type:"text",placeholder:"function"},null,512),[[Kt,ge(n).func]])]),he("div",Ofe,[yfe,Ht(he("input",{id:"staticGas","onUpdate:modelValue":a[1]||(a[1]=l=>ge(n).gas=l),class:"w-full p-2",type:"number",min:"0",placeholder:"gas"},null,512),[[Kt,ge(n).gas,void 0,{number:!0}]])])]),he("div",xfe,[he("div",bfe,[Sfe,Ht(he("input",{id:"staticArgs","onUpdate:modelValue":a[2]||(a[2]=l=>ge(n).args=l),class:"w-full p-2",type:"text",placeholder:"comma separated args"},null,512),[[Kt,ge(n).args]])])]),he("div",vfe,[he("label",wfe,si(ge(i).info),1),ge(i).final?(nr(),gr("div",$fe,si(ge(i).data),1)):cn("v-if",!0)]),ge(i).error?(nr(),gr("div",Cfe,[Tfe,Ht(he("textarea",{"onUpdate:modelValue":a[3]||(a[3]=l=>ge(i).error=l),class:"h-16 w-full text-red-500 bg-black text-xs mb-4 p-4 font-mono"},null,512),[[Kt,ge(i).error]])])):cn("v-if",!0),he("button",{class:"py-2 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:a[4]||(a[4]=(...l)=>ge(s)&&ge(s)(...l))}," Call Static ")])):cn("v-if",!0)}}),_fe=ma(Pfe,[["__file","/Users/philipp/Develop/aeternity/aepp-contracts/src/components/CallStatic.vue"]]),Afe={key:0,class:"w-full p-4 bg-gray-200 rounded-sm shadow mb-8"},kfe=he("h2",{class:"py-2"}," Call Function",-1),Efe={class:"flex -mx-2 mt-4 mb-4"},Qfe={class:"mx-2 w-1/4"},Nfe=he("label",{class:"text-xs block mb-1",for:"cGasPrice"},[Ji("Gas Price "),he("a",{class:"text-black no-underline",target:"_blank",href:"https://en.wikipedia.org/wiki/Atto-"}," (aetto)")],-1),Ife={class:"mx-2 w-1/4"},Rfe=he("label",{class:"text-xs block mb-1",for:"cAmount"},[Ji("Amount "),he("a",{class:"text-black no-underline",target:"_blank",href:"https://en.wikipedia.org/wiki/Atto-"}," (aetto)")],-1),Mfe={class:"mx-2 w-1/4"},Bfe=he("label",{class:"text-xs block mb-1",for:"cFee"},[Ji("Fee "),he("a",{class:"text-black no-underline",target:"_blank",href:"https://en.wikipedia.org/wiki/Atto-"}," (aetto)")],-1),zfe={class:"mx-2 w-1/4"},Ffe=he("label",{class:"text-xs block mb-1",for:"cGas"},"Gas Limit",-1),Dfe={class:"flex -mx-2 mt-4 mb-4"},Ufe={class:"mx-2 w-1/3"},qfe=he("label",{class:"text-xs block mb-1",for:"func"},"Function",-1),Lfe={class:"mx-2 w-2/3"},jfe=he("label",{class:"text-xs block mb-1",for:"args"},"Arguments",-1),Vfe={class:"mt-2 mb-2"},Zfe={class:"text-xs block mb-1"},Wfe={key:0,class:"w-full text-white bg-black text-xs mb-4 p-4 font-mono"},Xfe={key:0,class:"mt-2 mb-2"},Yfe=he("label",{class:"text-xs block mb-1 text-red"},"Errors",-1),Gfe=mo({__name:"Call",setup(r){const e=Qu(),{deployResult:t,callData:n,callResult:i}=xl(e),{callContract:s}=e;return(o,a)=>ge(t).final?(nr(),gr("div",Afe,[kfe,he("div",Efe,[he("div",Qfe,[Nfe,Ht(he("input",{id:"cGasPrice","onUpdate:modelValue":a[0]||(a[0]=l=>ge(n).options.gasPrice=l),class:"w-full p-2",type:"number",min:"1000000000",placeholder:"gas price"},null,512),[[Kt,ge(n).options.gasPrice,void 0,{number:!0}]])]),he("div",Ife,[Rfe,Ht(he("input",{id:"cAmount","onUpdate:modelValue":a[1]||(a[1]=l=>ge(n).options.amount=l),class:"w-full p-2",type:"number",min:"0",placeholder:"amount"},null,512),[[Kt,ge(n).options.amount,void 0,{number:!0}]])]),he("div",Mfe,[Bfe,Ht(he("input",{id:"cFee","onUpdate:modelValue":a[2]||(a[2]=l=>ge(n).options.fee=l),class:"w-full p-2",type:"number",placeholder:"auto"},null,512),[[Kt,ge(n).options.fee,void 0,{number:!0}]])]),he("div",zfe,[Ffe,Ht(he("input",{id:"cGas","onUpdate:modelValue":a[3]||(a[3]=l=>ge(n).options.gas=l),class:"w-full p-2",type:"number",min:"0",placeholder:"auto"},null,512),[[Kt,ge(n).options.gas,void 0,{number:!0}]])]),Ht(he("input",{"onUpdate:modelValue":a[4]||(a[4]=l=>ge(n).options.callData=l),class:"mx-2 w-1/2 p-2",type:"hidden"},null,512),[[Kt,ge(n).options.callData]])]),he("div",Dfe,[he("div",Ufe,[qfe,Ht(he("input",{id:"func","onUpdate:modelValue":a[5]||(a[5]=l=>ge(n).func=l),class:"w-full p-2",type:"text",placeholder:"function"},null,512),[[Kt,ge(n).func]])]),he("div",Lfe,[jfe,Ht(he("input",{id:"args","onUpdate:modelValue":a[6]||(a[6]=l=>ge(n).args=l),class:"w-full p-2",type:"text",placeholder:"comma separated args"},null,512),[[Kt,ge(n).args]])])]),he("div",Vfe,[he("label",Zfe,si(ge(i).info),1),ge(i).final?(nr(),gr("div",Wfe,si(ge(i).data),1)):cn("v-if",!0)]),ge(i).error?(nr(),gr("div",Xfe,[Yfe,Ht(he("textarea",{"onUpdate:modelValue":a[7]||(a[7]=l=>ge(i).error=l),class:"h-16 w-full text-red-500 bg-black text-xs mb-4 p-4 font-mono"},null,512),[[Kt,ge(i).error]])])):cn("v-if",!0),he("button",{class:"py-2 mr-2 rounded-full bg-black hover:bg-purple-500 text-white p-2 px-4",onClick:a[8]||(a[8]=(...l)=>ge(s)&&ge(s)(...l))}," Call Function ")])):cn("v-if",!0)}}),Hfe=ma(Gfe,[["__file","/Users/philipp/Develop/aeternity/aepp-contracts/src/components/Call.vue"]]),Kfe={class:"home container mx-auto"},Jfe={key:0},ehe={class:"flex mt-8 mb-8"},the=mo({__name:"Editor",setup(r){const e=Ap(),{status:t}=xl(e);return(n,i)=>(nr(),gr("div",Kfe,[xr(ffe),ge(t)===ge(Xa).CONNECTED?(nr(),gr("div",Jfe,[xr(Cue),he("div",ehe,[xr(Vue),xr(_fe)]),xr(Hfe)])):cn("v-if",!0)]))}}),rhe=ma(the,[["__file","/Users/philipp/Develop/aeternity/aepp-contracts/src/components/Editor.vue"]]),nhe=mo({__name:"App",setup(r){const e=Ap(),{initSdk:t}=e,n=Qu(),{initContractState:i}=n;return z0(async()=>{await t(),await i()}),(s,o)=>(nr(),tT(rhe))}}),ihe=ma(nhe,[["__file","/Users/philipp/Develop/aeternity/aepp-contracts/src/App.vue"]]),she=c5();N3(ihe).use(she).mount("#app");
